/*! For license information please see main.d5640b1e.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o,c;if(u(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=s(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return s(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var s=a[e];if(void 0===s)return!1;if("function"===typeof s)r(s,this,t);else{var c=s.length,l=p(s,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ee)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,Et,It,St=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Rt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var zt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Zt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Zt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Zt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,$t=null;function en(){if($t)return $t;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),yn=an(j({},fn,{relatedTarget:0})),mn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return En}var Sn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(On),Dn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Fr(e,0)}function Zn(e){if(H(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Xn=$n}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(Hn)){var t=[];Wn(t,Hn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Hn)}function ar(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Pr=Or[Dr];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=mn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Jn;else if(Kn(u))if(Yn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,qn=!0)),0<(m=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),$t=Xt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ei(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ni),Ii(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Si(Ci,e)):Ii(Ni),Si(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He($e,qi),i}finally{kt=t,Vi=!1}}return null}var zi=[],Ki=0,Wi=null,Gi=0,Hi=[],Qi=0,Zi=null,Ji=1,Yi="";function Xi(e,t){zi[Ki++]=Gi,zi[Ki++]=Wi,Wi=e,Gi=t}function $i(e,t,n){Hi[Qi++]=Ji,Hi[Qi++]=Yi,Hi[Qi++]=Zi,Zi=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Ji=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=zi[--Ki],zi[Ki]=null,Gi=zi[--Ki],zi[Ki]=null;for(;e===Zi;)Zi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ma.current;Ii(ma),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Ri(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Ri(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Xi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Za(!0),Ya=Za(!1),Xa={},$a=Ei(Xa),eo=Ei(Xa),to=Ei(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($a),Si($a,t)}function io(){Ii($a),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ii($a),Ii(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return qo(2048,8,e,t)}function Wo(e,t){return qo(4,2,e,t)}function Go(e,t){return qo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ho.bind(null,t,e),n)}function Zo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Zo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Jo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Zo,useDeferredValue:function(e){return Xo(To(),yo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Jo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Zo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Xo(t,yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Ja(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ds,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ds,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ds,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ds,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Ai:Ci.current;return a=Oi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Oi(t,c=Ri(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||qa(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Oi(t,s=Ri(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||qa(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Du,Pu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Ji,Hi[Qi++]=Yi,Hi[Qi++]=Zi,Ji=e.id,Yi=e.overflow,Zi=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Ri(t.type)&&Di(),Gu(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Z(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Ye()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zu=!1,Ju=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||$u(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Ju&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,hs(e,t,n),Ju=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Ec(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,vs(t,e),Ju=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:$u(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:$u(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Ec(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Zu;var c=Ju;if(Zu=o,(Ju=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Zu=u,Ju=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&is(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var _s,Es=Math.ceil,Is=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Rs=0,Ds=Ei(0),Ps=0,Ls=null,Ms=0,js=0,Fs=0,Us=null,Vs=null,Bs=0,qs=1/0,zs=null,Ks=!1,Ws=null,Gs=null,Hs=!1,Qs=null,Zs=0,Js=0,Ys=null,Xs=-1,$s=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Xs?Xs:Xs=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===$s&&($s=vt()),$s):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Js)throw Js=0,Ys=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(js|=n),4===Ps&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Ye()+500,Ui&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&qi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,$s=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(zs=null,qs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),t);break}wc(e,Vs,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),r);break}wc(e,Vs,zs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Fs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,zs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Ye()+500,Ui&&qi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&qi()}}function fc(){Rs=Ds.current,Ii(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Dc(e.current,null),Os=Rs=t,Ps=0,Ls=null,Fs=js=Ms=0,Vs=Us=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Ps=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ns||0===(268435455&Ms)&&0===(268435455&js)||uc(Ns,Os)}function yc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(zs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ps}function mc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!Ze();)kc(As)}function kc(e){var t=_s(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Rs)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ps=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ss.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Je(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,Zs=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&Zs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ys?Js++:(Js=0,Ys=e):Js=0,qi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt(Zs),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Zs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ps||3===Ps&&(130023424&Os)===Os&&500>Ye()-Bs?hc(e,0):Fs|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Si(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),ja(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),_u(e,t,r,i=ya(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),zu(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),za(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Jc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Jc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(qs=Ye()+500,qi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},867:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(791)),a=u(n(7)),o=u(n(694));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(u,e);var t,n,r,a=f(u);function u(){var e;s(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=a.call.apply(a,[this].concat(n))),"componentDidMount",(function(){var t=e.props.timeOut;0!==t&&(e.timer=setTimeout(e.requestHide,t))})),v(d(e),"componentWillUnmount",(function(){e.timer&&clearTimeout(e.timer)})),v(d(e),"handleClick",(function(){var t=e.props.onClick;t&&t(),e.requestHide()})),v(d(e),"requestHide",(function(){var t=e.props.onRequestHide;t&&t()})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.type,n=e.message,r=this.props.title,a=(0,o.default)(["notification","notification-".concat(t)]);return r=r?i.default.createElement("h4",{className:"title"},r):null,i.default.createElement("div",{className:a,onClick:this.handleClick},i.default.createElement("div",{className:"notification-message",role:"alert"},r,i.default.createElement("div",{className:"message"},n)))}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(i.default.Component);v(y,"propTypes",{type:a.default.oneOf(["info","success","warning","error"]),title:a.default.node,message:a.default.node,timeOut:a.default.number,onClick:a.default.func,onRequestHide:a.default.func}),v(y,"defaultProps",{type:"info",title:null,message:null,timeOut:5e3,onClick:function(){},onRequestHide:function(){}});var m=y;t.default=m},4:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(791)),a=s(n(7)),o=s(n(332)),u=s(n(271));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(s,e);var t,n,r,a=h(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(p(e=a.call.apply(a,[this].concat(n))),"state",{notifications:[]}),y(p(e),"componentDidMount",(function(){o.default.addChangeListener(e.handleStoreChange)})),y(p(e),"componentWillUnmount",(function(){o.default.removeChangeListener(e.handleStoreChange)})),y(p(e),"handleStoreChange",(function(t){e.setState({notifications:t})})),y(p(e),"handleRequestHide",(function(e){o.default.remove(e)})),e}return t=s,(n=[{key:"render",value:function(){var e=this.state.notifications,t=this.props,n=t.enterTimeout,r=t.leaveTimeout;return i.default.createElement(u.default,{enterTimeout:n,leaveTimeout:r,notifications:e,onRequestHide:this.handleRequestHide})}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.default.Component);y(m,"propTypes",{enterTimeout:a.default.number,leaveTimeout:a.default.number}),y(m,"defaultProps",{enterTimeout:400,leaveTimeout:400});var g=m;t.default=g},332:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(465);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l="change",f="info",h="success",d="warning",p="error",v=new(function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(s,e);var t,n,r,i=u(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).listNotify=[],e}return t=s,(n=[{key:"create",value:function(e){var t={id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),type:"info",title:null,message:null,timeOut:5e3};e.priority?this.listNotify.unshift(Object.assign(t,e)):this.listNotify.push(Object.assign(t,e)),this.emitChange()}},{key:"info",value:function(e,t,n,r,i){this.create({type:f,message:e,title:t,timeOut:n,onClick:r,priority:i})}},{key:"success",value:function(e,t,n,r,i){this.create({type:h,message:e,title:t,timeOut:n,onClick:r,priority:i})}},{key:"warning",value:function(e,t,n,r,i){this.create({type:d,message:e,title:t,timeOut:n,onClick:r,priority:i})}},{key:"error",value:function(e,t,n,r,i){this.create({type:p,message:e,title:t,timeOut:n,onClick:r,priority:i})}},{key:"remove",value:function(e){this.listNotify=this.listNotify.filter((function(t){return e.id!==t.id})),this.emitChange()}},{key:"removeAll",value:function(){this.listNotify.length=0,this.emitChange()}},{key:"emitChange",value:function(){this.emit(l,this.listNotify)}},{key:"addChangeListener",value:function(e){this.addListener(l,e)}},{key:"removeChangeListener",value:function(e){this.removeListener(l,e)}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.EventEmitter));t.default=v},271:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(791)),a=c(n(7)),o=n(409),u=c(n(694)),s=c(n(867));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,n,r,a=d(c);function c(){var e;l(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(v(e=a.call.apply(a,[this].concat(n))),"handleRequestHide",(function(t){return function(){var n=e.props.onRequestHide;n&&n(t)}})),e}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.notifications,r=t.enterTimeout,a=t.leaveTimeout,c=(0,u.default)("notification-container",{"notification-container-empty":0===n.length}),l=n.map((function(t){var n=t.id||(new Date).getTime();return i.default.createElement(o.CSSTransition,{key:n,classNames:"notification",timeout:{enter:r,exit:a}},i.default.createElement(s.default,{type:t.type,title:t.title,message:t.message,timeOut:t.timeOut,onClick:t.onClick,onRequestHide:e.handleRequestHide(t)}))}));return i.default.createElement("div",{className:c},i.default.createElement(o.TransitionGroup,null,l))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.default.Component);m(g,"propTypes",{notifications:a.default.array,onRequestHide:a.default.func,enterTimeout:a.default.number,leaveTimeout:a.default.number}),m(g,"defaultProps",{notifications:[],onRequestHide:function(){},enterTimeout:400,leaveTimeout:400});var k=g;t.default=k},221:function(e,t,n){"use strict";Object.defineProperty(t,"mh",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"fn",{enumerable:!0,get:function(){return a.default}});var r=o(n(271)),i=o(n(4)),a=o(n(332));function o(e){return e&&e.__esModule?e:{default:e}}r.default},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},409:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.r(t),n.d(t,{CSSTransition:function(){return _},ReplaceTransition:function(){return P},SwitchTransition:function(){return B},Transition:function(){return b},TransitionGroup:function(){return A},config:function(){return l}});var i=n(366),a=n(611);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,a.Z)(e,t)}function u(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(791),c=n(164),l={disabled:!1},f=s.createContext(null),h=function(e){return e.scrollTop},d="unmounted",p="exited",v="entering",y="entered",m="exiting",g=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=p,r.appearStatus=v):i=y:i=t.unmountOnExit||t.mountOnEnter?d:p,r.state={status:i},r.nextCallback=null,r}o(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==v&&n!==y&&(t=v):n!==v&&n!==y||(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===v){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:c.findDOMNode(this);n&&h(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[c.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||l.disabled?this.safeSetState({status:y},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:v},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:y},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:c.findDOMNode(this);t&&!l.disabled?(this.props.onExit(r),this.safeSetState({status:m},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(f.Provider,{value:null},"function"===typeof n?n(e,r):s.cloneElement(s.Children.only(n),r))},t}(s.Component);function k(){}g.contextType=f,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:k,onEntering:k,onEntered:k,onExit:k,onExiting:k,onExited:k},g.UNMOUNTED=d,g.EXITED=p,g.ENTERING=v,g.ENTERED=y,g.EXITING=m;var b=g,w=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=u(n.className,r):n.setAttribute("class",u(n.className&&n.className.baseVal||"",r)));var n,r}))},x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}o(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&h(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&w(e,r),i&&w(e,i),a&&w(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return s.createElement(b,r({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);x.defaultProps={classNames:""},x.propTypes={};var _=x,E=n(326);function I(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,s.isValidElement)(e)?t(e):e}(e)})),n}function S(e,t,n){return null!=n[t]?n[t]:e.props[t]}function T(e,t,n){var r=I(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(i).forEach((function(a){var o=i[a];if((0,s.isValidElement)(o)){var u=a in t,c=a in r,l=t[a],f=(0,s.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,s.isValidElement)(l)&&(i[a]=(0,s.cloneElement)(o,{onExited:n.bind(null,o),in:l.props.in,exit:S(o,"exit",e),enter:S(o,"enter",e)})):i[a]=(0,s.cloneElement)(o,{in:!1}):i[a]=(0,s.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:S(o,"exit",e),enter:S(o,"enter",e)})}})),i}var C=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},N=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,E.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}o(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,I(n.children,(function(e){return(0,s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:S(e,"appear",n),enter:S(e,"enter",n),exit:S(e,"exit",n)})}))):T(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=I(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=r({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,i.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=C(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.createElement(f.Provider,{value:a},o):s.createElement(f.Provider,{value:a},s.createElement(t,r,o))},t}(s.Component);N.propTypes={},N.defaultProps={component:"div",childFactory:function(e){return e}};var A=N,O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}o(t,e);var n=t.prototype;return n.handleLifecycle=function(e,t,n){var r,i=this.props.children,a=s.Children.toArray(i)[t];if(a.props[e]&&(r=a.props)[e].apply(r,n),this.props[e]){var o=a.props.nodeRef?void 0:c.findDOMNode(this);this.props[e](o)}},n.render=function(){var e=this.props,t=e.children,n=e.in,r=(0,i.Z)(e,["children","in"]),a=s.Children.toArray(t),o=a[0],u=a[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,s.createElement(A,r,n?s.cloneElement(o,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):s.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(s.Component);O.propTypes={};var R,D,P=O;var L="out-in",M="in-out",j=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},F=((R={})[L]=function(e){var t=e.current,n=e.changeState;return s.cloneElement(t,{in:!1,onExited:j(t,"onExited",(function(){n(v,null)}))})},R[M]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,s.cloneElement(r,{in:!0,onEntered:j(r,"onEntered",(function(){n(v)}))})]},R),U=((D={})[L]=function(e){var t=e.children,n=e.changeState;return s.cloneElement(t,{in:!0,onEntered:j(t,"onEntered",(function(){n(y,s.cloneElement(t,{in:!0}))}))})},D[M]=function(e){var t=e.current,n=e.children,r=e.changeState;return[s.cloneElement(t,{in:!1,onExited:j(t,"onExited",(function(){r(y,s.cloneElement(n,{in:!0}))}))}),s.cloneElement(n,{in:!0})]},D),V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={status:y,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}o(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===v&&e.mode===M?{status:v}:!t.current||(n=t.current,r=e.children,n===r||s.isValidElement(n)&&s.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:s.cloneElement(e.children,{in:!0})}:{status:m};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,a=i.status,o=i.current,u={children:n,current:o,changeState:this.changeState,status:a};switch(a){case v:e=U[r](u);break;case m:e=F[r](u);break;case y:e=o}return s.createElement(f.Provider,{value:{isMounting:!this.appeared}},e)},t}(s.Component);V.propTypes={},V.defaultProps={mode:L};var B=V},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},484:function(e,t,n){"use strict";var r=n(781).qC;t.Uo="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__},781:function(e,t,n){"use strict";n.d(t,{UY:function(){return l},jB:function(){return c},md:function(){return h},qC:function(){return f}});var r=n(413);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"===typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var c=function e(t,n,r){var o;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(i(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(i(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(i(2));var c=t,l=n,f=[],h=f,d=!1;function p(){h===f&&(h=f.slice())}function v(){if(d)throw new Error(i(3));return l}function y(e){if("function"!==typeof e)throw new Error(i(4));if(d)throw new Error(i(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(i(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),f=null}}}function m(e){if(!s(e))throw new Error(i(7));if("undefined"===typeof e.type)throw new Error(i(8));if(d)throw new Error(i(9));try{d=!0,l=c(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error(i(10));c=e,m({type:u.REPLACE})}function k(){var e,t=y;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return m({type:u.INIT}),(o={dispatch:m,subscribe:y,getState:v,replaceReducer:g})[a]=k,o};function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"===typeof e[a]&&(n[a]=e[a])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:u.INIT}))throw new Error(i(12));if("undefined"===typeof n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(c){o=c}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,a={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){t&&t.type;throw new Error(i(14))}a[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(e).length)?a:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(i(15))},o={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},u=t.map((function(e){return e(o)}));return a=f.apply(void 0,u)(n.dispatch),(0,r.Z)((0,r.Z)({},n),{},{dispatch:a})}}}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,I=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(E=!1,I=null)}}else E=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=A,_=function(){R.postMessage(null)}}else _=function(){m(A,0)};function D(e){I=e,E||(E=!0,_())}function P(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(S),S=-1):y=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)},326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".2b165e92.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="tasty:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/tasty/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunktasty=self.webpackChunktasty||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ta},SDK_VERSION:function(){return ho},_DEFAULT_ENTRY_NAME:function(){return $a},_addComponent:function(){return ro},_addOrOverwriteComponent:function(){return io},_apps:function(){return to},_clearComponents:function(){return so},_components:function(){return no},_getProvider:function(){return oo},_registerComponent:function(){return ao},_removeServiceInstance:function(){return uo},deleteApp:function(){return mo},getApp:function(){return vo},getApps:function(){return yo},initializeApp:function(){return po},onLog:function(){return bo},registerVersion:function(){return ko},setLogLevel:function(){return wo}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=n(611);function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,v.Z)(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var b,w=n(326);function x(e,t){if(t&&("object"===k(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,w.Z)(e)}function _(e){var t=g();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function E(e,t,n){return E=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,v.Z)(i,n.prototype),i},E.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,v.Z)(n,e)},I(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(b||(b={}));var T,C="popstate";function N(e){return{usr:e.state,key:e.key}}function A(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function O(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:O(e);return new URL(n,t)}function P(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=b.Pop,f=null;function h(){l=b.Pop,f&&f({action:l,location:d.location})}var d={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(C,h),f=e,function(){o.removeEventListener(C,h),f=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=D(O(e));return S({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){l=b.Push;var r=A(d.location,e,t);n&&n(r,e);var i=N(r),a=d.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:d.location})},replace:function(e,t){l=b.Replace;var r=A(d.location,e,t);n&&n(r,e);var i=N(r),a=d.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:d.location})},go:function(e){return c.go(e)}};return d}function L(e,t,n){void 0===n&&(n="/");var r=z(("string"===typeof t?R(t):t).pathname||"/",n);if(null==r)return null;var i=M(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=V(i[o],q(r));return a}function M(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(K(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=Z([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(K(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),M(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:U(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));var j=/^:\w+$/,F=function(e){return"*"===e};function U(e,t){var n=e.split("/"),r=n.length;return n.some(F)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!F(e)})).reduce((function(e,t){return e+(j.test(t)?3:""===t?1:10)}),r)}function V(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=B({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Z([i,l.pathname]),pathnameBase:J(Z([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Z([i,l.pathnameBase]))}return a}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);W("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return W(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function q(e){try{return decodeURI(e)}catch(t){return W(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function W(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function G(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function H(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Q(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=R(e):(K(!(i=S({},e)).pathname||!i.pathname.includes("?"),G("?","pathname","search",i)),K(!i.pathname||!i.pathname.includes("#"),G("#","pathname","hash",i)),K(!i.search||!i.search.includes("#"),G("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?R(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Y(a),hash:X(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var Z=function(e){return e.join("/").replace(/\/\/+/g,"/")},J=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Y=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},X=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},$=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(I(Error));var ee=p((function e(t,n,r){h(this,e),this.status=t,this.statusText=n||"",this.data=r}));function te(e){return e instanceof ee}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ne=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(f(ne)));function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}var ie="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ae=t.useState,oe=t.useEffect,ue=t.useLayoutEffect,se=t.useDebugValue;function ce(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ie(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var le=t.createContext(null);var fe=t.createContext(null);var he=t.createContext(null);var de=t.createContext(null);var pe=t.createContext(null);var ve=t.createContext(null);var ye=t.createContext({outlet:null,matches:[]});var me=t.createContext(null);function ge(){return null!=t.useContext(ve)}function ke(){return ge()||K(!1),t.useContext(ve).location}function be(){ge()||K(!1);var e=t.useContext(pe),n=e.basename,r=e.navigator,i=t.useContext(ye).matches,a=ke().pathname,o=JSON.stringify(H(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=Q(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:Z([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function we(){var e=t.useContext(ye).matches,n=e[e.length-1];return n?n.params:{}}function xe(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ye).matches,a=ke().pathname,o=JSON.stringify(H(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Q(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function _e(){var e=function(){var e,n=t.useContext(me),r=Ne(Ie.UseRouteError),i=t.useContext(ye),a=i.matches[i.matches.length-1];if(n)return n;return i||K(!1),!a.route.id&&K(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=te(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var Ee,Ie,Se=function(e){y(r,e);var n=_(r);function r(e){var t;return h(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return p(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(me.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Te(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(le);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(ye.Provider,{value:n},i)}function Ce(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||K(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(_e,null):null,l=function(){return t.createElement(Te,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,u+1))}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(Se,{location:r.location,component:c,error:s,children:l()}):l()}),null)}function Ne(e){var n=t.useContext(he);return n||K(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(Ee||(Ee={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ie||(Ie={}));var Ae;function Oe(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;ge()||K(!1);var o=t.useContext(he),u=be();return t.useEffect((function(){o&&"idle"!==o.navigation.state||u(n,{replace:r,state:i,relative:a})})),null}function Re(e){K(!1)}function De(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?b.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;ge()&&K(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=R(o));var p=o,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,k=p.hash,w=void 0===k?"":k,x=p.state,_=void 0===x?null:x,E=p.key,I=void 0===E?"default":E,S=t.useMemo((function(){var e=z(y,h);return null==e?null:{pathname:e,search:g,hash:w,state:_,key:I}}),[h,y,g,w,_,I]);return null==S?null:t.createElement(pe.Provider,{value:d},t.createElement(ve.Provider,{children:a,value:{location:S,navigationType:s}}))}function Pe(e){var n=e.children,r=e.location,i=t.useContext(fe);return function(e,n){ge()||K(!1);var r,i=t.useContext(he),a=t.useContext(ye).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,ke());if(n){var l,f="string"===typeof n?R(n):n;"/"===s||(null==(l=f.pathname)?void 0:l.startsWith(s))||K(!1),r=f}else r=c;var h=r.pathname||"/",d=L(e,{pathname:"/"===s?h:h.slice(s.length)||"/"}),p=Ce(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Z([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Z([s,e.pathnameBase])})})),a,i||void 0);return n&&p?t.createElement(ve.Provider,{value:{location:re({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:b.Pop}},p):p}(i&&!n?i.router.routes:Me(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ae||(Ae={}));var Le=new Promise((function(){}));t.Component;function Me(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Re&&K(!1),e.props.index&&e.props.children&&K(!1);var a=[].concat(f(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Me(e.props.children,a)),r.push(o)}else r.push.apply(r,Me(e.props.children,n))})),r}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ve=["aria-current","caseSensitive","className","end","style","to","children"];function Be(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),P((function(e,t){var n=e.location;return A("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:O(t)}),null,n)));var u=o.current,s=c(t.useState({action:u.action,location:u.location}),2),l=s[0],f=s[1];return t.useLayoutEffect((function(){return u.listen(f)}),[u]),t.createElement(De,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:u})}var qe=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=Fe(e,Ue),h=function(e,n){var r=(void 0===n?{}:n).relative;ge()||K(!1);var i=t.useContext(pe),a=i.basename,o=i.navigator,u=xe(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:Z([a,c])),o.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=be(),l=ke(),f=xe(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:O(l)===O(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(c,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return t.createElement("a",je({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:s}))}));var ze=t.forwardRef((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Fe(e,Ve),v=xe(h,{relative:p.relative}),y=ke(),m=t.useContext(he),g=v.pathname,k=y.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(k=k.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase());var w,x=k===g||!l&&k.startsWith(g)&&"/"===k.charAt(g.length),_=null!=b&&(b===g||!l&&b.startsWith(g)&&"/"===b.charAt(g.length)),E=x?i:void 0;w="function"===typeof s?s({isActive:x,isPending:_}):[s,x?"active":null,_?"pending":null].filter(Boolean).join(" ");var I="function"===typeof f?f({isActive:x,isPending:_}):f;return t.createElement(qe,je({},p,{"aria-current":E,className:w,ref:n,style:I,to:h}),"function"===typeof d?d({isActive:x,isPending:_}):d)}));var Ke,We;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ke||(Ke={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(We||(We={}));var Ge=n(221),He="style_switchCheckbox__tidyk",Qe="style_switch__wVjJ8",Ze="style_slider__-T+qf",Je=n(184),Ye=function(e){var t=e.inputChecked,n=e.onChange;return(0,Je.jsx)("div",{className:He,children:(0,Je.jsxs)("label",{className:Qe,children:[(0,Je.jsx)("input",{type:"checkbox",onChange:n,checked:t,placeholder:"checkbox"}),(0,Je.jsx)("span",{className:Ze})]})})},Xe=n.p+"static/media/nature.5bbc7e9f5e6d33f88441.png",$e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAH/ElEQVR4nO2aTWxU1xXHf+feZzAEl5IWPDMKzYYsKhxFSkgdknEsNyRASJR0AUERjbppsqhUpcqiUVU1SG3VtFLaZSU2rRq6CEhJJQQmah1kPCYfYlGpiURKIiE+ZsyXKMUh4Hn3nS7mjT2eeeN582bGDGr+q5l777v3/M8959xz7nvwFf6/IUkf1Mn+NYGaQwoPtFOgBMh52cJQ+Y+O33WPs243sDFsOmaN3S0Pn/0s6uFECgjJjykMJHm+3fCyBQGYmegfNGIOA1+vGnLFOjsow2dP1jzb7GJR5MsCLDb8XFrLv0vk7bugK0E/s6qb8SRwTv4IbHE2+BXwXPUcppkFK8kLfNw6hfZgPnkAWedjX5CNU6esZ35YaguyUc/GVkA1eSPBY62L3h5U7PxbwC7AF9HXihOZ3dzUBa0zlgKiyMsj5y+0Q/j2QFeCXLU99kdetvBXkFklOBu8VxpjclFPNlRAt5KfmegfrPh7E3SlK+pBPb5qpZfNvwX8oNQl64D/WGd+HjXPggrQo6nVgdp/KAwonDBF//HuIJ9+wIgZBUBkv3XBt0E+Bx0Mbva+p0dTq4GtpdFyNdBgS9QJAAucAqWdlzFFBwQ+thI8JiMXu4B8/6ARmfV5O1PYJSP4mst818ERVe53xpwsu0WgbvOSofMf1psv0gK62ewrA54tTu2SEXwAyeZPWxdsInSHOOShjgWEGd4AgMKAU3Pez6XbTqgZLEQeQI/gOSu/AZbGJQ/1LKC59HaiibGJoEdTqxuS91JvgjzXDHlokAneqgyvBq63qObmOVF92/pTL0aSF9nZLHlIkAovJnSyfw2e52Tw1GVgfU1/i+ShzQrQyf41TuVvIFe8bGFbK3PNTPQPOjWHKbpLwD01a+3DtkoemlCAP5GeRHh4oTFO+RJYBvJBs4JUYl7AU96p7p+/85CUPDRjAQ3Ih1imcMIrFr+XRBgoJzmMgq5EZL8tFl6s7Nd9WNeT/hOws9yWlDwkcIHqwFhdHnsSDCdNmOolObNrzUZ7doJcnav+kqNpBfi5zPugnpVgG0D13UBlwhTHbWqhLHjUVfi8EdOSq0GT9wElSdQAGwI1Yw3vBoSgeZHikW/F7CvRtAVY1acCMWOK3gugcMIW/cddj1eombzirq4eQp//O7AKkf01Zj/P59tLHhJYgDw6ddGI2wQcB46HPj+VZPHQ58eAVSWfzz9fs/Pp1F5gVyfIQ8I8IPTzB1tZuCbaR+/8n+nQzpeRIAjOXUQ2HBsrCOoBO1Oo3fmKaN8p8tCcC0ReKVVhfmEUKwjKd+hNz2Z6egTP9aT2diLgRa4e1Vje5U4VQ/5kZh+q24GLwGrgvLWMcKNw0vWk9sat6tohZ/PHYIvQ45nlqD4JqFWTBQ4D/c5xxPWk3k5S0raCtipAJ/vX+LnUMT+XPlhvjPsy2AbcAfKhDJ37t3X2x5QsoR/k6SbJ52jxPmLxiyFjtqMKqoGfSx1zuIeYc8VLgbqnqsn7RzPPYvVllAcBBfkIdb+Pk2c0QnwLiFkMlS5Q3TNRnXrsrmWh+YfzyUbgOsg+RLfbXrm7mnxxMvU6Rt9BGQaWA3eAjiDmQDGX/nVs+eug7cXQgheozvQiDuALkINIsN8uNYdkQ/561HB/MvMMqj8FZgR5zWD/QvFGECzpeUFVfynwM38i84E3lD/QLI9ZPs0+0Eox5ChWzKQ7UNnhbih+Lp2LNGfVlwFE5Rd2KP/bip7fuYmMqOjrCD8BEiugW4qhesnVBgAj9s3qjrk23RBzjUjc8mKoAVYASPZMvrpDsmfy4VV9XysLNK0AeXTqok72b3JqDgJ4EmyTkYsXWn1v4OfSo8CWOn0Lpt8R/aNetvBknHVvWTFUCT20bqnji0jyCbFVP1m/RNZ/MtNo4K0uhkrBb9n1shlf9rKFb1avVS/Vjer3c+lLwDe4cOVrwKVGMtYLglEZVieKoZIye4MV4f9rMdZohNIcxsWKDZEWEBW8kgS0uM/MqPZZBEFaVoDAtAIzPaxoOJgueTNksH2gqGq1AnLUPyIj+xW9BhLO2RiRCgh9N2hHrh0LGu6WMF3Z3Gj96P6yFWlyBUQFrphX3NEZXQPInLBtiwGirSggCvGKochP0RpD+0oFYXQM0PHMWmf1D8AToSxjVuVVyeY/jRB0OvSKzsSARkfSvLb6VjPPUgTTpygQTFcPDMn/E7hzrpFnHTqs45n7ZDh/pnK8qB5TYYdiI5RTi87eCNU/BucrS3VFqbHWAsKdvxMYtZ5Za518CxgFVjmPN6rH26HCHi9bWN7zyLn344jY0VMgbjwIoE8AEx0DngCwTl6S7LmzADqeeclZPY3q5lZlXPQ7wSjMBcEF8oClEnEc1rbNHM3c7+fSp/yJ9PfjrN0VCgBTcgGpjQEIYwDOD/boeGZtGBP2hL3v1sxkgnuBuxGJ9SlvVyRCLGABVuVVhw4DW53V0xVdl60nr9RMJTJdijDtPgZDtP/N0ByigqBk85/qeOY+5/HGnM/LYevJK/JQKSZUzyElDbRdATkan/MJ3gzNG1/rAkB41O2IOcm18BuD9uYBnSyGXC79L4WBQN1/m12jGoH401YNgsSygK4Ighqa6xJMy6nwEim5kcZ0ga5QAGVhPRPpAk3B2LISb59ymFBYVwwutXq36IqzYee2soCPOjBn698KLxYW7d4hAt1iAbcMsUvbLkaiS5gyFroVvl1wO23WV+g6/A/erU/ODL6TwQAAAABJRU5ErkJggg==";var et=n.p+"static/media/Iconlogout.e08b07c036d3bd477cc183a59d179020.svg",tt=["title","titleId"];function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(this,arguments)}function rt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function it(e,n){var r=e.title,i=e.titleId,a=rt(e,tt);return t.createElement("svg",nt({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 50",width:"30px",height:"30px",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("g",{id:"surface45442298"},t.createElement("path",{style:{stroke:"none"},d:"M 12.8125 2 C 12.335938 2.089844 11.992188 2.511719 12 3 L 12 47 C 11.996094 47.359375 12.1875 47.691406 12.496094 47.871094 C 12.804688 48.054688 13.1875 48.054688 13.5 47.875 L 25 41.15625 L 36.5 47.875 C 36.8125 48.054688 37.195312 48.054688 37.503906 47.871094 C 37.8125 47.691406 38.003906 47.359375 38 47 L 38 3 C 38 2.449219 37.550781 2 37 2 L 13 2 C 12.96875 2 12.9375 2 12.90625 2 C 12.875 2 12.84375 2 12.8125 2 Z M 14 4 L 36 4 L 36 45.25 L 25.5 39.125 C 25.191406 38.945312 24.808594 38.945312 24.5 39.125 L 14 45.25 Z M 14 4 "})))}var at=t.forwardRef(it);n.p;var ot,ut=n.p+"static/media/save copy.54fb1f81fa57f3f6d11d13bdd1c6c024.svg",st=["title","titleId"];function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}function lt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ft(e,n){var r=e.title,i=e.titleId,a=lt(e,st);return t.createElement("svg",ct({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100.354 100.352",style:{enableBackground:"new 0 0 100.354 100.352"},xmlSpace:"preserve",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,ot||(ot=t.createElement("path",{d:"M67.853,16.194c-8.024,0-14.924,4.909-17.852,11.882c-2.93-6.973-9.833-11.882-17.861-11.882 c-10.673,0-19.357,8.681-19.357,19.352c0,4.118,1.33,8.088,3.88,11.525L48.83,87.243c0.285,0.355,0.715,0.562,1.171,0.562 c0,0,0.001,0,0.001,0c0.456,0,0.887-0.208,1.171-0.564l32.863-41.184c0.031-0.04,0.062-0.082,0.09-0.125 c2.023-3.152,3.093-6.744,3.093-10.386C87.22,24.875,78.531,16.194,67.853,16.194z M81.643,44.248L49.999,83.904L19.038,45.24 c-2.13-2.873-3.256-6.225-3.256-9.694c0-9.017,7.338-16.352,16.357-16.352c9.022,0,16.362,7.335,16.362,16.352 c0,0.829,0.671,1.5,1.5,1.5s1.5-0.671,1.5-1.5c0-9.017,7.335-16.352,16.352-16.352c9.024,0,16.367,7.335,16.367,16.352 C84.22,38.589,83.329,41.596,81.643,44.248z"})))}var ht=t.forwardRef(ft),dt=(n.p,"style_container__QEmDz"),pt="style_postsPanel__FjaOi",vt="style_allPosts__Um1nc",yt="style_linkContainer__+djUs",mt="style_link__MhEYA",gt="style_dark__iAOl4",kt="style_loginToggle__k3p9v",bt="style_logoutImage__aIejJ",wt="style_logOut__xPP8y",xt=function(){var e=(0,t.useContext)(BR),n=e.isDark,r=e.setIsDark,i=e.user,a=e.setUser,o=be(),u=function(){r(!n)};return(0,Je.jsx)(Je.Fragment,{children:i?(0,Je.jsxs)("div",{className:dt,children:[(0,Je.jsx)("div",{className:pt,children:(0,Je.jsxs)("div",{className:vt,children:[(0,Je.jsx)(qe,{to:"/category",children:"\u0412\u0441\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),(0,Je.jsx)(qe,{to:"/myshoplist",children:"\u041c\u043e\u0439 \u0448\u043e\u043f\u043f\u0438\u043d\u0433 \u043b\u0438\u0441\u0442"})]})}),(0,Je.jsxs)("div",{className:kt,children:[(0,Je.jsx)(Ye,{inputChecked:n,onChange:u}),(0,Je.jsx)("button",{className:wt,onClick:function(){o("/category"),a(!1),localStorage.clear()},children:"\u0412\u044b\u0439\u0442\u0438"}),(0,Je.jsx)("img",{className:bt,src:et,alt:"icon logout"})]})]}):(0,Je.jsxs)("div",{className:yt,children:[(0,Je.jsxs)("ul",{children:[(0,Je.jsx)("li",{className:mt,children:(0,Je.jsx)(qe,{to:"/category",children:"\u0412\u0441\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})}),(0,Je.jsx)("li",{className:mt,children:(0,Je.jsx)(qe,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})}),(0,Je.jsx)("li",{className:mt,children:(0,Je.jsx)(qe,{to:"/registration",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]}),(0,Je.jsx)("div",{className:gt,children:(0,Je.jsx)(Ye,{inputChecked:n,onChange:u})})]})})},_t={header:"style_header__Xt+-s",headerMax:"style_headerMax__KCUx1",visible:"style_visible__T2gYp",burgerMenu:"style_burgerMenu__rRxB3",linear:"style_linear__tYgVy",open:"style_open__c17IH",navbar:"style_navbar__WwLHk","not-checked-anim":"style_not-checked-anim__fE+Q-",navOpen:"style_navOpen__FlYrY","checked-anim":"style_checked-anim__4PGWP",burgerMenuNav:"style_burgerMenuNav__hKlPl"},Et=function(){var e=c((0,t.useState)(!1),2),n=e[0],r=e[1],i=c((0,t.useState)("linear"),2),a=i[0],o=i[1],u=c((0,t.useState)("header"),2),s=u[0],l=u[1],f=c((0,t.useState)("navBar"),2),h=f[0],d=f[1],p=function(){o("open"),r(!0),l("headerMax"),d("navOpen")},v=function(){d("navbar"),l("header"),o("linear"),setTimeout((function(){r(!1)}),500)};return(0,Je.jsxs)("header",{className:_t[s],children:[(0,Je.jsx)("div",{className:_t.visible,children:(0,Je.jsx)("div",{className:_t.burgerMenu,onClick:function(){n?v():p()},children:(0,Je.jsx)("div",{className:_t[a]})})}),n?(0,Je.jsxs)("nav",{className:_t[h],children:[(0,Je.jsx)(xt,{})," "]}):null]})},It="style_container__ZOdAl",St="style_darkContainer__QPbvv",Tt=function(e){var n=e.children,r=(0,t.useContext)(BR).isDark;return(0,Je.jsx)("div",{className:r?St:It,children:n})},Ct="style_button__+cV1R",Nt="style_btnMain__uBXDh",At="style_btnShop__gig4h",Ot="style_btnShowMore__zkXVT",Rt="style_btnTabActive__CDHJ-",Dt="style_btnTabUnactive__ityxx",Pt="style_btnDelete__zp-xJ",Lt="style_btnSave__iVCVg",Mt="style_btnBuy__NTrgw",jt="style_btnGoogle__i8xoR",Ft="style_btnBack__S9AQ2",Ut="style_btnShopList__omnaF",Vt="style_btnCategory__Bh9wI",Bt=function(e){return(0,Je.jsx)("button",{className:"".concat(Ct," ").concat((t=e.type,"btnMain"===t?Nt:"btnBack"===t?Ft:"btnShop"===t?At:"btnShowMore"===t?Ot:"btnTabActive"===t?Rt:"btnTabUnactive"===t?Dt:"btnCategory"===t?Vt:"btnDelete"===t?Pt:"btnSave"===t?Lt:"btnBuy"===t?Mt:"btnShopList"===t?Ut:"btnGoogle"===t?jt:void 0)),disabled:e.disabled,onClick:e.onClick,children:e.label});var t},qt=n(366);var zt="style_container__bdbaB",Kt="style_front__J1cYX",Wt="style_back__+Dobr",Gt="style_selectedItem__jy9fc",Ht="style_selectedFront__t3ko6",Qt="style_image__ckV3J",Zt="style_selectedImage__IFC+a",Jt="style_imgBack__h8Njc",Yt="style_text__jjfc2",Xt="style_selectedText__5mJCD",$t="style_textBack__Lx+E1",en="style_info__Tch26",tn="style_infoWithoutUser__xKzkY",nn="style_icons__PGmaj",rn="style_about__ndHW3",an="style_ico__9+NJH",on="style_icoWithoutUser__qqYkl",un="style_time__2o+6G",sn="style_kcal__ALT6H",cn="style_likeAndSave__LvHA-",ln=n(248),fn=n(327),hn=n(164);var dn=function(e){e()},pn=function(){return dn},vn=(0,t.createContext)(null);function yn(){return(0,t.useContext)(vn)}var mn=function(){throw new Error("uSES not initialized!")},gn=mn,kn=function(e,t){return e===t};function bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,n=e===vn?yn:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kn;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=gn(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var wn=bn();n(110),n(900);var xn={notify:function(){},get:function(){return[]}};function _n(e,t){var n,r=xn;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=pn(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=xn)},getListeners:function(){return r}};return o}var En=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var In=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=_n(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);En((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||vn;return t.createElement(s.Provider,{value:o},i)};function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,n=e===vn?yn:function(){return(0,t.useContext)(e)};return function(){return n().store}}var Tn=Sn();function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=e===vn?Tn:Sn(e);return function(){return t().dispatch}}var Nn,An=Cn();!function(e){gn=e}(fn.useSyncExternalStoreWithSelector),function(e){e}(ln.useSyncExternalStore),Nn=hn.unstable_batchedUpdates,dn=Nn;var On=function(e){return fetch("https://62b0c0c4e460b79df04c901b.mockapi.io/api/selected?page=".concat(e,"&limit=3")).then((function(e){return e.json()}))},Rn=function(e){return fetch("https://62b0c0c4e460b79df04c901b.mockapi.io/api/selected/".concat(e,"/category")).then((function(e){return e.json()}))},Dn="SET_ALL_CATEGORIES",Pn="SET_IS_LOADING",Ln="SET_LIKED_RECIPE",Mn="SET_SAVE_RECIPE",jn="SET_SELECTED_CATEGORY",Fn="SET_SHOP_ITEMS",Un="SET_LOCAL_ITEMS",Vn="SET_SHOW_LOAD_MORE",Bn="SET_PAGE",qn="SET_RECIPE",zn="SET_TOTAL_PRICE",Kn=function(e){return{type:Dn,categories:e}},Wn=function(e){return{type:jn,recipiesOfSelectedCategory:e}},Gn=function(e){return{type:Pn,isLoading:e}},Hn=function(e){return{type:Fn,productsFromShop:e}},Qn=function(e){return{type:Un,productsFromLocal:e}},Zn=function(e){return{type:Vn,showLoadMore:e}},Jn=function(e){return{type:Bn,page:e}},Yn=function(e){return{type:qn,recipe:e}},Xn=function(e){return{type:zn,totalPrice:e}},$n=function(e){return function(t,n){t(Gn(!0)),On().then((function(n){n.count>n[e].length?t(Zn(!0)):t(Zn(!1)),localStorage.setItem("items",JSON.stringify(n[e].concat(n[e+1],n[e+2]))),t(Kn(n[e])),t(Jn(e+1))})).finally((function(){t(Gn(!1))}))}},er=function(){return function(e,t){fetch("https://62b0c0c4e460b79df04c901b.mockapi.io/api/shop").then((function(e){return e.json()})).then((function(t){var n=[],r=localStorage.getItem("shopList");r&&(n=JSON.parse(r));var i=n.map((function(e){return t.find((function(t){return t.title===e?t:null}))})),a=t.reduce((function(e,t){return e+t.price*t.count}),0);e(Hn(i)),e(Xn(a.toFixed(2)))}))}},tr=["isLarge"],nr=function(e){var n=An(),r=c((0,t.useState)(e.name),2),i=r[0],a=r[1],o=c((0,t.useState)(e.back),2),u=o[0],s=(o[1],(0,t.useContext)(BR).user),l=(e.isLarge,function(e,t){if(null==e)return{};var n,r,i=(0,qt.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tr));return(0,Je.jsxs)("div",{className:" ".concat(e.isSelected?Gt:zt),children:[(0,Je.jsxs)("div",{className:"".concat(e.isSelected?Ht:Kt),children:[i?(0,Je.jsx)("img",{className:"".concat(e.isSelected?Zt:Qt),src:e.name,alt:e.title,onError:function(){a(Xe)}}):(0,Je.jsx)("img",{className:Qt,src:Xe,alt:e.title}),(0,Je.jsx)("p",{className:" ".concat(e.isSelected?Xt:Yt),children:e.title})]}),e.isSelected?"":(0,Je.jsxs)("div",{className:Wt,children:[u?u.map((function(e,t){return(0,Je.jsx)("img",{className:Jt,src:e},t)})):"",(0,Je.jsx)("p",{className:$t,children:e.title})]}),e.isCategory?(0,Je.jsxs)("div",{className:"".concat(s?en:tn),children:[(0,Je.jsxs)("div",{className:nn,children:[(0,Je.jsx)("img",{className:"".concat(s?an:on),src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAIxUlEQVRoge2af4wU5RnHP887e3f82JlZEK5yxVRTAzSgCGIrdwsVoWml0bYWNcbqH5Jq0GiMrdrW2CZNY3+o1TaNVhNJamxohVrFCkkjXAu3IIpihVOxNWlVUKHldmb2wGN33qd/7C4u++Nu77ij/cPvPzvZ55mZ72ff533nmZmFj/X/JRksqL20Bn3+V42wQpW5wOmlfd4BdiL6jCfeH6Tz3SMnYkK3TR8f2vBSkEuAc4FPAQXgXyi7FJ70JwdPy2yODhskm/G/Lso9wBmDmRBlnZsOLhdBRwShSJDx1wlcOkTqW6Jym7co+8d6QVPnwCbb498jyjrgDIFXEb3Z2Hi2lw/GW5F5QH8p/TnXca8ZKQSACHp43MSrUTaVvsrF1sz1jDvB2Hg2Krco7AE+raJPZrf6P1Wt9V0zIsHW1C8QvRk4qsItfmfwsAgWINzmzlLrbAadBjznGfeSEy2rsvbv7Jgw8Uj/eoSloPsFvdBLR3sB9AmcsMNbBXIf0Ap6v58Ob20Iks34K0RZC+TVclFqcVD+lYaE0A20Zb1Up4ELVPRsscxEOBVIAgr0g7ynom+KyqtW6U5F2e2ynIFmYACyW/1lImwEEmLla97i7FM1INpLa3TIf0uF6SC3+uns/c1AZLf4843D9apcDqSGORBZgd/HRh6e1Jnd1QxMuDX1LRW9F3jbGxecKQvIHwcS9HhXgTwOvOV1BTOGKqe+TOoco/pj4EsVxnapsBl43sbmTSP2HX98kAMIjvhJq+Y049gZYnUhIhcC55R/R2BjbM13Jy/ue3XoMvP/DpyhcEUqHTxxHEiY8Z9Q5TKB2710cE8jCIDQhneD3AQ4QKTwa2Psaq8zemM4wxFuc2dZa1YKXA+4QAHVX3qF8M733A7zEYy8J8RLyjDZrf4dIvwE5Xf+ouBKqFi1VDm3uGW2N4II8+H0yEbbQW4BrAr3qfKpVDq4fbgQAF5n9EYqHdyG0dNBi6UscmvY4m+feDTX0T9+4iXF1UynKU532OPOBHCMbC9aLXs+rrT8D4E2J1+YZttMqgaC8CysPAtMQXndIldOWpT923DND6ZSua4BZgEHEf1yf1uyt3pkEqY1l7eFd4HDfjqYWGSqUtzizGsAsQmYosJTRw6PO2+0IQAmdWVfGci3ngf6NDAVlU0TB3Kzq0cmb/NnA2jFQFSC7Ct+yLrqciqNRBL0N/6+YMWpX/ygnzFS+5KDOS8frgB9DHBReXbCQP+0SpiiR5Bjno8H2Vn6nEDFxBZH1lIaCW9/uFIuJx4riLJkCQUvH64EXQ9MFWXttGi//QiGCQDoMc+VILq+tHFsiQ1teLfCXJTXP8yN+8bJgKiEGci3XQXsBeYFrf6POhbsP1wBA6J/OpZf3ti/s2NC8sP+x1zjXl1xnXgRwKosGIs50Yz6tqXmGasvADjGzE929u3WbdPHR3H0mOu41wzZIgU9/sagx9dsxr/3pDge1It3f9Dja5BJPdMop24bn93izxfDS0CoyumpRUHfmLlsQsE2bzJW/gkkrcj8SV3ZV6pzapZfAONwPYDCIycDIsok27MZf1WjuN8ZHlLhEUCM6nX1cmrvRzbQVmoAMcY+OmpuGyjKJNtjdTaJ8mCw1buhUZ4Tx6tLm1doL63V8RqQrJfqpNjF7hpJ2zEcHYOAOQp7jLHrGuW6i3OvKewGJueyqfOr4zUgBi4AKHWxY6ZqCEfipW5X7sBg+wi6CcBil1TH6swRO7e08fwo+K2rkUAAKMVmUVXmVsdqQVRmACTE7K2JjYJGCgGgKnsBBJ1RHasFEdoBYuJ9NbEGymb8VVEm2T5U3olAADiFsif5RHWs3vLrAnh+mGvm4MFW7wZRHozV2TQYzIlCALhHoqjSY6XqXkeGI6N2rcJugTlWnb/2b5kwrTon2pKcGqvznMAc4I1EvvCF4UIM6aPOdxFAlHNrqOvJXZw76Ei8rPTsaVbetPy5cmSiTLI9Ns5mgbMU9hiJP59c0v/+SMxG4495iqpjdSY7BwBMnOho9gRuV+6AI/FShT0Cc8plNhrlVKk44XyyZPKDIUHUsBegoHbmcE5SD2Y0IQBEdCaAIjUrau2jRyvldr3m6jmUqmFGEwJA0IWlz6GbRgt/ARBl6UhOVgkzmhAAiiwDEJzu6lhNG68baAs9fz8wWYz9zEj7rfKEHy2IqGfybEu8B/i3Ny7oKD9hLKu2tJYzILAWwFqzcqQndrtyB0ZzibVauLa0ubYaAhpcR2KVhwAVWBV2u1NGy8xIFe5wT0Hkm4A6xjxUL6cuSPH+XDYAE7VFvjeWJpuRFuQuwAV9JtnZt7teTsMru8HcAeRBburLpM5plDfWym7x56NyI5A3jv1Oo7yGIG76UK/CA0DCqK450D01ORZGB9PBnimuGNYACRF+7i7Mvd4od9Beyw+DuxBeBma1tQw8rt0kRttsI2k3iVaO/haYAex0U8H3B8sfFESWM6AFVgAfgHwlbPEePRkw2k0ibE2tBrkYeN86ctlgb3RhiNfTZQU93kWlyQ/o+oF821XtSw421eYPVwd7prjFkZCLS+db7qfDjUPtNyRIZeNX8fVea+TK8uuy0VLpedoaiuUEQLPdwaCldTyE9qJ6fmnOzDRWXwh6vPvDHe4pJwoQ7nBPCTLeA2LYUYJ4CaOfA+2t7KYHO0bDEamGMGIvdLtyB7SbcVGL/wOFbwMJIFLhESeOV7uLc68NByDqmTzbauFaRK6j+Pa3IPAzNwx+KMsZiDLJdqtmM8jsoUamLkgz9xFRZtIcq/HdH9UyFO8UdZMi21XkTSP27fItc5Rz3bjgnCaqMwRdqMiy48tVnzYk7nTTh3qH66UhSNDjvwgsaKY+c9smnWWtvVFhBTDcMvuPwDoR8yu3q29Po6Sqefqinw4+2yzIdqDFSLy86Uc13SSyiVTaiF1E8Y8xZ4J0UCwZgJzCPoR/iOrLxpotyTibkSUUmjl+scycDUDeTwcLm9nnY/0v9V+kypZEmWdMUgAAAABJRU5ErkJggg==",alt:"timeToCook"}),(0,Je.jsx)("img",{className:"".concat(s?an:on),src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAGuElEQVRoge2ab4xU1RmHn/feWXZZdu69s3SVLgvEWKIt0VS7FN0/yJYabaMIiZgm9UPTpjE1Nk0hlJDyoX9M2zUxNJSapokmjZUYguk2WC0iJcvcWaFZkU2LDVpbFQuIZefeO+y6MDP37YeZXWeGgZ1ZdgdKeL7MyTnvOfP7zTn33nPfM3CNa8wIUk1w4EZvCtVYLXA3wnxgATBnmrSMAMeAD0TYQxj2Wd2ptyrtXJERz7XbDehV+NJUVU4JZa/CRqfbf32y0Isa0UHqgjFnC+ij+dhhhOclNP6cEYZiseRJWcK56dB8cvf1cxrnjLYh5s0hukqU1UAzoCDbrLS3TnrIVG3Ei9sxQ3hBoQcYU+HxtNZtben6b2o6hE/G6QPNViSd/YEK6wRmo+wNM/JgrMfzysWXNaKD1KXG7N15E/82MO+Pdg0fmVHlF8CL218woE+FNpS9Vsa/t9zMGOU6B2POlryJf2Ui5vLLZQLA6fZfN6VumSgfIKwMIs6T5eLOmxHPtdsF/gp8HKp0xLq9oRlXWwHefvt2DFyBeg1Z6iz3DxW2nzcjBvQCAtp7pZgAcJb7hwzYAhhi0FvaXmQkcKM35W+xwx+PzC47hZeTTIPxBJAEvuz3W4sL24qMhBhr8sUd8+75cKRG+iqmuT3pq9IHIKasLmwrMiKwMvcpL9dOXnUYyC4AhbuL64tZCJAVrphr4zwk+2a+tLCwutRIK4DjeCdqoWkqjKUb/pMvzi+sLzXSBDBd246Z4Lqej87ki02F9WUfiP+PRCoJ8uPWMoS5dlfw0kwLGieVaLouG5p3Reoy+5vuGPlwsvjKZsSQ74H8+pLVVUE2a94iwo5MJnJrJfFXzdK6aoxUdI2UI0hE79TQ+KUIb0Qb/O9KO+nTB5otM5PdLPAQ0AIcV+gTQ39udwTDE30HojdraP5Q0R6BuSBJFX3ZJLsp2nnmVM2MJOPOClXdBRw8S90Gq520HmFWkMy+AiwFeUrQoVBZLMJjhNKpR1ghSzh3Zt+cednQSID6wDaBjxRuE+XRrJjNwJqLf/s0GfFd6yuKviDKn6Ip/2H5KmcBgmHr2wjLVHnE6fZ+Ox4fxJ2jKvq079mrwN+ZnWWuRWk2DWNFU0fybxPjJpxFqC6digmo8hoJ4s4akD4BN3rC/9q4idxIxr3AKTvjP1PYJ5rynlOlPXIu4wIgPKfKjXPuTP59wkS/tVhVF8klLPVqOs5T0R3AaeAOb4GzALx3J1pVPwP6VulraM7sJ1kQuyMYTiVirX7CfsJLsFSUJYAj4MOFkwuTUc2M1CO63sBcCcwys/q0atEb5mzUmHS8IO6sCTUcAr5oKL8HvT9MS4sKf6xWfCHVzMj7dmewFcCPW4+ryE8D1/oOBE/l248iuuz4YGtja/vx0fFOyYSzyFD9C6o/sruDZ9XQzShv251+jwjhhEHXtvUSjEzpOWLNDnqBw4j0ev32DQCCbAfsxrMjPxmPU0VM1U3AQjVkIFeJALN485MfMRl3VijcB9TV1Ii0kw4N+SbQYJg8o4pEO71nRdkpyno/bh/0Xet3fsIeUnhElc1Op/9Ozgc7gBuCYfuwn7C3+649IKIvCQwAMd91fjVzRkLdpfCbwqpYh/cG6DcQDgavWTeKEEa7/IdUWIvoPxCjWZB+Fe5xuv2JZIHd6feCPozIIZCogiuG3hpm+ZYIO8m9kyMRfU+EXsnqu1SL79rqu5e0VGtCOZ1XzV6r1EgK4Phga+Nl0FIRpw80W/liUFhfauQEwOyzoy21EDUV6jLpT+eLRXmFUiPvA5hZbquFqCmh5ufypfcKq4vzWsKeXKwW5YyuJFTCVQBCTus4xTOiYW6boHz91L6WoizFlcDwYMwGeQBAs1q0pSkyYnWljqLsBez6WWfX11BjRUTGwo1ADHjFvit4u7DtvNuvwkZAUdl0ZiB2S400Torn2u0K3wfCUGRjaft5RnIHj7INqM+G4Ysj7qdaayH0YowOzJ1vKH8AGkC3xjq9w6UxZR+IVtpbl19iC7OaPujtt2+fabEXIplwPp8OMwMqtAGvWulgQ7m4skakh0yYkQdR9qrQJgYJ33V+fHL39dN1pj4pw4MxO3Dtnxmqr5FLWO8J07L2Qie7Fz+e3kckiDhPIvoYOdMBsB3RF0X0ndFU47HpOkc5ta+lqaF+rI2s+dncLVYeIHdhh6BbrXSwYUrH04Wk3OYloYS/QPW+6RBdBa9qyMbS88JyVPUXDr/fWiymrM4fsiwA2ijJil8CZ1COIRwT2KOG9tkdwT+naexrXGOq/A9RAZlKJJLB1QAAAABJRU5ErkJggg==",alt:"timeToCook"})]}),(0,Je.jsxs)("div",{className:rn,children:[(0,Je.jsx)("span",{className:un,children:e.time}),(0,Je.jsx)("span",{className:sn,children:e.kcal})]}),s?(0,Je.jsxs)("div",{className:cn,children:[(0,Je.jsx)("button",{onClick:function(e){e.stopPropagation(),n({type:Mn,recipes:l})},children:(0,Je.jsx)(at,{fill:e.saved?"red":"rgb(94.509804%,76.862746%,5.882353%)"})}),(0,Je.jsx)("button",{onClick:function(e){e.stopPropagation(),n({type:Ln,recipes:l})},children:(0,Je.jsx)(ht,{fill:e.liked?"red":"rgb(94.509804%,76.862746%,5.882353%)"})})]}):null]}):""]})},rr="style_container__eMthc",ir="style_wrapper__dGDcf",ar=function(e){var t=be();return(0,Je.jsx)("div",{className:rr,children:e.posts.map((function(e){return(0,Je.jsx)("div",{className:ir,onClick:function(){!function(e){t("/selected_category/".concat(e))}(e.id)},children:(0,Je.jsx)(nr,{id:e.id,name:e.name,title:e.title,back:e.back},e.id)},e.id)}))})},or="style_loader__y7Eqw",ur=function(){return(0,Je.jsxs)("div",{className:or,children:[(0,Je.jsx)("span",{}),(0,Je.jsx)("span",{}),(0,Je.jsx)("span",{}),(0,Je.jsx)("span",{})]})},sr="style_input__lwgBS",cr="style_burgerMenu__F-VYi",lr="style_delivery__rslE6",fr="style_inputForRegistration__AHk4v",hr="style_error__oo0cj",dr="style_radio__l0cL6",pr="style_label__bQjEN",vr="style_darkLabel__9KoUd",yr="style_textError__rHTd4",mr="style_darkTextError__FYN2z",gr="style_forRadio__ahBaT",kr="style_darkForRadio__dfAqk",br=function(e){var n,r=(0,t.useContext)(BR).isDark;return(0,Je.jsx)("div",{children:(0,Je.jsxs)("label",{className:"".concat(pr," ").concat(r?vr:pr),children:[e.label,(0,Je.jsx)("input",{className:"".concat(sr," ").concat((n=e.uniqType,"burgerMenu"===n?cr:"inputForRegistration"===n?fr:"delivery"===n?lr:"radio"===n?dr:void 0)," ").concat(e.error?hr:""),value:e.value,placeholder:e.placeholder,onChange:e.onChange,ref:e.refObj,type:e.type,required:!0,onFocus:e.onFocus,onBlur:e.onBlur,name:e.name}),(0,Je.jsx)("span",{className:"".concat(gr," ").concat(r?kr:gr),children:e.forRadio}),(0,Je.jsx)("div",{className:"".concat(yr," ").concat(r?mr:""),children:e.error})]})})},wr={container:"style_container__gJ3Oz",title:"style_title__5BvkS",notFind:"style_notFind__hQ9h2",show:"style_show__5PDiU",close:"style_close__D915x"},xr=function(){var e=An(),n=c((0,t.useState)(""),2),r=n[0],i=n[1],a=c((0,t.useState)(!0),2),o=a[0],u=a[1],s=c((0,t.useState)(!1),2),l=s[0],f=s[1],h=wn((function(e){return e.categoryReducer.allCategories})),d=wn((function(e){return e.categoryReducer.isLoading})),p=wn((function(e){return e.categoryReducer.showLoadMore})),v=[];return(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsxs)("div",{className:wr.infoPanel,children:[(0,Je.jsx)("div",{className:"".concat(l?wr.show:wr.close),onClick:l?function(){i(""),u(!0),e($n(1)),f(!1)}:function(){f(!1)},children:(0,Je.jsx)(br,{value:r,onChange:function(t){var n=t.target.value;i(n),f(!0);var r=localStorage.getItem("items"),a=[];r&&(a=JSON.parse(r)),v=a.filter((function(t){if(n.toLowerCase().substring(0,3)===t.title.toLowerCase().substring(0,3))return v.push(t),u(!0),e(Zn(!1)),e(Kn(v));0===v.length&&u(!1)})),0===n.length&&(u(!0),f(!1),e($n(1)))},uniqType:"delivery",placeholder:" \u041d\u0430\u0439\u0434\u0438 \u0441\u0432\u043e\u0439 \u0440\u0435\u0446\u0435\u043f\u0442..."})}),o?"":(0,Je.jsx)("h2",{className:wr.notFind,children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e..."}),(0,Je.jsx)("h2",{className:wr.title,children:"\u041a\u0410\u0422\u0415\u0413\u041e\u0420\u0418\u0418 \u0420\u0415\u0426\u0415\u041f\u0422\u041e\u0412"})]}),d?(0,Je.jsx)(ur,{}):(0,Je.jsxs)("div",{className:wr.container,children:[(0,Je.jsx)(ar,{posts:h}),p?(0,Je.jsx)(Bt,{label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451",onClick:function(){e((function(e,t){var n=t().categoryReducer.allCategories,r=t().categoryReducer.page;On(r).then((function(t){e(Kn(n.concat(t[r]))),t[r].length+n.length===t.count&&(e(Zn(!1)),e(Jn(1))),e(Jn(r+1))}))}))},type:"btnCategory"}):null]})]})},_r="style_forBtnBack__bVoNe",Er="style_forBtnShopList__M85JZ",Ir="style_btnPanel__3EvsP",Sr="style_ico__yWlle",Tr=function(e){var n=be(),r=(0,t.useContext)(BR).user,i=function(){n("/myshoplist")};return(0,Je.jsxs)("div",{className:Ir,children:[(0,Je.jsx)("div",{className:_r,children:(0,Je.jsx)(Bt,{label:"\u041d\u0430\u0437\u0430\u0434",onClick:e.onClick,type:"btnBack"})}),r?(0,Je.jsxs)("div",{className:Er,onClick:i,children:[(0,Je.jsx)(Bt,{label:"\u0428\u043e\u043f\u043f\u0438\u043d\u0433 \u043b\u0438\u0441\u0442",onClick:i,type:"btnShopList"}),(0,Je.jsx)("img",{className:Sr,src:$e,alt:"shopList"})]}):null]})},Cr="style_mainContainer__z5XNX",Nr="style_container__h62Fs",Ar="style_LikeSaveContainer__3yuJP",Or="style_wrapper__RbH+n",Rr=function(e){var t=be();return(0,Je.jsxs)("div",{className:Cr,children:[e.isLikeSave?"":(0,Je.jsx)(Tr,{onClick:function(){t("/category")}}),(0,Je.jsx)("div",{className:"".concat(e.isLikeSave?Ar:Nr),children:e.posts.map((function(e){return(0,Je.jsxs)("div",{className:Or,children:[(0,Je.jsx)(nr,{isSelected:!0,isCategory:!0,id:e.id,name:e.name,title:e.title,back:e.back,time:e.time,kcal:e.kcal,liked:e.liked,saved:e.saved},e.id),(0,Je.jsx)(Bt,{label:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u044c",onClick:function(){!function(e){t("/selected_recipe/".concat(e))}(e.id)},type:"btnShowMore"})]},e.id)}))})]})},Dr="style_modal__ROsx1",Pr="style_active__5vqBQ",Lr="style_modalContent__OdwTG",Mr="style_activeModalContent__PF4zA",jr=function(e){return(0,Je.jsx)("div",{className:"".concat(e.active?Pr:Dr),onClick:function(){return e.setActive(!1)},children:(0,Je.jsx)("div",{className:"".concat(e.active?Mr:Lr),onClick:function(e){return e.stopPropagation()},children:e.children})})},Fr="style_main__9Qjrr",Ur="style_darkMain__NXP8r",Vr="style_container__QFN1G",Br="style_modalText__tGv3C",qr=function(){var e=(0,t.useContext)(BR).isDark,n=c((0,t.useState)(!0),2),r=n[0],i=n[1],a=wn((function(e){return e.categoryReducer.likedRecipes}));return(0,t.useEffect)((function(){0!==a.length?i(!1):i(!0)}),[]),(0,Je.jsx)("div",{className:"".concat(e?Ur:Fr),children:r?(0,Je.jsx)(jr,{active:r,setActive:i,children:(0,Je.jsxs)("div",{className:Vr,children:[(0,Je.jsx)("p",{className:Br,children:"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a"}),(0,Je.jsx)("p",{className:Br,children:"\u043f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0445\u0441\u044f \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432"}),(0,Je.jsx)("p",{className:Br,children:"\u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043f\u0443\u0441\u0442..."})]})}):(0,Je.jsx)(Rr,{posts:a,isLikeSave:!0})})},zr="style_main__6WwGz",Kr="style_darkMain__9pN4n",Wr="style_container__SkhAF",Gr="style_modalText__wz-G-",Hr=function(){var e=(0,t.useContext)(BR).isDark,n=c((0,t.useState)(!0),2),r=n[0],i=n[1],a=wn((function(e){return e.categoryReducer.savedRecipes}));return(0,t.useEffect)((function(){0!==a.length?i(!1):i(!0)}),[]),(0,Je.jsx)("div",{className:"".concat(e?Kr:zr),children:r?(0,Je.jsx)(jr,{active:r,setActive:i,children:(0,Je.jsxs)("div",{className:Wr,children:[(0,Je.jsx)("p",{className:Gr,children:"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a"}),(0,Je.jsx)("p",{className:Gr,children:"\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432"}),(0,Je.jsx)("p",{className:Gr,children:"\u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043f\u0443\u0441\u0442..."})]})}):(0,Je.jsx)(Rr,{posts:a,isLikeSave:!0})})},Qr="style_container__MSpMk",Zr="style_tabContainer__K2SUC",Jr="style_ico__x433i",Yr="style_like__f4T9c",Xr=function(){var e,n=An(),r=(0,t.useContext)(BR).user,i=c((0,t.useState)("Selected Category"),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){n($n(1))}),[]),r?(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsxs)("div",{className:Qr,children:[(0,Je.jsx)("div",{className:Zr,children:(0,Je.jsx)(Bt,{label:"\u0412\u0441\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",onClick:function(){o("Selected Category")},type:"Selected Category"===a?"btnTabActive":"btnTabUnactive"})}),(0,Je.jsxs)("div",{className:Zr,children:[(0,Je.jsx)("img",{className:Jr,src:ut,alt:"save"}),(0,Je.jsx)(Bt,{label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u044b",onClick:function(){o("Saved Recipies")},type:"Saved Recipies"===a?"btnTabActive":"btnTabUnactive"})]}),(0,Je.jsxs)("div",{className:Zr,children:[(0,Je.jsx)(ht,{className:Yr,fill:"rgb(94.509804%,76.862746%,5.882353%)"}),(0,Je.jsx)(Bt,{label:"\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0435\u0441\u044f \u0440\u0435\u0446\u0435\u043f\u0442\u044b",onClick:function(){o("Liked Recipies")},type:"Liked Recipies"===a?"btnTabActive":"btnTabUnactive"})]})]}),(e=a,"Selected Category"===e?(0,Je.jsx)(xr,{}):"Saved Recipies"===e?(0,Je.jsx)(Hr,{}):"Liked Recipies"===e?(0,Je.jsx)(qr,{}):void 0)]}):(0,Je.jsx)(xr,{})},$r="style_forBtnBack__ury5f",ei=function(){var e=be();return(0,Je.jsxs)(Tt,{children:[(0,Je.jsx)(Et,{}),(0,Je.jsx)("div",{className:$r,children:(0,Je.jsx)(Bt,{label:"\u0412\u044b\u0439\u0442\u0438",onClick:function(){e("/")},type:"btnBack"})}),(0,Je.jsx)(Xr,{})]})},ti="style_mainContainer__3gXci",ni="style_darkContainer__rNEY9",ri=function(e){var n=e.children,r=(0,t.useContext)(BR).isDark;return(0,Je.jsx)("div",{className:r?ni:ti,children:n})},ii="style_controlIngredient__vGJGo",ai="style_darkControlIngredient__YNx6A",oi="style_itemIngredientsInShop__s46Qj",ui="style_darkItemInShop__eRzZN",si=function(e){var n=(0,t.useContext)(BR).isDark;return(0,Je.jsxs)("div",{className:"".concat(n?ai:ii),children:[(0,Je.jsx)("p",{className:"".concat(oi," ").concat(n?ui:oi),children:e.ingredient}),(0,Je.jsx)(Bt,{label:"X",onClick:e.onClick,type:"btnDelete"})]})},ci={ingredientsShop:"style_ingredientsShop__UBjNQ",btnContainer:"style_btnContainer__aD4vm",recipeTitle:"style_recipeTitle__5lZQp",recipeItem:"style_recipeItem__F5fTv",recipeImage:"style_recipeImage__-EZfj",containerIngredients:"style_containerIngredients__BD+6K",ingredients:"style_ingredients__mYMTg",itemIngredients:"style_itemIngredients__qhmVy",itemQuantity:"style_itemQuantity__uked2",darkItem:"style_darkItem__boAQL",instructionsContainer:"style_instructionsContainer__zmO6a",itemInstructions:"style_itemInstructions__iM2zC",darkItemInstructions:"style_darkItemInstructions__jQ8hn",video:"style_video__W4PZG",controlIngredient:"style_controlIngredient__vNu2s"};var li=function(e){var n=c((0,t.useState)(e.name),2),r=n[0],i=n[1],a=c((0,t.useState)(e.ingredients),2),o=a[0],u=a[1],s=(0,t.useContext)(BR).isDark,l=be(),f=An(),h=[],d=localStorage.getItem("shopList");d&&(h=JSON.parse(d));return(0,Je.jsxs)(Je.Fragment,{children:[o?(0,Je.jsx)("div",{className:ci.ingredientsShop,children:e.onClickDelete?(0,Je.jsxs)(Je.Fragment,{children:[o.map((function(e,t){return(0,Je.jsx)(si,{ingredient:e,onClick:function(){!function(e){var t=null===o||void 0===o?void 0:o.filter((function(t){return t!==e}));u(t)}(e)}},t)})),(0,Je.jsx)("div",{className:ci.btnContainer,children:(0,Je.jsx)(Bt,{label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:function(){var e;o&&o.forEach((function(e){h.push(e)})),Ge.fn.success("\u0412\u0441\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u0432 \u0432\u0430\u0448\u0435\u043c \u0448\u043e\u043f\u043f\u0438\u043d\u0433 \u043b\u0438\u0441\u0442\u0435"),l("/myshoplist"),localStorage.setItem("shopList",JSON.stringify((e=h,Array.from(new Set(e))))),f(er())},type:"btnSave"})})]}):""}):"",(0,Je.jsx)("h2",{className:ci.recipeTitle,children:e.title}),(0,Je.jsxs)("div",{className:ci.recipeItem,children:[r?(0,Je.jsx)("img",{className:ci.recipeImage,src:e.name,alt:e.title,onError:function(){i(Xe)}}):"",o?(0,Je.jsxs)("div",{className:ci.containerIngredients,children:[e.onClickDelete?"":(0,Je.jsx)("div",{className:ci.ingredients,children:null===o||void 0===o?void 0:o.map((function(e,t){return(0,Je.jsx)("div",{children:(0,Je.jsx)("p",{className:"".concat(ci.itemIngredients," ").concat(s?ci.darkItem:ci.itemIngredients),children:e},t)},t)}))}),(0,Je.jsx)("div",{className:ci.quantity,children:e.quantity?e.quantity.map((function(e,t){return(0,Je.jsx)("p",{className:ci.itemQuantity,children:e},t)})):""})]}):"",e.instructions?(0,Je.jsx)("div",{className:ci.instructionsContainer,children:e.instructions?e.instructions.map((function(e,t){return(0,Je.jsx)("p",{className:"".concat(s?ci.darkItemInstructions:ci.itemInstructions),children:e},t)})):""}):"",(0,Je.jsx)("div",{className:ci.videoContainer,children:e.video?(0,Je.jsx)("iframe",{className:ci.video,src:e.video,frameBorder:"10px",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"video",height:"400px",width:"800px"}):""})]})]})},fi={container:"style_container__yVmUl",darkContainer:"style_darkContainer__H0oue"},hi=function(){var e=(0,t.useContext)(BR).isDark,n=we(),r=An(),i=wn((function(e){return e.categoryReducer.recipe}));return(0,t.useEffect)((function(){r(Yn([])),Rn(n.id).then((function(e){var t=n.id;Number(t),r(Yn(e[Number(t)]))}))}),[]),(0,Je.jsx)("div",{className:"".concat(fi.container," ").concat(e?fi.darkContainer:""),children:(0,Je.jsx)("div",{className:fi.wrapper,children:i?i.map((function(e){return(0,Je.jsx)("div",{children:(0,Je.jsx)(li,{id:e.id,name:e.name,title:e.title,ingredients:e.ingredients,quantity:e.quantity},e.id)},e.id)})):""})})},di={container:"style_container__x1Xa1",darkContainer:"style_darkContainer__Uw9fm"},pi=function(){var e=(0,t.useContext)(BR).isDark,n=we(),r=An(),i=wn((function(e){return e.categoryReducer.recipe}));return(0,t.useEffect)((function(){r(Yn([])),Rn(n.id).then((function(e){var t=n.id;Number(t),r(Yn(e[Number(t)]))}))}),[]),(0,Je.jsx)("div",{className:"".concat(di.container," ").concat(e?di.darkContainer:""),children:(0,Je.jsx)("div",{className:di.wrapper,children:i?i.map((function(e){return(0,Je.jsx)("div",{children:(0,Je.jsx)(li,{id:e.id,name:e.name,title:e.title,instructions:e.instructions},e.id)},e.id)})):""})})},vi={container:"style_container__pG-O1",darkContainer:"style_darkContainer__Vvqn5"},yi=function(){var e=(0,t.useContext)(BR).isDark,n=we(),r=An(),i=wn((function(e){return e.categoryReducer.recipe}));return(0,t.useEffect)((function(){r(Yn([])),Rn(n.id).then((function(e){var t=n.id;Number(t),r(Yn(e[Number(t)]))}))}),[]),(0,Je.jsx)("div",{className:"".concat(vi.container," ").concat(e?vi.darkContainer:""),children:(0,Je.jsx)("div",{className:vi.wrapper,children:i?i.map((function(e){return(0,Je.jsx)(li,{id:e.id,title:e.title,video:e.video},e.id)})):""})})},mi="style_container__vDCFu",gi="style_tabContainer__c6KPq",ki="style_ico__BQgJ8",bi=function(){var e,n=c((0,t.useState)("Ingredients"),2),r=n[0],i=n[1],a=wn((function(e){return e.categoryReducer.recipe})),o=be();return(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsxs)("div",{className:mi,children:[(0,Je.jsxs)("div",{className:gi,children:[(0,Je.jsx)("img",{className:ki,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAGVElEQVRogd2ab4xUVxnGf+85d1i6C0GhyN7ZJWn9Q6AaY81iye5skIRQI0XbmjaaWGO/dNG0MWZtNSZ+0S+tsSbGmDYQlUSTJqBtKZhKJaC7d6CEbUwqxlKMKCwzLLoQq7sse+85rx9mFvbP/LmzdWcJz6c7533OOc8z7zn33PvOCE1EPBh+SmA3QmfKLudVeSzTW/xtPaJ5l9oaggi7GjABsFaEXWmIwTw1zRdrAYJcUdKQkyjUqT710NSMLCRuGSPNXVrKMEJnecmkxfk0pOZmRLQPtJC+gxZA+xZO0LtAEmV/nkShJlH4sipzNr3uxSZR+Lsy55dpx0119/h/QQfa73JG3gScdX69bB45W5E3uOb9TsxfAGud3SCbh8/UG7upS8sZ+TZgVXm+mgkA6R35G/ALwDrrnkozdtMyoic6VrnYDwOBNfYO6R6+UJM/2LHOiX8LGLfBtaxsuvxOLX7TMuJj/yVgKeir9UwASO+Ft0GOAm0+bvl8PX4Tl5Z+GQAxP03dRdgNoMIX61MblTNEhsnO98WJX5NR8x8yDEv38NWafY51ftB5dwYYtXGxXbaQpJrr0Jo212b+BWSs+Kz0jFyqxk2VEVUkGcjen0Thi24ivOK8GzZG33DWve28eyeJwsjls0/oULb1ep/o9uXxQLZHFfHqHyy1ysG0JgDk3pEx4Ahgnbf31eTWNXEsu9559oDeU27yKAUxXPLKMkHuBM2UYyN42WmZPJGYzGGBu4CTCssF1qM8GPQWX0prBMBF4U6F50APBLmLn5mXkXgwu1WEX4GuAM6K8rQx/uXpKS6n/16UfoTucvMosArQ6XNYIxuku/BWI0b09Y5Ol/hzwIQd86vLWUpv5NpA50etcXlgGcIu+56VT8iH/zxZdUJFknz2GUGfLLcctyJfSLx+VUS+BrQA44o8G8Tx92XLP/+b1ozLh2+o8nGQzwa5wiuVOBX3iA6RMcbtA5ap8KOgp9hXywRAPJi9W6buTMgRG7tt0lP8R6b34jet8xsQ2Qe0Cvodl7Gnk3z2UdV0e9SrHAFQdFM1TsWB/LXsVwTWAUPBhWJ/vYnigWyPMRwBVoMesPGS7dO/cdk8cjboKTysSC9wEiSL6s98PhyKB9s/WW98EX8CQFQ/0ZgR9HEA9eZb8jCupol8dpsYPQS6AuEFu/Ti52TL3ycqcTO5QmR7ivcgPIIyrHC3iBxN8uFL+ofOD1Wbw3r7ZtnRB6px5uyRyXzHx4z6PwLnbE/xDhGqvjskg+EDCC8ALSi7ba64UwRfw/d16FC21U/4byjyFNAGTCr8JNDM96T33JUZ3GOdtznvxoGJIFe8rdJ4czJi8BtLFvVwHROPIOwFWlT5oc0V+9KaAJCuwrjNXfyuJVgHsgcIBL7uJD7jouzjOkTmOvfGgbu02nhzjKhyZ8mH/LVaJxeFOxH2AIGKPpPpLfbXMl3TUO58IcgVHvVeNgK/B1Yp+uNkIjyVDLY/lHocPbp6mcsEPwAeAlbOR8wi4jKwz475/sAtCZ5FeWyxFc0TK4E+12ZUkigcBVZ62LgkVxxabGWNYDIKuwycBEZlqqKRtmh2s2FK/y1T17qljFyG0npbZC0NYzLfvrF8OSpJFD4P3JxFsNSQ5wI75vtdm1FK58iqxZbUIEZB9tox9+SM1nJ1r+YJPZ0zm78QsXoapnBLbfY5qFSTvVlQTdssI6VK+eTxNR9ZeEnzww1tM6v6s4zIqwCBl/ubI6tx3NBW0jqFmUa8HARQZEeTdDWM69rKWqcww4gNzCFgHOjS1zsa+fW1KdBobRboAq7aVl6bHpthpPQmpocB8bH/dBM1poIn2UHp9fw16SqMT4/NvWup2Q+gIlWreosFFbmvfDGntjXHiDXuIOBAt2p0+/KFl5cOemhNG6pbAW8zyW9mx+cYkZ6RSygngBanma3NEJkGrtVso1R8OC6bLo3Mjlc8EMXI/tJF9eVV6zFiIWKgOwAE3V8pWtGIEcprULfrXuyscDTr8+ACx1DFILIdwBhzoJLmqoij8HQShRoPtG9uqOMCID6W7U6iUOMoPF2NU+uh8dcAYszT04tliwHRqQo/L1blVAvo0HtXuKtLTzX4t6SFxJgNzHrZdGG4UrBqRqTryr+9MTsE+dPCaUsFFTilyAPVTAD8D+XcuqS9Je6YAAAAAElFTkSuQmCC",alt:"food"}),(0,Je.jsx)(Bt,{label:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b",onClick:function(){i("Ingredients")},type:"Ingredients"===r?"btnTabActive":"btnTabUnactive"})]}),(0,Je.jsxs)("div",{className:gi,children:[(0,Je.jsx)("img",{className:ki,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAA+0lEQVRoge2ZSw6CMBiEp5UrmOgd5ASaGBYcWxfGI7DgBr6OAOF3ZaKNyEMMI5lvWUrSL1OmTQCEEJ9w4UB5XNoYC+lKtDm9rN2PtZChiWofBMYs1O2YySQiETYkwoZE2JiMSO2B2MQvrzJ9DmMlwnaFmUwiEmFDrcWGWosNibCh1mJDrcWGRNiYjEjvj31ovq3zv0zEAVk4RpPIg3e1bofFvPJ+Z7DYgHxWlGk4hz6RUCIqysQlt3M4j1qkrQRALNJFAiAV6SoBEIr0kQAIRSrv9gaLHZBFrtq2kQAIRQxYGZD7okzd+nJt+x7df/Yu2+kZqkT6SgghmrkDKJaBLXNr02wAAAAASUVORK5CYII=",alt:"note"}),(0,Je.jsx)(Bt,{label:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f",onClick:function(){i("Instruction")},type:"Instruction"===r?"btnTabActive":"btnTabUnactive"})]}),(0,Je.jsxs)("div",{className:gi,children:[(0,Je.jsx)("img",{className:ki,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAACNUlEQVRoge2ZsU8UQRTGvzczB4mx0qC3gJ3GAm2s1Dsl5OI/YCKxkYLGxMrGAmOihYRKMZZ2QGFBb2cM3EIuJiY2VliYIAdqKYW4M/NszsLTPXaPWXfZzK+cTd77Xt58+/ZlAY/H0wvqPtBhwHkISYuqb/+hXeQlxDUq9kFXxb871X2eFXH54m5MaTpSmkJir1ZRTJ9UR/k7ktRkWePNfljxZi8apTF7bCH9oJvVlwCGrMT9gcs7b13G3g+3V4voJogawlJLh8ECh6eGncbvQUZmJw3wlIG+bsJgTkSDT2ni049+IuVqdmnEGIiWARxlYNaovQ3drE4x/73/uCITs9P45w0Ak9HqSEMInmfi8wAtmPVg+ueauDtQ23qfWGARJnvl6tZrEbUvEOM2gG9gjAu27/RasMitEydd5sp8jtAEtLyy/UJy5SwzngOwYNwyWn6MmsOP+NXpQSd5ug/2u0K9NsQkW+ReWB2ToHkA1zoSWqrevnRQHX6yp4XXR49pYx4ScKeTd5eZnqjvR+Z6Csxjsv8LfgNlVTBtrHlMhCEAFoQlKc09uvj1i6s8mRYSrY40rLDPGDgHACCsWKR7/SYlk8nOK6NnjLKzYHujE2QTzA9kbWdJEVLFTaojk44YaT+AuQJgl4ADfaIkJSOzswKwKKFmqL7Z7ltdCh1uO0K0DMZxK+zM//6Md1qIqrUnXcZLlTvugd/Zc6I0O3tpOlKaQrzZi4Y3e9EoTSH+P7vH4zlc/AK9TRRrp758/QAAAABJRU5ErkJggg==",alt:"movie"}),(0,Je.jsx)(Bt,{label:"\u0412\u0438\u0434\u0435\u043e \u0440\u0435\u0446\u0435\u043f\u0442\u0430",onClick:function(){i("Video")},type:"Video"===r?"btnTabActive":"btnTabUnactive"})]}),(0,Je.jsxs)("div",{className:gi,children:[(0,Je.jsx)("img",{className:ki,src:$e,alt:"shopList"}),(0,Je.jsx)(Bt,{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u043e\u0432",onClick:function(){a.forEach((function(e){!function(e){o("/shoppinglist/".concat(e))}(e.id)}))},type:"Shop"===r?"btnTabActive":"btnTabUnactive"})]})]}),(e=r,"Ingredients"===e?(0,Je.jsx)(hi,{}):"Instruction"===e?(0,Je.jsx)(pi,{}):"Video"===e||"Shop"===e?(0,Je.jsx)(yi,{}):void 0)]})},wi=function(){var e=be();return(0,Je.jsxs)(ri,{children:[(0,Je.jsx)(Et,{}),(0,Je.jsx)(Tr,{onClick:function(){e(-1)}}),(0,Je.jsx)(bi,{})]})},xi=function(){var e=wn((function(e){return e.categoryReducer.recipiesOfSelectedCategory})),n=An(),r=we();return(0,t.useEffect)((function(){n(Wn([])),function(e){return fetch("https://62b0c0c4e460b79df04c901b.mockapi.io/api/selected/".concat(e)).then((function(e){return e.json()}))}(r.id).then((function(e){n(Wn(e[r.id]))}))}),[]),(0,Je.jsxs)(ri,{children:[(0,Je.jsx)(Et,{}),(0,Je.jsx)(Rr,{posts:e})]})},_i={container:"style_container__wxxeW",titleContainer:"style_titleContainer__uF8Ai",tastyInner:"style_tastyInner__QIJfM",blur:"style_blur__QNgmu",aboutInner:"style_aboutInner__xkqOc",blurText:"style_blurText__kCbUY"},Ei=function(){var e=be();return(0,Je.jsx)("div",{className:_i.container,children:(0,Je.jsxs)("div",{className:_i.titleContainer,children:[(0,Je.jsx)("h2",{className:_i.tastyInner,children:"TASTY"}),(0,Je.jsx)("p",{className:_i.aboutInner,children:"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 TASTY \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043d\u0430\u0439\u0442\u0438 \u0441\u0430\u043c\u044b\u0435 \u0440\u0430\u0437\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043d\u044b\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435, \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0438 \u0432\u043a\u0443\u0441\u043d\u044b\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u044b,\u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0431\u043b\u044e\u0434\u0430."}),(0,Je.jsx)("div",{className:_i.forBtn,children:(0,Je.jsx)(Bt,{label:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u044c",onClick:function(){e("/category")},type:"btnMain"})})]})})},Ii=function(){return(0,Je.jsx)(Ei,{})},Si=/(^|\s+)[\w\-.]+@([\w-]+\.)+[\w-]{2,4}($|\s+)/,Ti=/[A-Za-z]/,Ci=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])/,Ni=/^[ 0-9 /]+$/,Ai=/^((7|\+3)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?[\d\- ]{5,10}$/,Oi=function(e){return""===e?"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435":""},Ri=function(e){return""===e?"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435":Ti.test(e)?Si.test(e)?"":"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 email":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"},Di=function(e){return""===e?"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435":Ci.test(e)?"":"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b \u0438 \u0431\u0443\u043a\u0432\u044b \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0445"},Pi=function(e,t){return e!==t?"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442":""},Li=function(e){return""===e?"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435":Ni.test(e)?"":"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430"},Mi=function(e){return""===e?"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435":Ai.test(e)?"":"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"},ji=n(942);function Fi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var Ui=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Vi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ui(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Bi=function(e){return function(e){var t=Ui(e);return Vi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},qi=function(e){try{return Vi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=zi(e[n],t[n]));return e}function Ki(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Wi(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Gi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Hi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Qi(){var e=Ki();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Zi(){return"object"===typeof indexedDB}var Ji=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Yi=function(){try{return Ji()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/tasty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&qi(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Xi=function(){var e;return null===(e=Yi())||void 0===e?void 0:e.config},$i=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ea(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Bi(JSON.stringify({alg:"none",type:"JWT"})),Bi(JSON.stringify(a)),""].join(".")}var ta=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,w.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,w.Z)(a),na.prototype.create),a}return p(n)}(I(Error)),na=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ra(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ta(n,a,t);return o}}]),e}();function ra(e,t){return e.replace(ia,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ia=/\{\$([^}]+)}/g;function aa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ua(u)&&ua(s)){if(!oa(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ua(e){return null!==e&&"object"===typeof e}function sa(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ca(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function la(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function fa(e,t){var n=new ha(e,t);return n.subscribe.bind(n)}var ha=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return p(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Fi(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=da),void 0===r.error&&(r.error=da),void 0===r.complete&&(r.complete=da);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function da(){}function pa(e){return e&&e._delegate?e._delegate:e}function va(){va=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(T([])));m&&m!==t&&n.call(m,a)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==k(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ya(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ma(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ya(a,r,i,o,u,"next",e)}function u(e){ya(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ga=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ka="[DEFAULT]",ba=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new $i;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch(s){}var t,n=Fi(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(f(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),f(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Fi(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Fi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(kC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ka?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(kC){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka;return this.component?this.component.multipleInstances?e:ka:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var wa,xa,_a=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ba(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ea=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xa||(xa={}));var Ia={debug:xa.DEBUG,verbose:xa.VERBOSE,info:xa.INFO,warn:xa.WARN,error:xa.ERROR,silent:xa.SILENT},Sa=xa.INFO,Ta=(wa={},(0,ji.Z)(wa,xa.DEBUG,"log"),(0,ji.Z)(wa,xa.VERBOSE,"log"),(0,ji.Z)(wa,xa.INFO,"info"),(0,ji.Z)(wa,xa.WARN,"warn"),(0,ji.Z)(wa,xa.ERROR,"error"),wa),Ca=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ta[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Na=function(){function e(t){h(this,e),this.name=t,this._logLevel=Sa,this._logHandler=Ca,this._userLogHandler=null,Ea.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in xa))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ia[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xa.DEBUG].concat(t)),this._logHandler.apply(this,[this,xa.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xa.VERBOSE].concat(t)),this._logHandler.apply(this,[this,xa.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xa.INFO].concat(t)),this._logHandler.apply(this,[this,xa.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xa.WARN].concat(t)),this._logHandler.apply(this,[this,xa.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xa.ERROR].concat(t)),this._logHandler.apply(this,[this,xa.ERROR].concat(t))}}]),e}();var Aa,Oa,Ra=n(413);var Da=new WeakMap,Pa=new WeakMap,La=new WeakMap,Ma=new WeakMap,ja=new WeakMap;var Fa={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pa.get(e);if("objectStoreNames"===t)return e.objectStoreNames||La.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ua(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Oa||(Oa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qa(this),n),Ba(Da.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ba(e.apply(qa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[qa(this),t].concat(r));return La.set(a,t.sort?t.sort():[t]),Ba(a)}}function Va(e){return"function"===typeof e?Ua(e):(e instanceof IDBTransaction&&function(e){if(!Pa.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Pa.set(e,t)}}(e),t=e,(Aa||(Aa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Fa):e);var t}function Ba(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ba(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Da.set(t,e)})).catch((function(){})),ja.set(t,e),t}(e);if(Ma.has(e))return Ma.get(e);var t=Va(e);return t!==e&&(Ma.set(e,t),ja.set(t,e)),t}var qa=function(e){return ja.get(e)};var za,Ka,Wa=["get","getKey","getAll","getAllKeys","count"],Ga=["put","add","delete","clear"],Ha=new Map;function Qa(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ha.get(t))return Ha.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ga.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Wa.includes(n))){var a=function(){var e=ma(va().mark((function e(t){var a,o,u,s,c,l,f=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ha.set(t,a),a}}}Fa=function(e){return(0,Ra.Z)((0,Ra.Z)({},e),{},{get:function(t,n,r){return Qa(t,n)||e.get(t,n,r)},has:function(t,n){return!!Qa(t,n)||e.has(t,n)}})}(Fa);var Za=function(){function e(t){h(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ja="@firebase/app",Ya="0.8.4",Xa=new Na("@firebase/app"),$a="[DEFAULT]",eo=(za={},(0,ji.Z)(za,Ja,"fire-core"),(0,ji.Z)(za,"@firebase/app-compat","fire-core-compat"),(0,ji.Z)(za,"@firebase/analytics","fire-analytics"),(0,ji.Z)(za,"@firebase/analytics-compat","fire-analytics-compat"),(0,ji.Z)(za,"@firebase/app-check","fire-app-check"),(0,ji.Z)(za,"@firebase/app-check-compat","fire-app-check-compat"),(0,ji.Z)(za,"@firebase/auth","fire-auth"),(0,ji.Z)(za,"@firebase/auth-compat","fire-auth-compat"),(0,ji.Z)(za,"@firebase/database","fire-rtdb"),(0,ji.Z)(za,"@firebase/database-compat","fire-rtdb-compat"),(0,ji.Z)(za,"@firebase/functions","fire-fn"),(0,ji.Z)(za,"@firebase/functions-compat","fire-fn-compat"),(0,ji.Z)(za,"@firebase/installations","fire-iid"),(0,ji.Z)(za,"@firebase/installations-compat","fire-iid-compat"),(0,ji.Z)(za,"@firebase/messaging","fire-fcm"),(0,ji.Z)(za,"@firebase/messaging-compat","fire-fcm-compat"),(0,ji.Z)(za,"@firebase/performance","fire-perf"),(0,ji.Z)(za,"@firebase/performance-compat","fire-perf-compat"),(0,ji.Z)(za,"@firebase/remote-config","fire-rc"),(0,ji.Z)(za,"@firebase/remote-config-compat","fire-rc-compat"),(0,ji.Z)(za,"@firebase/storage","fire-gcs"),(0,ji.Z)(za,"@firebase/storage-compat","fire-gcs-compat"),(0,ji.Z)(za,"@firebase/firestore","fire-fst"),(0,ji.Z)(za,"@firebase/firestore-compat","fire-fst-compat"),(0,ji.Z)(za,"fire-js","fire-js"),(0,ji.Z)(za,"firebase","fire-js-all"),za),to=new Map,no=new Map;function ro(e,t){try{e.container.addComponent(t)}catch(n){Xa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function io(e,t){e.container.addOrOverwriteComponent(t)}function ao(e){var t=e.name;if(no.has(t))return Xa.debug("There were multiple attempts to register component ".concat(t,".")),!1;no.set(t,e);var n,r=Fi(to.values());try{for(r.s();!(n=r.n()).done;){ro(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function oo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$a;oo(e,t).clearInstance(n)}function so(){no.clear()}var co=(Ka={},(0,ji.Z)(Ka,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,ji.Z)(Ka,"bad-app-name","Illegal App name: '{$appName}"),(0,ji.Z)(Ka,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,ji.Z)(Ka,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,ji.Z)(Ka,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,ji.Z)(Ka,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,ji.Z)(Ka,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,ji.Z)(Ka,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,ji.Z)(Ka,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,ji.Z)(Ka,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,ji.Z)(Ka,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ka),lo=new na("app","Firebase",co),fo=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}]),e}(),ho="9.14.0";function po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:$a,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw lo.create("bad-app-name",{appName:String(a)});if(n||(n=Xi()),!n)throw lo.create("no-options");var o=to.get(a);if(o){if(oa(n,o.options)&&oa(i,o.config))return o;throw lo.create("duplicate-app",{appName:a})}var u,s=new _a(a),c=Fi(no.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new fo(n,i,s);return to.set(a,f),f}function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=to.get(e);if(!t&&e===$a)return po();if(!t)throw lo.create("no-app",{appName:e});return t}function yo(){return Array.from(to.values())}function mo(e){return go.apply(this,arguments)}function go(){return(go=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!to.has(n)){e.next=6;break}return to.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t,n){var r,i=null!==(r=eo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xa.warn(u.join(" "))}ao(new ga("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function bo(e,t){if(null!==e&&"function"!==typeof e)throw lo.create("invalid-log-argument");!function(e,t){var n,r=Fi(Ea);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ia[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:xa[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function wo(e){var t;t=e,Ea.forEach((function(e){e.setLogLevel(t)}))}var xo="firebase-heartbeat-store",_o=null;function Eo(){return _o||(_o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ba(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ba(u.result),e.oldVersion,e.newVersion,Ba(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(xo)}}).catch((function(e){throw lo.create("idb-open",{originalErrorMessage:e.message})}))),_o}function Io(e){return So.apply(this,arguments)}function So(){return So=ma(va().mark((function e(t){var n,r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Eo();case 3:return r=e.sent,e.abrupt("return",r.transaction(xo).objectStore(xo).get(No(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ta?Xa.warn(e.t0.message):(i=lo.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Xa.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),So.apply(this,arguments)}function To(e,t){return Co.apply(this,arguments)}function Co(){return Co=ma(va().mark((function e(t,n){var r,i,a,o,u;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Eo();case 3:return i=e.sent,a=i.transaction(xo,"readwrite"),o=a.objectStore(xo),e.next=8,o.put(n,No(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ta?Xa.warn(e.t0.message):(u=lo.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Xa.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Co.apply(this,arguments)}function No(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ao=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Lo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return p(e,[{key:"triggerHeartbeat",value:function(){var e=ma(va().mark((function e(){var t,n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Oo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ma(va().mark((function e(){var t,n,r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Oo(),n=Ro(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Bi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Oo(){return(new Date).toISOString().substring(0,10)}function Ro(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Fi(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Mo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Mo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Do,Po,Lo=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return p(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Io(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",To(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",To(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(f(r.heartbeats),f(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Mo(e){return Bi(JSON.stringify({version:2,heartbeats:e})).length}Do="",ao(new ga("platform-logger",(function(e){return new Za(e)}),"PRIVATE")),ao(new ga("heartbeat",(function(e){return new Ao(e)}),"PRIVATE")),ko(Ja,Ya,Do),ko(Ja,Ya,"esm2017"),ko("fire-js","");var jo=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,ro(t,new ga("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),mo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$a;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$a;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ro(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){io(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Fo=(Po={},(0,ji.Z)(Po,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,ji.Z)(Po,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Po),Uo=new na("app-compat","Firebase",Fo);var Vo=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=po(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(aa(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ko,setLogLevel:wo,onLog:bo,apps:null,SDK_VERSION:ho,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ao(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Uo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&zi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!aa(n,e=e||$a))throw Uo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(jo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){zi(n,e)},createSubscribe:fa,ErrorFactory:na,deepExtend:zi}),n}(),Bo=new Na("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Bo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var qo=self.firebase.SDK_VERSION;qo&&qo.indexOf("LITE")>=0&&Bo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var zo=Vo;!function(e){ko("@firebase/app-compat","0.1.39",e)}();function Ko(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function Wo(){return Wo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ko(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Wo.apply(this,arguments)}zo.registerVersion("firebase","9.14.0","app-compat");function Go(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ho;Object.create;var Qo="facebook.com",Zo="github.com",Jo="google.com",Yo="password",Xo="twitter.com",$o="EMAIL_SIGNIN",eu="PASSWORD_RESET",tu="RECOVER_EMAIL",nu="REVERT_SECOND_FACTOR_ADDITION",ru="VERIFY_AND_CHANGE_EMAIL",iu="VERIFY_EMAIL";function au(){return(0,ji.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ou=function(){var e;return e={},(0,ji.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,ji.Z)(e,"argument-error",""),(0,ji.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,ji.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,ji.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,ji.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,ji.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,ji.Z)(e,"cors-unsupported","This browser is not supported."),(0,ji.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,ji.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,ji.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,ji.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,ji.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,ji.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,ji.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,ji.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,ji.Z)(e,"expired-action-code","The action code has expired."),(0,ji.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,ji.Z)(e,"internal-error","An internal AuthError has occurred."),(0,ji.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,ji.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,ji.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,ji.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,ji.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,ji.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,ji.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,ji.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,ji.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,ji.Z)(e,"invalid-email","The email address is badly formatted."),(0,ji.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,ji.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,ji.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,ji.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,ji.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,ji.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,ji.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,ji.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,ji.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,ji.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,ji.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,ji.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,ji.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,ji.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,ji.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,ji.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,ji.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,ji.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,ji.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,ji.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,ji.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,ji.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,ji.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,ji.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,ji.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,ji.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,ji.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,ji.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,ji.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,ji.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,ji.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,ji.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,ji.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,ji.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,ji.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,ji.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,ji.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,ji.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,ji.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,ji.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,ji.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,ji.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,ji.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,ji.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,ji.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,ji.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,ji.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,ji.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,ji.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,ji.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,ji.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,ji.Z)(e,"timeout","The operation has timed out."),(0,ji.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,ji.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,ji.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,ji.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,ji.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,ji.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,ji.Z)(e,"unverified-email","The operation requires a verified email."),(0,ji.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,ji.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,ji.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,ji.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,ji.Z)(e,"user-signed-out",""),(0,ji.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,ji.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,ji.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},uu=au,su=new na("auth","Firebase",au()),cu=new Na("@firebase/auth");function lu(e){if(cu.logLevel<=xa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cu.error.apply(cu,["Auth (".concat(ho,"): ").concat(e)].concat(n))}}function fu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vu.apply(void 0,[e].concat(n))}function hu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vu.apply(void 0,[e].concat(n))}function du(e,t,n){var r=Object.assign(Object.assign({},uu()),(0,ji.Z)({},t,n));return new na("auth","Firebase",r).create(t,{appName:e.name})}function pu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fu(e,"argument-error"),du(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function vu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=f(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(f(o)))}return su.create.apply(su,[e].concat(n))}function yu(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vu.apply(void 0,[t].concat(r))}}function mu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw lu(t),new Error(t)}function gu(e,t){e||mu(t)}var ku=new Map;function bu(e){gu(e instanceof Function,"Expected a class definition");var t=ku.get(e);return t?(gu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ku.set(e,t),t)}function wu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xu(){return"http:"===_u()||"https:"===_u()}function _u(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Eu=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,gu(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ki())||Hi()}return p(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xu()||Gi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Iu(e,t){gu(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Su=function(){function e(){h(this,e)}return p(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void mu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void mu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void mu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Tu=(Ho={},(0,ji.Z)(Ho,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,ji.Z)(Ho,"MISSING_CUSTOM_TOKEN","internal-error"),(0,ji.Z)(Ho,"INVALID_IDENTIFIER","invalid-email"),(0,ji.Z)(Ho,"MISSING_CONTINUE_URI","internal-error"),(0,ji.Z)(Ho,"INVALID_PASSWORD","wrong-password"),(0,ji.Z)(Ho,"MISSING_PASSWORD","internal-error"),(0,ji.Z)(Ho,"EMAIL_EXISTS","email-already-in-use"),(0,ji.Z)(Ho,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,ji.Z)(Ho,"INVALID_IDP_RESPONSE","invalid-credential"),(0,ji.Z)(Ho,"INVALID_PENDING_TOKEN","invalid-credential"),(0,ji.Z)(Ho,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,ji.Z)(Ho,"MISSING_REQ_TYPE","internal-error"),(0,ji.Z)(Ho,"EMAIL_NOT_FOUND","user-not-found"),(0,ji.Z)(Ho,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,ji.Z)(Ho,"EXPIRED_OOB_CODE","expired-action-code"),(0,ji.Z)(Ho,"INVALID_OOB_CODE","invalid-action-code"),(0,ji.Z)(Ho,"MISSING_OOB_CODE","internal-error"),(0,ji.Z)(Ho,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,ji.Z)(Ho,"INVALID_ID_TOKEN","invalid-user-token"),(0,ji.Z)(Ho,"TOKEN_EXPIRED","user-token-expired"),(0,ji.Z)(Ho,"USER_NOT_FOUND","user-token-expired"),(0,ji.Z)(Ho,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,ji.Z)(Ho,"INVALID_CODE","invalid-verification-code"),(0,ji.Z)(Ho,"INVALID_SESSION_INFO","invalid-verification-id"),(0,ji.Z)(Ho,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,ji.Z)(Ho,"MISSING_SESSION_INFO","missing-verification-id"),(0,ji.Z)(Ho,"SESSION_EXPIRED","code-expired"),(0,ji.Z)(Ho,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,ji.Z)(Ho,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,ji.Z)(Ho,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,ji.Z)(Ho,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,ji.Z)(Ho,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,ji.Z)(Ho,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,ji.Z)(Ho,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,ji.Z)(Ho,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,ji.Z)(Ho,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,ji.Z)(Ho,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,ji.Z)(Ho,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ho),Cu=new Eu(3e4,6e4);function Nu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Au(e,t,n,r){return Ou.apply(this,arguments)}function Ou(){return Ou=ma(va().mark((function e(t,n,r,i){var a,o=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ru(t,a,ma(va().mark((function e(){var a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=sa(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Su.fetch()(Mu(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Ru(e,t,n){return Du.apply(this,arguments)}function Du(){return Du=ma(va().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Tu),n),e.prev=2,a=new ju(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Fu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Fu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Fu(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Fu(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw du(t,p,d);case 34:fu(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ta)){e.next=41;break}throw e.t0;case 41:fu(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Du.apply(this,arguments)}function Pu(e,t,n,r){return Lu.apply(this,arguments)}function Lu(){return Lu=ma(va().mark((function e(t,n,r,i){var a,o,u=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Au(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&fu(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function Mu(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Iu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ju=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(hu(n.auth,"network-request-failed"))}),Cu.get())}))}return p(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Fu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=hu(e,t,r);return i.customData._tokenResponse=n,i}function Uu(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function Bu(e,t){return qu.apply(this,arguments)}function qu(){return qu=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}function zu(e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Wu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Gu(){return Gu=ma(va().mark((function e(t){var n,r,i,a,o,u,s=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=pa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,yu((a=Qu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Wu(Hu(a.auth_time)),issuedAtTime:Wu(Hu(a.iat)),expirationTime:Wu(Hu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Hu(e){return 1e3*Number(e)}function Qu(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return lu("JWT malformed, contained fewer than 3 sections"),null;try{var o=qi(i);return o?JSON.parse(o):(lu("Failed to decode base64 JWT payload"),null)}catch(u){return lu("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Zu(e,t){return Ju.apply(this,arguments)}function Ju(){return Ju=ma(va().mark((function e(t,n){var r=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ta&&Yu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ju.apply(this,arguments)}function Yu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Xu=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return p(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ma(va().mark((function t(){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),$u=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return p(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function es(e){return ts.apply(this,arguments)}function ts(){return ts=ma(va().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Zu(t,zu(r,{idToken:i}));case 6:yu(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?is(o.providerUserInfo):[],s=rs(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new $u(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(){return(ns=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pa(t),e.next=3,es(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(f(n),f(t))}function is(e){return e.map((function(e){var t=e.providerId,n=Go(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function as(e,t){return os.apply(this,arguments)}function os(){return os=ma(va().mark((function e(t,n){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ru(t,{},ma(va().mark((function e(){var r,i,a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sa({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Mu(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Su.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}var us=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return p(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){yu(e.idToken,"internal-error"),yu("undefined"!==typeof e.idToken,"internal-error"),yu("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Qu(e);return yu(t,"internal-error"),yu("undefined"!==typeof t.exp,"internal-error"),yu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ma(va().mark((function e(t){var n,r=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],yu(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ma(va().mark((function e(t,n){var r,i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,as(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return mu("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(yu("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(yu("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(yu("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ss(e,t){yu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var cs=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Go(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?f(a.providerData):[],this.metadata=new $u(a.createdAt||void 0,a.lastLoginAt||void 0)}return p(e,[{key:"getIdToken",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(yu(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Gu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ns.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(yu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){yu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ma(va().mark((function e(t){var n,r,i=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,es(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Zu(this,Uu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;yu(k&&_,t,"internal-error");var E=us.fromJSON(this.name,_);yu("string"===typeof k,t,"internal-error"),ss(f,t.name),ss(h,t.name),yu("boolean"===typeof b,t,"internal-error"),yu("boolean"===typeof w,t,"internal-error"),ss(d,t.name),ss(p,t.name),ss(v,t.name),ss(y,t.name),ss(m,t.name),ss(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(I._redirectEventId=y),I}},{key:"_fromIdTokenResponse",value:function(){var t=ma(va().mark((function t(n,r){var i,a,o,u=arguments;return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new us).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,es(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ls=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return p(e,[{key:"_isAvailable",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ls.type="NONE";var fs=ls;function hs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ds=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=hs(this.userKey,a.apiKey,o),this.fullPersistenceKey=hs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return p(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?cs._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ma(va().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(bu(fs),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||bu(fs),u=hs(i,n.config.apiKey,n.name),s=null,c=Fi(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=cs._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ps(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bs(t))return"Blackberry";if(ws(t))return"Webos";if(ys(t))return"Safari";if((t.includes("chrome/")||ms(t))&&!t.includes("edge/"))return"Chrome";if(ks(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return/firefox\//i.test(e)}function ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return/crios\//i.test(e)}function gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return/iemobile/i.test(e)}function ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return/android/i.test(e)}function bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return/blackberry/i.test(e)}function ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return/webos/i.test(e)}function xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return xs(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Es(){return Qi()&&10===document.documentMode}function Is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return xs(e)||ks(e)||ws(e)||bs(e)||/windows phone/i.test(e)||gs(e)}function Ss(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ps(Ki());break;case"Worker":t="".concat(ps(Ki()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ho,"/").concat(r)}var Ts=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return p(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ma(va().mark((function e(t){var n,r,i,a,o,u,s,c;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Fi(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Fi(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Cs=function(){function e(t,n,r){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new As(this),this.idTokenSubscription=new As(this),this.beforeStateQueue=new Ts(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=su,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return p(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=bu(t)),this._initializationPromise=this.queue(ma(va().mark((function r(){var i,a;return va().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ds.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ma(va().mark((function e(t){var n,r,i,a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return yu(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,es(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?pa(t):null)&&yu(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ma(va().mark((function e(t){var n,r=this,i=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&yu(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ma(va().mark((function n(){return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(bu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new na("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ma(va().mark((function e(t,n){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return yu(n=t&&bu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ds.create(this,[bu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ma(va().mark((function e(t){var n=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return yu(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return yu(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ss(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ma(va().mark((function e(){var t,n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,ji.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ns(e){return pa(e)}var As=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=fa((function(e){return n.observer=e}))}return p(e,[{key:"next",get:function(){return yu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Os(e,t,n){var r=Ns(e);yu(r._canInitEmulator,r,"emulator-config-failed"),yu(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Rs(t),o=function(e){var t=Rs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ds(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Ds(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Rs(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ds(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ps=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return p(e,[{key:"toJSON",value:function(){return mu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return mu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return mu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return mu("not implemented")}}]),e}();function Ls(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:resetPassword",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function js(e,t){return Fs.apply(this,arguments)}function Fs(){return Fs=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Fs.apply(this,arguments)}function Us(e,t){return Vs.apply(this,arguments)}function Vs(){return Vs=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:update",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function Bs(e,t){return qs.apply(this,arguments)}function qs(){return qs=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(t,"POST","/v1/accounts:signInWithPassword",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function zs(e,t){return Ks.apply(this,arguments)}function Ks(){return Ks=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:sendOobCode",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}function Ws(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(t,n));case 1:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Hs(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(t,n));case 1:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function Zs(e,t){return Js.apply(this,arguments)}function Js(){return Js=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(t,n));case 1:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Ys(e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(t,n));case 1:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function $s(e,t){return ec.apply(this,arguments)}function ec(){return ec=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(t,"POST","/v1/accounts:signInWithEmailLink",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(t,"POST","/v1/accounts:signInWithEmailLink",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}var rc=function(e){y(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return p(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Bs(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$s(t,{email:this._email,oobCode:this._password}));case 5:fu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",js(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",tc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:fu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ps);function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(t,"POST","/v1/accounts:signInWithIdp",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}var oc=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return p(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ic(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ic(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ic(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sa(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fu("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Go(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ps);function uc(e,t){return sc.apply(this,arguments)}function sc(){return sc=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:sendVerificationCode",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function cc(){return cc=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(t,"POST","/v1/accounts:signInWithPhoneNumber",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(){return lc=ma(va().mark((function e(t,n){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(t,"POST","/v1/accounts:signInWithPhoneNumber",Nu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Fu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}var fc=(0,ji.Z)({},"USER_NOT_FOUND","user-not-found");function hc(){return hc=ma(va().mark((function e(t,n){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Pu(t,"POST","/v1/accounts:signInWithPhoneNumber",Nu(t,r),fc));case 2:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}var dc=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return cc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return lc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return hc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ps);var pc=function(){function e(t){var n,r,i,a,o,u;h(this,e);var s=ca(la(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);yu(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return p(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ca(la(e)).link,n=t?ca(la(t)).deep_link_id:null,r=ca(la(e)).deep_link_id;return(r?ca(la(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(kC){return null}}}]),e}();var vc=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return p(e,null,[{key:"credential",value:function(e,t){return rc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=pc.parseLink(t);return yu(n,"argument-error"),rc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();vc.PROVIDER_ID="password",vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var yc=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return p(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),mc=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return p(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return f(this.scopes)}}]),n}(yc),gc=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return yu(e.idToken||e.accessToken,"argument-error"),oc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return yu("providerId"in t&&"signInMethod"in t,"argument-error"),oc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(mc),kc=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"facebook.com")}return p(n,null,[{key:"credential",value:function(e){return oc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(kC){return null}}}]),n}(mc);kc.FACEBOOK_SIGN_IN_METHOD="facebook.com",kc.PROVIDER_ID="facebook.com";var bc=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return p(n,null,[{key:"credential",value:function(e,t){return oc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(kC){return null}}}]),n}(mc);bc.GOOGLE_SIGN_IN_METHOD="google.com",bc.PROVIDER_ID="google.com";var wc=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"github.com")}return p(n,null,[{key:"credential",value:function(e){return oc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(kC){return null}}}]),n}(mc);wc.GITHUB_SIGN_IN_METHOD="github.com",wc.PROVIDER_ID="github.com";var xc=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return p(n,[{key:"_getIdTokenResponse",value:function(e){return ic(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ic(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ic(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ps),_c=function(e){y(n,e);var t=_(n);function n(e){return h(this,n),yu(e.startsWith("saml."),"argument-error"),t.call(this,e)}return p(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=xc.fromJSON(e);return yu(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return xc._create(r,n)}catch(i){return null}}}]),n}(yc),Ec=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"twitter.com")}return p(n,null,[{key:"credential",value:function(e,t){return oc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(kC){return null}}}]),n}(mc);function Ic(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(t,"POST","/v1/accounts:signUp",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}Ec.TWITTER_SIGN_IN_METHOD="twitter.com",Ec.PROVIDER_ID="twitter.com";var Tc=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return p(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ma(va().mark((function t(n,r,i){var a,o,u,s,c=arguments;return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,cs._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Cc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ma(va().mark((function t(n,r,i){var a;return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Cc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Cc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Nc(){return Nc=ma(va().mark((function e(t){var n,r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ns(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Tc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ic(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Tc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}var Ac=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o,u;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,w.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return p(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ta);function Oc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ac._fromErrorAndOperation(e,n,t,r);throw n}))}function Rc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Dc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=ma(va().mark((function e(t,n){var r,i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pa(t),e.next=3,jc(!0,r,n);case 3:return e.t0=Bu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Rc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=ma(va().mark((function e(t,n){var r,i,a=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Zu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Tc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function jc(e,t,n){return Fc.apply(this,arguments)}function Fc(){return(Fc=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,es(n);case 2:i=Rc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",yu(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=ma(va().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Zu(t,Oc(a,o,n,t),r);case 6:return yu((u=e.sent).idToken,a,"internal-error"),yu(s=Qu(u.idToken),a,"internal-error"),c=s.sub,yu(t.uid===c,a,"user-mismatch"),e.abrupt("return",Tc._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&fu(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Vc.apply(this,arguments)}function Bc(e,t){return qc.apply(this,arguments)}function qc(){return qc=ma(va().mark((function e(t,n){var r,i,a,o,u=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Oc(t,i,n);case 4:return a=e.sent,e.next=7,Tc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function zc(e,t){return Kc.apply(this,arguments)}function Kc(){return Kc=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bc(Ns(t),n));case 1:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}function Wc(e,t){return Gc.apply(this,arguments)}function Gc(){return(Gc=ma(va().mark((function e(t,n){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pa(t),e.next=3,jc(!1,r,n.providerId);case 3:return e.abrupt("return",Lc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e,t){return Qc.apply(this,arguments)}function Qc(){return(Qc=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(pa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(t,"POST","/v1/accounts:signInWithCustomToken",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}function Yc(){return Yc=ma(va().mark((function e(t,n){var r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ns(t),e.next=3,Zc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Tc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}var Xc=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return p(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?$c._fromServerResponse(e,t):fu(e,"internal-error")}}]),e}(),$c=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return p(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xc);function el(e,t,n){var r;yu((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),yu("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(yu(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(yu(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function tl(){return tl=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pa(t),a={requestType:"PASSWORD_RESET",email:n},r&&el(i,a,r),e.next=5,Hs(i,a);case 5:case"end":return e.stop()}}),e)}))),tl.apply(this,arguments)}function nl(){return nl=ma(va().mark((function e(t,n,r){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ls(pa(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(){return rl=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(pa(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}function il(e,t){return al.apply(this,arguments)}function al(){return al=ma(va().mark((function e(t,n){var r,i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pa(t),e.next=3,Ls(r,{oobCode:n});case 3:i=e.sent,yu(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return yu(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:yu(i.mfaInfo,r,"internal-error");case 13:yu(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Xc._fromServerResponse(Ns(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(){return ol=ma(va().mark((function e(t,n){var r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il(pa(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}function ul(e,t,n){return sl.apply(this,arguments)}function sl(){return sl=ma(va().mark((function e(t,n,r){var i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ns(t),e.next=3,Ic(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Tc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),sl.apply(this,arguments)}function cl(){return cl=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pa(t),a={requestType:"EMAIL_SIGNIN",email:n},yu(r.handleCodeInApp,i,"argument-error"),r&&el(i,a,r),e.next=6,Zs(i,a);case 6:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}function ll(){return ll=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pa(t),yu((a=vc.credentialWithLink(n,r||wu()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",zc(i,a));case 4:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(e,t){return hl.apply(this,arguments)}function hl(){return hl=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:createAuthUri",Nu(t,n)));case 1:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}function dl(){return dl=ma(va().mark((function e(t,n){var r,i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu()?wu():"http://localhost",i={identifier:n,continueUri:r},e.next=4,fl(pa(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),dl.apply(this,arguments)}function pl(){return(pl=ma(va().mark((function e(t,n){var r,i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pa(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&el(r.auth,a,n),e.next=8,Ws(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vl(){return(vl=ma(va().mark((function e(t,n,r){var i,a,o,u;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pa(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&el(i.auth,o,r),e.next=8,Ys(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yl(e,t){return ml.apply(this,arguments)}function ml(){return ml=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Au(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function gl(){return(gl=ma(va().mark((function e(t,n){var r,i,a,o,u,s,c;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=pa(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Zu(a,yl(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kl(e,t,n){return bl.apply(this,arguments)}function bl(){return bl=ma(va().mark((function e(t,n,r){var i,a,o,u;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Zu(t,js(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}var wl=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),xl=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return p(n)}(wl),_l=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return p(n)}(wl),El=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return p(n)}(xl),Il=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return p(n)}(wl),Sl=function(e){y(n,e);var t=_(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return p(n)}(xl);function Tl(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Qu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new wl(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new _l(a,i);case"github.com":return new El(a,i);case"google.com":return new Il(a,i);case"twitter.com":return new Sl(a,i,e.screenName||null);case"custom":case"anonymous":return new wl(a,null);default:return new wl(a,r,i)}}(n)}var Cl=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return p(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,ji.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Nl=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return p(e,[{key:"resolveSignIn",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ns(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Xc._fromServerResponse(r,e)}));yu(i.mfaPendingCredential,r,"internal-error");var o=Cl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ma(va().mark((function e(t){var a,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Tc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return yu(n.user,r,"internal-error"),e.abrupt("return",Tc._forOperation(n.user,n.operationType,u));case 17:fu(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Al(e,t){return Au(e,"POST","/v2/accounts/mfaEnrollment:start",Nu(e,t))}function Ol(e,t){return Au(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Nu(e,t))}var Rl=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Xc._fromServerResponse(t.auth,e)})))}))}return p(e,[{key:"getSession",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Cl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ma(va().mark((function e(t,n){var r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Zu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ma(va().mark((function e(t){var n,r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Zu(this.user,Ol(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Dl=new WeakMap;var Pl="__sak",Ll=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return p(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Pl,"1"),this.storage.removeItem(Pl),Promise.resolve(!0)):Promise.resolve(!1)}catch(kC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ml=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ki();return ys(e)||xs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Is(),e._shouldAllowMigration=!0,e}return p(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Es()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ma(va().mark((function e(t,r){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(m(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ma(va().mark((function e(t){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(m(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(m(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ll);Ml.type="LOCAL";var jl=Ml,Fl=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return p(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ll);Fl.type="SESSION";var Ul=Fl;function Vl(e){return Promise.all(e.map(function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Bl=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return p(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ma(va().mark((function e(t){var n,r,i,a,o,u,s,c;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Vl(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ql(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bl.receivers=[];var zl=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return p(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ma(va().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=ql("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Kl(){return window}function Wl(){return"undefined"!==typeof Kl().WorkerGlobalScope&&"function"===typeof Kl().importScripts}function Gl(){return Hl.apply(this,arguments)}function Hl(){return(Hl=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ql(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Zl="firebaseLocalStorageDb",Jl="firebaseLocalStorage",Yl="fbase_key",Xl=function(){function e(t){h(this,e),this.request=t}return p(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function $l(e,t){return e.transaction([Jl],t?"readwrite":"readonly").objectStore(Jl)}function ef(){var e=indexedDB.deleteDatabase(Zl);return new Xl(e).toPromise()}function tf(){var e=indexedDB.open(Zl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Jl,{keyPath:Yl})}catch(r){n(r)}})),e.addEventListener("success",ma(va().mark((function n(){var r;return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Jl)){n.next=12;break}return r.close(),n.next=5,ef();case 5:return n.t0=t,n.next=8,tf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function nf(e,t,n){return rf.apply(this,arguments)}function rf(){return rf=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$l(t,!0).put((i={},(0,ji.Z)(i,Yl,n),(0,ji.Z)(i,"value",r),i)),e.abrupt("return",new Xl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}function af(e,t){return of.apply(this,arguments)}function of(){return of=ma(va().mark((function e(t,n){var r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$l(t,!1).get(n),e.next=3,new Xl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function uf(e,t){var n=$l(e,!0).delete(t);return new Xl(n).toPromise()}var sf=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return p(e,[{key:"_openDb",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,tf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ma(va().mark((function e(){var t=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Bl._getInstance(Wl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ma(va().mark((function e(n,r){var i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ma(va().mark((function e(){var t,n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new zl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ql()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,tf();case 5:return t=e.sent,e.next=8,nf(t,Pl,"1");case 8:return e.next=10,uf(t,Pl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ma(va().mark((function e(t,n){var r=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return nf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return af(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ma(va().mark((function e(t){var n=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return uf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ma(va().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=$l(e,!1).getAll();return new Xl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Fi(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ma(va().mark((function t(){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();sf.type="LOCAL";var cf=sf;function lf(e,t){return Au(e,"POST","/v2/accounts/mfaSignIn:start",Nu(e,t))}function ff(e){return hf.apply(this,arguments)}function hf(){return hf=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=hu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function pf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var vf=1e12,yf=function(){function e(t){h(this,e),this.auth=t,this.counter=vf,this._widgets=new Map}return p(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new mf(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||vf;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||vf;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||vf,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),mf=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;yu(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return p(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var gf=pf("rcb"),kf=new Eu(3e4,6e4),bf="https://www.google.com/recaptcha/api.js?",wf=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Kl().grecaptcha)||void 0===t?void 0:t.render)}return p(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return yu(xf(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Kl().grecaptcha):new Promise((function(r,i){var a=Kl().setTimeout((function(){i(hu(e,"network-request-failed"))}),kf.get());Kl()[gf]=function(){Kl().clearTimeout(a),delete Kl()[gf];var o=Kl().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(hu(e,"internal-error"))},df("".concat(bf,"?").concat(sa({onload:gf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(hu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Kl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function xf(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var _f=function(){function e(){h(this,e)}return p(e,[{key:"load",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new yf(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ef="recaptcha",If={theme:"light",type:"image"},Sf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},If),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=Ef,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ns(r),this.isInvisible="invisible"===this.parameters.size,yu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;yu(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _f:new wf,this.validateStartingState()}return p(e,[{key:"verify",value:function(){var e=ma(va().mark((function e(){var t,n,r,i=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){yu(!this.parameters.sitekey,this.auth,"argument-error"),yu(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),yu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Kl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){yu(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ma(va().mark((function e(){var t,n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yu(xu()&&!Wl(),this.auth,"internal-error"),e.next=3,Tf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ff(this.auth);case 8:yu(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return yu(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Tf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Cf=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return p(e,[{key:"confirm",value:function(e){var t=dc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Nf(){return Nf=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ns(t),e.next=3,Df(i,n,pa(r));case 3:return a=e.sent,e.abrupt("return",new Cf(a,(function(e){return zc(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Af(e,t,n){return Of.apply(this,arguments)}function Of(){return(Of=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pa(t),e.next=3,jc(!1,i,"phone");case 3:return e.next=5,Df(i.auth,n,pa(r));case 5:return a=e.sent,e.abrupt("return",new Cf(a,(function(e){return Wc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rf(){return(Rf=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pa(t),e.next=3,Df(i.auth,n,pa(r));case 3:return a=e.sent,e.abrupt("return",new Cf(a,(function(e){return Hc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Df(e,t,n){return Pf.apply(this,arguments)}function Pf(){return Pf=ma(va().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,yu("string"===typeof a,t,"argument-error"),yu(r.type===Ef,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return yu("enroll"===u.type,t,"internal-error"),e.next=13,Al(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return yu("signin"===u.type,t,"internal-error"),yu(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,lf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,uc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Pf.apply(this,arguments)}function Lf(){return(Lf=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lc(pa(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mf=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ns(t)}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return Df(this.auth,e,pa(t))}}],[{key:"credential",value:function(e,t){return dc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?dc._fromTokenResponse(n,r):null}}]),e}();function jf(e,t){return t?bu(t):(yu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mf.PROVIDER_ID="phone",Mf.PHONE_SIGN_IN_METHOD="phone";var Ff=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return ic(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ic(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ic(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ps);function Uf(e){return Bc(e.auth,new Ff(e),e.bypassAuthState)}function Vf(e){var t=e.auth,n=e.user;return yu(n,t,"internal-error"),Uc(n,new Ff(e),e.bypassAuthState)}function Bf(e){return qf.apply(this,arguments)}function qf(){return qf=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,yu(r=t.user,n,"internal-error"),e.abrupt("return",Lc(r,new Ff(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}var zf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return p(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ma(va().mark((function t(n,r){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ma(va().mark((function e(t){var n,r,i,a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uf;case"linkViaPopup":case"linkViaRedirect":return Bf;case"reauthViaPopup":case"reauthViaRedirect":return Vf;default:fu(this.auth,"internal-error")}}},{key:"resolve",value:function(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Kf=new Eu(2e3,1e4);function Wf(e,t,n){return Gf.apply(this,arguments)}function Gf(){return Gf=ma(va().mark((function e(t,n,r){var i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ns(t),pu(t,n,yc),a=jf(i,r),o=new Jf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function Hf(){return(Hf=ma(va().mark((function e(t,n,r){var i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu((i=pa(t)).auth,n,yc),a=jf(i.auth,r),o=new Jf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qf(e,t,n){return Zf.apply(this,arguments)}function Zf(){return(Zf=ma(va().mark((function e(t,n,r){var i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu((i=pa(t)).auth,n,yc),a=jf(i.auth,r),o=new Jf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jf=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o){var u;return h(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,w.Z)(u),u}return p(n,[{key:"executeNotNull",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return yu(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ma(va().mark((function e(){var t,n=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gu(1===this.filter.length,"Popup operations only handle one event"),t=ql(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(hu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(hu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(hu(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Kf.get())}()}}]),n}(zf);Jf.currentPopupAction=null;var Yf=new Map,Xf=function(e){y(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return p(n,[{key:"execute",value:function(){var e=ma(va().mark((function e(){var t,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Yf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,$f(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Wo(m(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Yf.set(this.auth._key(),t);case 21:return this.bypassAuthState||Yf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ma(va().mark((function e(t){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Wo(m(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Wo(m(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(zf);function $f(e,t){return eh.apply(this,arguments)}function eh(){return eh=ma(va().mark((function e(t,n){var r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ah(n),i=ih(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ih(t)._set(ah(n),"true"));case 1:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e,t){Yf.set(e._key(),t)}function ih(e){return bu(e._redirectPersistence)}function ah(e){return hs("pendingRedirect",e.config.apiKey,e.name)}function oh(e,t,n){return function(e,t,n){return uh.apply(this,arguments)}(e,t,n)}function uh(){return uh=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ns(t),pu(t,n,yc),a=jf(i,r),e.next=5,th(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function sh(e,t,n){return function(e,t,n){return ch.apply(this,arguments)}(e,t,n)}function ch(){return(ch=ma(va().mark((function e(t,n,r){var i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu((i=pa(t)).auth,n,yc),a=jf(i.auth,r),e.next=5,th(a,i.auth);case 5:return e.next=7,yh(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lh(e,t,n){return function(e,t,n){return fh.apply(this,arguments)}(e,t,n)}function fh(){return(fh=ma(va().mark((function e(t,n,r){var i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu((i=pa(t)).auth,n,yc),a=jf(i.auth,r),e.next=5,jc(!1,i,n.providerId);case 5:return e.next=7,th(a,i.auth);case 7:return e.next=9,yh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hh(e,t){return dh.apply(this,arguments)}function dh(){return dh=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(t)._initializationPromise;case 2:return e.abrupt("return",ph(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}function ph(e,t){return vh.apply(this,arguments)}function vh(){return vh=ma(va().mark((function e(t,n){var r,i,a,o,u,s=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ns(t),a=jf(i,n),o=new Xf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}function yh(e){return mh.apply(this,arguments)}function mh(){return(mh=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ql("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gh=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return p(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(kh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function kh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function wh(e){return xh.apply(this,arguments)}function xh(){return xh=ma(va().mark((function e(t){var n,r=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Au(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}var _h=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eh=/^https?/;function Ih(){return Ih=ma(va().mark((function e(t){var n,r,i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wh(t);case 4:n=e.sent,r=n.authorizedDomains,i=Fi(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Sh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:fu(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ih.apply(this,arguments)}function Sh(e){var t=wu(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Eh.test(r))return!1;if(_h.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Th=new Eu(3e4,6e4);function Ch(){var e=Kl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=f(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Nh=null;function Ah(e){return Nh=Nh||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ch(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ch(),n(hu(e,"network-request-failed"))},timeout:Th.get()})}if(null===(i=null===(r=Kl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Kl().gapi)||void 0===a?void 0:a.load)){var u=pf("iframefcb");return Kl()[u]=function(){gapi.load?o():n(hu(e,"network-request-failed"))},df("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Nh=null,e}))}(e),Nh}var Oh=new Eu(5e3,15e3),Rh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ph(e){var t=e.config;yu(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Iu(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ho},i=Dh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(sa(r).slice(1))}function Lh(e){return Mh.apply(this,arguments)}function Mh(){return Mh=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ah(t);case 2:return n=e.sent,yu(r=Kl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ph(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rh,dontclear:!0},(function(e){return new Promise(function(){var n=ma(va().mark((function n(r,i){var a,o,u;return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Kl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=hu(t,"network-request-failed"),o=Kl().setTimeout((function(){i(a)}),Oh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}var jh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fh="_blank",Uh="http://localhost",Vh=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return p(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Bh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},jh),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ki().toLowerCase();n&&(u=ms(l)?Fh:n),vs(l)&&(t=t||Uh,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(_s(l)&&"_self"!==u)return qh(t||"",u),new Vh(null);var h=window.open(t||"",u,f);yu(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Vh(h)}function qh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zh="__/auth/handler",Kh="emulator/auth/handler";function Wh(e,t,n,r,i,a){yu(e.config.authDomain,e,"auth-domain-config-required"),yu(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ho,eventId:i};if(t instanceof yc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof mc){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(zh);return Iu(t,Kh)}(e),"?").concat(sa(p).slice(1))}var Gh="webStorageSupport",Hh=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ul,this._completeRedirectFn=ph,this._overrideRedirectResult=rh}return p(e,[{key:"_openPopup",value:function(){var e=ma(va().mark((function e(t,n,r,i){var a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gu(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Wh(t,n,r,wu(),i),e.abrupt("return",Bh(t,o,ql()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ma(va().mark((function e(t,n,r,i){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Wh(t,n,r,wu(),i),Kl().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(gu(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lh(t);case 2:return n=e.sent,r=new gh(t),n.register("authEvent",(function(e){return yu(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Gh,{type:Gh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),fu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ih.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Is()||ys()||xs()}}]),e}(),Qh=Hh,Zh=function(){function e(t){h(this,e),this.factorId=t}return p(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return mu("unexpected MultiFactorSessionType")}}}]),e}(),Jh=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return p(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Au(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Au(e,"POST","/v2/accounts/mfaSignIn:finalize",Nu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Zh),Yh=function(){function e(){h(this,e)}return p(e,null,[{key:"assertion",value:function(e){return Jh._fromCredential(e)}}]),e}();Yh.FACTOR_ID="phone";var Xh="@firebase/auth",$h="0.20.11",ed=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return p(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){yu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var td;!function(e){var t;null===(t=Yi())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function nd(){return window}td="Browser",ao(new ga("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){yu(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),yu(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:td,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ss(td)},i=new Cs(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ao(new ga("auth-internal",(function(e){return function(e){return new ed(e)}(Ns(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ko(Xh,$h,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(td)),ko(Xh,$h,"esm2017");function rd(e,t,n){return id.apply(this,arguments)}function id(){return id=ma(va().mark((function e(t,n,r){var i,a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nd(),o=a.BuildInfo,gu(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ld(n.sessionId);case 4:return u=e.sent,s={},xs()?s.ibi=o.packageName:ks()?s.apn=o.packageName:fu(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Wh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),id.apply(this,arguments)}function ad(){return ad=ma(va().mark((function e(t){var n,r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nd(),r=n.BuildInfo,i={},xs()?i.iosBundleId=r.packageName:ks()?i.androidPackageName=r.packageName:fu(t,"operation-not-supported-in-this-environment"),e.next=5,wh(t,i);case 5:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e){var t=nd().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ud(e,t,n){return sd.apply(this,arguments)}function sd(){return sd=ma(va().mark((function e(t,n,r){var i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nd(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(hu(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),ks()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),sd.apply(this,arguments)}function cd(e){var t,n,r,i,a,o,u,s,c,l,f=nd();yu("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),yu("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),yu("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yu("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yu("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ld(e){return fd.apply(this,arguments)}function fd(){return(fd=ma(va().mark((function e(t){var n,r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hd(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hd(e){if(gu(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var dd=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return p(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Wo(m(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gh);function pd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:kd(),postBody:null,tenantId:e.tenantId,error:hu(e,"no-auth-event")}}function vd(e,t){return bd()._set(wd(e),t)}function yd(e){return md.apply(this,arguments)}function md(){return md=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bd()._get(wd(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,bd()._remove(wd(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function gd(e,t){var n,r,i=function(e){var t=xd(e),n=t.link?decodeURIComponent(t.link):void 0,r=xd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return xd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=xd(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?hu(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function kd(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function bd(){return bu(jl)}function wd(e){return hs("authEvent",e.config.apiKey,e.name)}function xd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||l(t)||u(t)||s();r[0];return ca(r.slice(1).join("?"))}var _d=function(){function e(){h(this,e),this._redirectPersistence=Ul,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ph,this._overrideRedirectResult=rh}return p(e,[{key:"_initialize",value:function(){var e=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new dd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){fu(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ma(va().mark((function e(t,n,r,i){var a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Yf.clear(),e.next=10,this._originValidation(t);case 10:return o=pd(t,r,i),e.next=13,vd(t,o);case 13:return e.next=15,rd(t,o,n);case 15:return u=e.sent,e.next=18,od(u);case 18:return s=e.sent,e.abrupt("return",ud(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ad.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=nd(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ma(va().mark((function n(){return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,yd(e);case 2:t.onEvent(Id());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ma(va().mark((function n(r){var i,a;return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,yd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=gd(i,r.url)),t.onEvent(a||Id());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");nd().handleOpenURL=function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ed=_d;function Id(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hu("no-auth-event")}}function Sd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Td(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return!("file:"!==Sd()&&"ionic:"!==Sd()&&"capacitor:"!==Sd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cd(){return Qi()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Nd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return/Edge\/\d+/.test(e)}function Ad(){try{var e=self.localStorage,t=ql();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki();return Cd()||Nd(e)}()||Zi()}catch(n){return Od()&&Zi()}return!1}function Od(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Rd(){return("http:"===Sd()||"https:"===Sd()||Gi()||Td())&&!(Hi()||Wi())&&Ad()&&!Od()}function Dd(){return Td()&&"undefined"!==typeof document}function Pd(){return Ld.apply(this,arguments)}function Ld(){return(Ld=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Md={LOCAL:"local",NONE:"none",SESSION:"session"},jd=yu,Fd="persistence";function Ud(e,t){jd(Object.values(Md).includes(t),e,"invalid-persistence-type"),Hi()?jd(t!==Md.SESSION,e,"unsupported-persistence-type"):Wi()?jd(t===Md.NONE,e,"unsupported-persistence-type"):Od()?jd(t===Md.NONE||t===Md.LOCAL&&Zi(),e,"unsupported-persistence-type"):jd(t===Md.NONE||Ad(),e,"unsupported-persistence-type")}function Vd(e){return Bd.apply(this,arguments)}function Bd(){return Bd=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=qd(),r=hs(Fd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}function qd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var zd=yu,Kd=function(){function e(){h(this,e),this.browserResolver=bu(Qh),this.cordovaResolver=bu(Ed),this.underlyingResolver=null,this._redirectPersistence=Ul,this._completeRedirectFn=ph,this._overrideRedirectResult=rh}return p(e,[{key:"_initialize",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ma(va().mark((function e(t,n,r,i){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ma(va().mark((function e(t,n,r,i){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Dd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return zd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Pd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wd(e){return e.unwrap()}function Gd(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Yd(e,function(e,t){var n,r=pa(e),i=t;return yu(t.customData.operationType,r,"argument-error"),yu(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Nl._fromError(r,i)}(e,t));else if(i){var a=Hd(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Hd(e){var t=(e instanceof ta?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ta)&&"temporaryProof"in t&&"phoneNumber"in t)return Mf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Yo)return null;switch(r){case Jo:n=bc;break;case Qo:n=kc;break;case Zo:n=wc;break;case Xo:n=Ec;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?xc._create(r,u):oc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new gc(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ta?n.credentialFromError(e):n.credentialFromResult(e)}function Qd(e,t){return t.catch((function(t){throw t instanceof ta&&Gd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Hd(t)),additionalUserInfo:Tl(e),user:Xd.getOrCreate(r)}}))}function Zd(e,t){return Jd.apply(this,arguments)}function Jd(){return Jd=ma(va().mark((function e(t,n){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Qd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}var Yd=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return p(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Qd(Wd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Xd=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=pa(e);return Dl.has(t)||Dl.set(t,Rl._fromUser(t)),Dl.get(t)}(t)}return p(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(this.auth,Wc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zd(this.auth,Af(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(this.auth,Qf(this._delegate,t,Kd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vd(Ns(this.auth));case 2:return e.abrupt("return",lh(this._delegate,t,Kd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(this.auth,Hc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Zd(this.auth,function(e,t,n){return Rf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Qd(this.auth,function(e,t,n){return Hf.apply(this,arguments)}(this._delegate,e,Kd))}},{key:"reauthenticateWithRedirect",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vd(Ns(this.auth));case 2:return e.abrupt("return",sh(this._delegate,t,Kd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return pl.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return kl(pa(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return kl(pa(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Lf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return gl.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return vl.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Xd.USER_MAP=new WeakMap;var $d=yu,ep=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;$d(r,"invalid-api-key",{appName:t.name}),$d(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Kd:void 0;this._delegate=n.initialize({options:{persistence:np(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ou),this.linkUnderlyingAuth()}return p(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Xd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Os(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return rl.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return il(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return nl.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(this._delegate,ul(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return dl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=pc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $d(Rd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hh(this._delegate,Kd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Qd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ns(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=tp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=tp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return cl.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return tl.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ud(this._delegate,t),e.t0=t,e.next=e.t0===Md.SESSION?4:e.t0===Md.LOCAL?6:e.t0===Md.NONE?11:13;break;case 4:return n=Ul,e.abrupt("break",14);case 6:return e.next=8,bu(cf)._isAvailable();case 8:return r=e.sent,n=r?cf:jl,e.abrupt("break",14);case 11:return n=fs,e.abrupt("break",14);case 13:return e.abrupt("return",fu("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Qd(this._delegate,function(e){return Nc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Qd(this._delegate,zc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Qd(this._delegate,function(e,t){return Yc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Qd(this._delegate,function(e,t,n){return zc(pa(e),vc.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Qd(this._delegate,function(e,t,n){return ll.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Zd(this._delegate,function(e,t,n){return Nf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $d(Rd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Qd(this._delegate,Wf(this._delegate,t,Kd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $d(Rd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Vd(this._delegate);case 3:return e.abrupt("return",oh(this._delegate,t,Kd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ol.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function tp(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Xd.getOrCreate(e))},error:t,complete:n}}function np(e,t){var n=function(e,t){var n=qd();if(!n)return[];var r=hs(Fd,e,t);switch(n.getItem(r)){case Md.NONE:return[fs];case Md.LOCAL:return[cf,Ul];case Md.SESSION:return[Ul];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(cf)||n.push(cf),"undefined"!==typeof window)for(var r=0,i=[jl,Ul];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(fs)||n.push(fs),n}ep.Persistence=Md;var rp=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new Mf(Wd(zo.auth()))}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Mf.credential(e,t)}}]),e}();rp.PHONE_SIGN_IN_METHOD=Mf.PHONE_SIGN_IN_METHOD,rp.PROVIDER_ID=Mf.PROVIDER_ID;var ip,ap=yu,op=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zo.app();h(this,e),ap(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Sf(t,n,i.auth()),this.type=this._delegate.type}return p(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ip=zo).INTERNAL.registerComponent(new ga("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ep(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$o,PASSWORD_RESET:eu,RECOVER_EMAIL:tu,REVERT_SECOND_FACTOR_ADDITION:nu,VERIFY_AND_CHANGE_EMAIL:ru,VERIFY_EMAIL:iu}},EmailAuthProvider:vc,FacebookAuthProvider:kc,GithubAuthProvider:wc,GoogleAuthProvider:bc,OAuthProvider:gc,SAMLAuthProvider:_c,PhoneAuthProvider:rp,PhoneMultiFactorGenerator:Yh,RecaptchaVerifier:op,TwitterAuthProvider:Ec,Auth:ep,AuthCredential:Ps,Error:ta}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ip.registerVersion("@firebase/auth-compat","0.2.24");var up,sp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},cp={},lp=lp||{},fp=sp||self;function hp(){}function dp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vp="closure_uid_"+(1e9*Math.random()>>>0),yp=0;function mp(e,t,n){return e.call.apply(e.bind,arguments)}function gp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function kp(e,t,n){return(kp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mp:gp).apply(null,arguments)}function bp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wp(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xp(){this.s=this.s,this.o=this.o}xp.prototype.s=!1,xp.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,vp)&&e[vp]||(e[vp]=++yp))},xp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _p=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ep(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ip(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(dp(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Sp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Sp.prototype.h=function(){this.defaultPrevented=!0};var Tp=function(){if(!fp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fp.addEventListener("test",hp,t),fp.removeEventListener("test",hp,t)}catch(n){}return e}();function Cp(e){return/^[\s\xa0]*$/.test(e)}var Np=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ap(e,t){return e<t?-1:e>t?1:0}function Op(){var e=fp.navigator;return e&&(e=e.userAgent)?e:""}function Rp(e){return-1!=Op().indexOf(e)}function Dp(e){return Dp[" "](e),e}Dp[" "]=hp;var Pp,Lp=Rp("Opera"),Mp=Rp("Trident")||Rp("MSIE"),jp=Rp("Edge"),Fp=jp||Mp,Up=Rp("Gecko")&&!(-1!=Op().toLowerCase().indexOf("webkit")&&!Rp("Edge"))&&!(Rp("Trident")||Rp("MSIE"))&&!Rp("Edge"),Vp=-1!=Op().toLowerCase().indexOf("webkit")&&!Rp("Edge");function Bp(){var e=fp.document;return e?e.documentMode:void 0}e:{var qp="",zp=function(){var e=Op();return Up?/rv:([^\);]+)(\)|;)/.exec(e):jp?/Edge\/([\d\.]+)/.exec(e):Mp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Vp?/WebKit\/(\S+)/.exec(e):Lp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(zp&&(qp=zp?zp[1]:""),Mp){var Kp=Bp();if(null!=Kp&&Kp>parseFloat(qp)){Pp=String(Kp);break e}}Pp=qp}var Wp,Gp={};function Hp(){return function(e){var t=Gp;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Np(String(Pp)).split("."),n=Np("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ap(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ap(0==a[2].length,0==o[2].length)||Ap(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(fp.document&&Mp){var Qp=Bp();Wp=Qp||(parseInt(Pp,10)||void 0)}else Wp=void 0;var Zp=Wp;function Jp(e,t){if(Sp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Up){e:{try{Dp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Yp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Jp.X.h.call(this)}}wp(Jp,Sp);var Yp={2:"touch",3:"pen",4:"mouse"};Jp.prototype.h=function(){Jp.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xp="closure_listenable_"+(1e6*Math.random()|0),$p=0;function ev(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++$p,this.ba=this.ea=!1}function tv(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function nv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function rv(e){var t={};for(var n in e)t[n]=e[n];return t}var iv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function av(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<iv.length;a++)n=iv[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ov(e){this.src=e,this.g={},this.h=0}function uv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=_p(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(tv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function sv(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ov.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=sv(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ev(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var cv="closure_lm_"+(1e6*Math.random()|0),lv={};function fv(e,t,n,r,i){if(r&&r.once)return dv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)fv(e,t[a],n,r,i);return null}return n=bv(n),e&&e[Xp]?e.N(t,n,pp(r)?!!r.capture:!!r,i):hv(e,t,n,!1,r,i)}function hv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=pp(i)?!!i.capture:!!i,u=gv(e);if(u||(e[cv]=u=new ov(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=mv;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Tp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yv(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)dv(e,t[a],n,r,i);return null}return n=bv(n),e&&e[Xp]?e.O(t,n,pp(r)?!!r.capture:!!r,i):hv(e,t,n,!0,r,i)}function pv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)pv(e,t[a],n,r,i);else r=pp(r)?!!r.capture:!!r,n=bv(n),e&&e[Xp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=sv(a=e.g[t],n,r,i))&&(tv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=gv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sv(t,n,r,i)),(n=-1<e?t[e]:null)&&vv(n))}function vv(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Xp])uv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gv(t))?(uv(n,e),0==n.h&&(n.src=null,t[cv]=null)):tv(e)}}}function yv(e){return e in lv?lv[e]:lv[e]="on"+e}function mv(e,t){if(e.ba)e=!0;else{t=new Jp(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&vv(e),e=n.call(r,t)}return e}function gv(e){return(e=e[cv])instanceof ov?e:null}var kv="__closure_events_fn_"+(1e9*Math.random()>>>0);function bv(e){return"function"===typeof e?e:(e[kv]||(e[kv]=function(t){return e.handleEvent(t)}),e[kv])}function wv(){xp.call(this),this.i=new ov(this),this.P=this,this.I=null}function xv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Sp(t,e);else if(t instanceof Sp)t.target=t.target||e;else{var i=t;av(t=new Sp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=_v(o,r,!0,t)&&i}if(i=_v(o=t.g=e,r,!0,t)&&i,i=_v(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=_v(o=t.g=n[a],r,!1,t)&&i}function _v(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&uv(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}wp(wv,xp),wv.prototype[Xp]=!0,wv.prototype.removeEventListener=function(e,t,n,r){pv(this,e,t,n,r)},wv.prototype.M=function(){if(wv.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)tv(n[r]);delete t.g[e],t.h--}}this.I=null},wv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},wv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ev=fp.JSON.stringify;function Iv(){var e=Dv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Sv,Tv=function(){function e(){h(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=Cv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Cv=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Nv}),(function(e){return e.reset()})),Nv=function(){function e(){h(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Av(e){fp.setTimeout((function(){throw e}),0)}function Ov(e,t){Sv||function(){var e=fp.Promise.resolve(void 0);Sv=function(){e.then(Pv)}}(),Rv||(Sv(),Rv=!0),Dv.add(e,t)}var Rv=!1,Dv=new Tv;function Pv(){for(var e;e=Iv();){try{e.h.call(e.g)}catch(n){Av(n)}var t=Cv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Rv=!1}function Lv(e,t){wv.call(this),this.h=e||1,this.g=t||fp,this.j=kp(this.lb,this),this.l=Date.now()}function Mv(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function jv(e,t,n){if("function"===typeof e)n&&(e=kp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=kp(e.handleEvent,e)}return 2147483647<Number(t)?-1:fp.setTimeout(e,t||0)}function Fv(e){e.g=jv((function(){e.g=null,e.i&&(e.i=!1,Fv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}wp(Lv,wv),(up=Lv.prototype).ca=!1,up.R=null,up.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),xv(this,"tick"),this.ca&&(Mv(this),this.start()))}},up.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},up.M=function(){Lv.X.M.call(this),Mv(this),delete this.g};var Uv=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Fv(this)}},{key:"M",value:function(){Wo(m(n.prototype),"M",this).call(this),this.g&&(fp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(xp);function Vv(e){xp.call(this),this.h=e,this.g={}}wp(Vv,xp);var Bv=[];function qv(e,t,n,r){Array.isArray(n)||(n&&(Bv[0]=n.toString()),n=Bv);for(var i=0;i<n.length;i++){var a=fv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function zv(e){nv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&vv(e)}),e),e.g={}}function Kv(){this.g=!0}function Wv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ev(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Vv.prototype.M=function(){Vv.X.M.call(this),zv(this)},Vv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kv.prototype.Aa=function(){this.g=!1},Kv.prototype.info=function(){};var Gv={},Hv=null;function Qv(){return Hv=Hv||new wv}function Zv(e){Sp.call(this,Gv.Pa,e)}function Jv(e){var t=Qv();xv(t,new Zv(t))}function Yv(e,t){Sp.call(this,Gv.STAT_EVENT,e),this.stat=t}function Xv(e){var t=Qv();xv(t,new Yv(t,e))}function $v(e,t){Sp.call(this,Gv.Qa,e),this.size=t}function ey(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fp.setTimeout((function(){e()}),t)}Gv.Pa="serverreachability",wp(Zv,Sp),Gv.STAT_EVENT="statevent",wp(Yv,Sp),Gv.Qa="timingevent",wp($v,Sp);var ty={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ny={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ry(){}function iy(e){return e.h||(e.h=e.i())}function ay(){}ry.prototype.h=null;var oy,uy={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function sy(){Sp.call(this,"d")}function cy(){Sp.call(this,"c")}function ly(){}function fy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Vv(this),this.O=dy,e=Fp?125:void 0,this.T=new Lv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new hy}function hy(){this.i=null,this.g="",this.h=!1}wp(sy,Sp),wp(cy,Sp),wp(ly,ry),ly.prototype.g=function(){return new XMLHttpRequest},ly.prototype.i=function(){return{}},oy=new ly;var dy=45e3,py={},vy={};function yy(e,t,n){e.K=1,e.v=Ly(Ay(t)),e.s=n,e.P=!0,my(e,null)}function my(e,t){e.F=Date.now(),wy(e),e.A=Ay(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Qy(n.i,"t",r),e.C=0,n=e.l.H,e.h=new hy,e.g=Zm(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Uv(kp(e.La,e,e.g),e.N)),qv(e.S,e.g,"readystatechange",e.ib),t=e.H?rv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Jv(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function gy(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function ky(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=by(e,n))==vy){4==t&&(e.o=4,Xv(14),i=!1),Wv(e.j,e.m,null,"[Incomplete Response]");break}if(r==py){e.o=4,Xv(15),Wv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Wv(e.j,e.m,r,null),Sy(e,r)}gy(e)&&r!=vy&&r!=py&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bm(t),t.K=!0,Xv(11))):(Wv(e.j,e.m,n,"[Invalid Chunked Response]"),Iy(e),Ey(e))}function by(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vy:(n=Number(t.substring(n,r)),isNaN(n)?py:(r+=1)+n>t.length?vy:(t=t.substr(r,n),e.C=r+n,t))}function wy(e){e.V=Date.now()+e.O,xy(e,e.O)}function xy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ey(kp(e.gb,e),t)}function _y(e){e.B&&(fp.clearTimeout(e.B),e.B=null)}function Ey(e){0==e.l.G||e.I||Km(e.l,e)}function Iy(e){_y(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Mv(e.T),zv(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Sy(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||nm(n.h,e)))if(!e.J&&nm(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;zm(n),Dm(n)}Vm(n),Xv(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=ey(kp(n.cb,n),6e3));if(1>=tm(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Gm(n,11)}else if((e.J||n.g==e)&&zm(n),!Cp(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(rm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Py(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Qm(r,r.H?r.ka:null,r.V),d.J){im(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(_y(p),wy(p)),r.g=d}else Um(r);0<n.i.length&&Lm(n)}else"stop"!=a[0]&&"close"!=a[0]||Gm(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Gm(n,7):Rm(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Jv()}catch(a){}}function Ty(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(dp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(dp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(dp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(up=fy.prototype).setTimeout=function(e){this.O=e},up.ib=function(e){e=e.target;var t=this.L;t&&3==Sm(e)?t.l():this.La(e)},up.La=function(e){try{if(e==this.g)e:{var t=Sm(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Fp||this.g&&(this.h.h||this.g.fa()||Tm(this.g)))){this.I||4!=t||7==n||Jv(),_y(this);var r=this.g.aa();this.Y=r;t:if(gy(this)){var i=Tm(this.g);e="";var a=i.length,o=4==Sm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Iy(this),Ey(this);var u="";break t}this.h.i=new fp.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cp(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Xv(12),Iy(this),Ey(this);break e}Wv(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sy(this,r)}this.P?(ky(this,t,u),Fp&&this.i&&3==t&&(qv(this.S,this.T,"tick",this.hb),this.T.start())):(Wv(this.j,this.m,u,null),Sy(this,u)),4==t&&Iy(this),this.i&&!this.I&&(4==t?Km(this.l,this):(this.i=!1,wy(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Xv(12)):(this.o=0,Xv(13)),Iy(this),Ey(this)}}}catch(t){}},up.hb=function(){if(this.g){var e=Sm(this.g),t=this.g.fa();this.C<t.length&&(_y(this),ky(this,e,t),this.i&&4!=e&&wy(this))}},up.cancel=function(){this.I=!0,Iy(this)},up.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Jv(),Xv(17)),Iy(this),this.o=2,Ey(this)):xy(this,this.V-e)};var Cy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ny(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ny){this.h=void 0!==t?t:e.h,Oy(this,e.j),this.s=e.s,this.g=e.g,Ry(this,e.m),this.l=e.l,t=e.i;var n=new Ky;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Dy(this,n),this.o=e.o}else e&&(n=String(e).match(Cy))?(this.h=!!t,Oy(this,n[1]||"",!0),this.s=My(n[2]||""),this.g=My(n[3]||"",!0),Ry(this,n[4]),this.l=My(n[5]||"",!0),Dy(this,n[6]||"",!0),this.o=My(n[7]||"")):(this.h=!!t,this.i=new Ky(null,this.h))}function Ay(e){return new Ny(e)}function Oy(e,t,n){e.j=n?My(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ry(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Dy(e,t,n){t instanceof Ky?(e.i=t,function(e,t){t&&!e.j&&(Wy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Gy(this,t),Qy(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=jy(t,qy)),e.i=new Ky(t,e.h))}function Py(e,t,n){e.i.set(t,n)}function Ly(e){return Py(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function My(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function jy(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Fy),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fy(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ny.prototype.toString=function(){var e=[],t=this.j;t&&e.push(jy(t,Uy,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(jy(t,Uy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(jy(n,"/"==n.charAt(0)?By:Vy,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",jy(n,zy)),e.join("")};var Uy=/[#\/\?@]/g,Vy=/[#\?:]/g,By=/[#\?]/g,qy=/[#\?@]/g,zy=/#/g;function Ky(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wy(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Gy(e,t){Wy(e),t=Zy(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Hy(e,t){return Wy(e),t=Zy(e,t),e.g.has(t)}function Qy(e,t,n){Gy(e,t),0<n.length&&(e.i=null,e.g.set(Zy(e,t),Ep(n)),e.h+=n.length)}function Zy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(up=Ky.prototype).add=function(e,t){Wy(this),this.i=null,e=Zy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},up.forEach=function(e,t){Wy(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},up.oa=function(){Wy(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},up.W=function(e){Wy(this);var t=[];if("string"===typeof e)Hy(this,e)&&(t=t.concat(this.g.get(Zy(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},up.set=function(e,t){return Wy(this),this.i=null,Hy(this,e=Zy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},up.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},up.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Jy=p((function e(t,n){h(this,e),this.h=t,this.g=n}));function Yy(e){this.l=e||$y,fp.PerformanceNavigationTiming?e=0<(e=fp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fp.g&&fp.g.Ga&&fp.g.Ga()&&fp.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xy,$y=10;function em(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tm(e){return e.h?1:e.g?e.g.size:0}function nm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function rm(e,t){e.g?e.g.add(t):e.h=t}function im(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function am(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Fi(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ep(e.i)}function om(){}function um(){this.g=new om}function sm(e,t,n){var r=n||"";try{Ty(e,(function(e,n){var i=e;pp(e)&&(i=Ev(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function lm(e){this.l=e.ac||null,this.j=e.jb||!1}function fm(e,t){wv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=hm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yy.prototype.cancel=function(){if(this.i=am(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Fi(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},om.prototype.stringify=function(e){return fp.JSON.stringify(e,void 0)},om.prototype.parse=function(e){return fp.JSON.parse(e,void 0)},wp(lm,ry),lm.prototype.g=function(){return new fm(this.l,this.j)},lm.prototype.i=(Xy={},function(){return Xy}),wp(fm,wv);var hm=0;function dm(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function pm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vm(e)}function vm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(up=fm.prototype).open=function(e,t){if(this.readyState!=hm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vm(this)},up.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||fp).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},up.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pm(this)),this.readyState=hm},up.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vm(this)),this.g&&(this.readyState=3,vm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof fp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dm(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},up.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pm(this):vm(this),3==this.readyState&&dm(this)}},up.Va=function(e){this.g&&(this.response=this.responseText=e,pm(this))},up.Ua=function(e){this.g&&(this.response=e,pm(this))},up.ga=function(){this.g&&pm(this)},up.setRequestHeader=function(e,t){this.v.append(e,t)},up.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},up.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ym=fp.JSON.parse;function mm(e){wv.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gm,this.K=this.L=!1}wp(mm,wv);var gm="",km=/^https?$/i,bm=["POST","PUT"];function wm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xm(e),Em(e)}function xm(e){e.D||(e.D=!0,xv(e,"complete"),xv(e,"error"))}function _m(e){if(e.h&&"undefined"!=typeof lp&&(!e.C[1]||4!=Sm(e)||2!=e.aa()))if(e.v&&4==Sm(e))jv(e.Ha,0,e);else if(xv(e,"readystatechange"),4==Sm(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Cy)[1]||null;if(!a&&fp.self&&fp.self.location){var o=fp.self.location.protocol;a=o.substr(0,o.length-1)}i=!km.test(a?a.toLowerCase():"")}t=i}if(t)xv(e,"complete"),xv(e,"success");else{e.m=6;try{var u=2<Sm(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",xm(e)}}finally{Em(e)}}}function Em(e,t){if(e.g){Im(e);var n=e.g,r=e.C[0]?hp:null;e.g=null,e.C=null,t||xv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Im(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(fp.clearTimeout(e.A),e.A=null)}function Sm(e){return e.g?e.g.readyState:0}function Tm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case gm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(fg){return null}}function Cm(e){var t="";return nv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Nm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Cm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Py(e,t,n))}function Am(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Om(e){this.Ca=0,this.i=[],this.j=new Kv,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Am("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Am("baseRetryDelayMs",5e3,e),this.bb=Am("retryDelaySeedMs",1e4,e),this.$a=Am("forwardChannelMaxRetries",2,e),this.ta=Am("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Yy(e&&e.concurrentRequestLimit),this.Fa=new um,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Rm(e){if(Pm(e),3==e.G){var t=e.U++,n=Ay(e.F);Py(n,"SID",e.I),Py(n,"RID",t),Py(n,"TYPE","terminate"),jm(e,n),(t=new fy(e,e.j,t,void 0)).K=2,t.v=Ly(Ay(n)),n=!1,fp.navigator&&fp.navigator.sendBeacon&&(n=fp.navigator.sendBeacon(t.v.toString(),"")),!n&&fp.Image&&((new Image).src=t.v,n=!0),n||(t.g=Zm(t.l,null),t.g.da(t.v)),t.F=Date.now(),wy(t)}Hm(e)}function Dm(e){e.g&&(Bm(e),e.g.cancel(),e.g=null)}function Pm(e){Dm(e),e.u&&(fp.clearTimeout(e.u),e.u=null),zm(e),e.h.cancel(),e.m&&("number"===typeof e.m&&fp.clearTimeout(e.m),e.m=null)}function Lm(e){em(e.h)||e.m||(e.m=!0,Ov(e.Ja,e),e.C=0)}function Mm(e,t){var n;n=t?t.m:e.U++;var r=Ay(e.F);Py(r,"SID",e.I),Py(r,"RID",n),Py(r,"AID",e.T),jm(e,r),e.o&&e.s&&Nm(r,e.o,e.s),n=new fy(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Fm(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),rm(e.h,n),yy(n,r,t)}function jm(e,t){e.ia&&nv(e.ia,(function(e,n){Py(t,n,e)})),e.l&&Ty({},(function(e,n){Py(t,n,e)}))}function Fm(e,t,n){n=Math.min(e.i.length,n);var r=e.l?kp(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{sm(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Um(e){e.g||e.u||(e.Z=1,Ov(e.Ia,e),e.A=0)}function Vm(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=ey(kp(e.Ia,e),Wm(e,e.A)),e.A++,!0)}function Bm(e){null!=e.B&&(fp.clearTimeout(e.B),e.B=null)}function qm(e){e.g=new fy(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Ay(e.sa);Py(t,"RID","rpc"),Py(t,"SID",e.I),Py(t,"CI",e.L?"0":"1"),Py(t,"AID",e.T),Py(t,"TYPE","xmlhttp"),jm(e,t),e.o&&e.s&&Nm(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ly(Ay(t)),n.s=null,n.P=!0,my(n,e)}function zm(e){null!=e.v&&(fp.clearTimeout(e.v),e.v=null)}function Km(e,t){var n=null;if(e.g==t){zm(e),Bm(e),e.g=null;var r=2}else{if(!nm(e.h,t))return;n=t.D,im(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;xv(r=Qv(),new $v(r,n)),Lm(e)}else Um(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(tm(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=ey(kp(e.Ja,e,t),Wm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vm(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Gm(e,5);break;case 4:Gm(e,10);break;case 3:Gm(e,6);break;default:Gm(e,2)}}function Wm(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Gm(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=kp(e.kb,e);n||(n=new Ny("//www.google.com/images/cleardot.gif"),fp.location&&"http"==fp.location.protocol||Oy(n,"https"),Ly(n)),function(e,t){var n=new Kv;if(fp.Image){var r=new Image;r.onload=bp(cm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bp(cm,n,r,"TestLoadImage: error",!1,t),r.onabort=bp(cm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bp(cm,n,r,"TestLoadImage: timeout",!1,t),fp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xv(2);e.G=0,e.l&&e.l.va(t),Hm(e),Pm(e)}function Hm(e){if(e.G=0,e.la=[],e.l){var t=am(e.h);0==t.length&&0==e.i.length||(Ip(e.la,t),Ip(e.la,e.i),e.h.i.length=0,Ep(e.i),e.i.length=0),e.l.ua()}}function Qm(e,t,n){var r=n instanceof Ny?Ay(n):new Ny(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ry(r,r.m);else{var i=fp.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ny(null,void 0);r&&Oy(a,r),t&&(a.g=t),i&&Ry(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Py(r,n,t),Py(r,"VER",e.ma),jm(e,r),r}function Zm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new mm(new lm({jb:!0})):new mm(e.ra)).Ka(e.H),t}function Jm(){}function Ym(){if(Mp&&!(10<=Number(Zp)))throw Error("Environmental error: no available transport.")}function Xm(e,t){wv.call(this),this.g=new Om(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Cp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Cp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new tg(this)}function $m(e){sy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function eg(){cy.call(this),this.status=1}function tg(e){this.g=e}(up=mm.prototype).Ka=function(e){this.L=e},up.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oy.g(),this.C=this.u?iy(this.u):iy(oy),this.g.onreadystatechange=kp(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void wm(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Fi(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=fp.FormData&&e instanceof fp.FormData,!(0<=_p(bm,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=Fi(n);try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Im(this),0<this.B&&((this.K=function(e){return Mp&&Hp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kp(this.qa,this)):this.A=jv(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){wm(this,u)}},up.qa=function(){"undefined"!=typeof lp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xv(this,"timeout"),this.abort(8))},up.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xv(this,"complete"),xv(this,"abort"),Em(this))},up.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Em(this,!0)),mm.X.M.call(this)},up.Ha=function(){this.s||(this.F||this.v||this.l?_m(this):this.fb())},up.fb=function(){_m(this)},up.aa=function(){try{return 2<Sm(this)?this.g.status:-1}catch(Xy){return-1}},up.fa=function(){try{return this.g?this.g.responseText:""}catch(Xy){return""}},up.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ym(t)}},up.Ea=function(){return this.m},up.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(up=Om.prototype).ma=8,up.G=1,up.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new fy(this,this.j,e,void 0),n=this.s;if(this.S&&(n?av(n=rv(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Fm(this,t,r),Py(i=Ay(this.F),"RID",e),Py(i,"CVER",22),this.D&&Py(i,"X-HTTP-Session-Id",this.D),jm(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Cm(n)))+"&"+r:this.o&&Nm(i,this.o,n)),rm(this.h,t),this.Ya&&Py(i,"TYPE","init"),this.O?(Py(i,"$req",r),Py(i,"SID","null"),t.Z=!0,yy(t,i,null)):yy(t,i,r),this.G=2}}else 3==this.G&&(e?Mm(this,e):0==this.i.length||em(this.h)||Mm(this))},up.Ia=function(){if(this.u=null,qm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ey(kp(this.eb,this),e)}},up.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Xv(10),Dm(this),qm(this))},up.cb=function(){null!=this.v&&(this.v=null,Dm(this),Vm(this),Xv(19))},up.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Xv(2)):(this.j.info("Failed to ping google.com"),Xv(1))},(up=Jm.prototype).xa=function(){},up.wa=function(){},up.va=function(){},up.ua=function(){},up.Ra=function(){},Ym.prototype.g=function(e,t){return new Xm(e,t)},wp(Xm,wv),Xm.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Xv(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Qm(e,null,e.V),Lm(e)},Xm.prototype.close=function(){Rm(this.g)},Xm.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ev(e),e=n);t.i.push(new Jy(t.ab++,e)),3==t.G&&Lm(t)},Xm.prototype.M=function(){this.g.l=null,delete this.j,Rm(this.g),delete this.g,Xm.X.M.call(this)},wp($m,sy),wp(eg,cy),wp(tg,Jm),tg.prototype.xa=function(){xv(this.g,"a")},tg.prototype.wa=function(e){xv(this.g,new $m(e))},tg.prototype.va=function(e){xv(this.g,new eg)},tg.prototype.ua=function(){xv(this.g,"b")},Ym.prototype.createWebChannel=Ym.prototype.g,Xm.prototype.send=Xm.prototype.u,Xm.prototype.open=Xm.prototype.m,Xm.prototype.close=Xm.prototype.close,ty.NO_ERROR=0,ty.TIMEOUT=8,ty.HTTP_ERROR=6,ny.COMPLETE="complete",ay.EventType=uy,uy.OPEN="a",uy.CLOSE="b",uy.ERROR="c",uy.MESSAGE="d",wv.prototype.listen=wv.prototype.N,mm.prototype.listenOnce=mm.prototype.O,mm.prototype.getLastError=mm.prototype.Oa,mm.prototype.getLastErrorCode=mm.prototype.Ea,mm.prototype.getStatus=mm.prototype.aa,mm.prototype.getResponseJson=mm.prototype.Sa,mm.prototype.getResponseText=mm.prototype.fa,mm.prototype.send=mm.prototype.da,mm.prototype.setWithCredentials=mm.prototype.Ka;var ng=cp.createWebChannelTransport=function(){return new Ym},rg=cp.getStatEventTarget=function(){return Qv()},ig=cp.ErrorCode=ty,ag=cp.EventType=ny,og=cp.Event=Gv,ug=cp.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},sg=cp.FetchXmlHttpFactory=lm,cg=cp.WebChannel=ay,lg=cp.XhrIo=mm,fg="@firebase/firestore",hg=function(){function e(t){h(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();hg.UNAUTHENTICATED=new hg(null),hg.GOOGLE_CREDENTIALS=new hg("google-credentials-uid"),hg.FIRST_PARTY=new hg("first-party-uid"),hg.MOCK_USER=new hg("mock-user");var dg="9.14.0",pg=new Na("@firebase/firestore");function vg(){return pg.logLevel}function yg(e){if(pg.logLevel<=xa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(kg);pg.debug.apply(pg,["Firestore (".concat(dg,"): ").concat(e)].concat(f(i)))}}function mg(e){if(pg.logLevel<=xa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(kg);pg.error.apply(pg,["Firestore (".concat(dg,"): ").concat(e)].concat(f(i)))}}function gg(e){if(pg.logLevel<=xa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(kg);pg.warn.apply(pg,["Firestore (".concat(dg,"): ").concat(e)].concat(f(i)))}}function kg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function bg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(dg,") INTERNAL ASSERTION FAILED: ")+e;throw mg(t),new Error(t)}function wg(e,t){e||bg()}function xg(e,t){return e}var _g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Eg=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(ta),Ig=p((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Sg=p((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Tg=function(){function e(){h(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Cg=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ng=function(){function e(t){h(this,e),this.t=t,this.currentUser=hg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ig;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ig,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){yg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(yg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ig)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(yg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(wg("string"==typeof n.accessToken),new Sg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return wg(null===e||"string"==typeof e),new hg(e)}}]),e}(),Ag=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=hg.FIRST_PARTY,this.p=new Map}return p(e,[{key:"I",value:function(){return this.g?this.g():(wg(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Og=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new Ag(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Rg=p((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Dg=function(){function e(t){h(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&yg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,yg("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){yg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):yg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(wg("string"==typeof t.token),e.A=t.token,new Rg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Pg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Lg=function(){function e(){h(this,e)}return p(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Pg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Mg(e,t){return e<t?-1:e>t?1:0}function jg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fg(e){return e+"\0"}var Ug=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Eg(_g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Eg(_g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Eg(_g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Eg(_g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Mg(this.nanoseconds,e.nanoseconds):Mg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Vg=function(){function e(t){h(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ug(0,0))}},{key:"max",value:function(){return new e(new Ug(253402300799,999999999))}}]),e}(),Bg=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&bg(),void 0===r?r=t.length-n:r>t.length-n&&bg(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),qg=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Eg(_g.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,f(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bg),zg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kg=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return zg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Eg(_g.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Eg(_g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Eg(_g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Eg(_g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bg),Wg=function(){function e(t){h(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===qg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(qg.fromString(t))}},{key:"fromName",value:function(t){return new e(qg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(qg.emptyPath())}},{key:"comparator",value:function(e,t){return qg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new qg(t.slice()))}}]),e}(),Gg=p((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Hg(e){return e.fields.find((function(e){return 2===e.kind}))}function Qg(e){return e.fields.filter((function(e){return 2!==e.kind}))}Gg.UNKNOWN_ID=-1;var Zg=p((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var Jg=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return p(e,null,[{key:"empty",value:function(){return new e(0,$g.min())}}]),e}();function Yg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vg.fromTimestamp(1e9===r?new Ug(n+1,0):new Ug(n,r));return new $g(i,Wg.empty(),t)}function Xg(e){return new $g(e.readTime,e.key,-1)}var $g=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(Vg.min(),Wg.empty(),-1)}},{key:"max",value:function(){return new e(Vg.max(),Wg.empty(),-1)}}]),e}();function ek(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Wg.comparator(e.documentKey,t.documentKey))?n:Mg(e.largestBatchId,t.largestBatchId)}var tk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nk=function(){function e(){h(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function rk(e){return ik.apply(this,arguments)}function ik(){return ik=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_g.FAILED_PRECONDITION&&t.message===tk){e.next=2;break}throw t;case 2:yg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}var ak=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&bg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Fi(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ok=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Ig,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new ck(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=pk(e.target.error);r.P.reject(new ck(t,n))}}return p(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(yg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new fk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ck(n,t)}}}]),e}(),uk=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Ki())&&mg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return p(e,[{key:"F",value:function(){var e=ma(va().mark((function e(t){var n=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return yg("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ck(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Eg(_g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Eg(_g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ck(t,n))},i.onupgradeneeded=function(e){yg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){yg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ma(va().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(va().mark((function e(){var n,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=ok.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ak.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,yg("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return yg("SimpleDb","Removing database:",e),hk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Zi())return!1;if(e.N())return!0;var t=Ki(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/tasty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),sk=function(){function e(t){h(this,e),this.U=t,this.q=!1,this.K=null}return p(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return hk(this.U.delete())}}]),e}(),ck=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,_g.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return p(n)}(Eg);function lk(e){return"IndexedDbTransactionError"===e.name}var fk=function(){function e(t){h(this,e),this.store=t}return p(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(yg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(yg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),hk(n)}},{key:"add",value:function(e){return yg("SimpleDb","ADD",this.store.name,e,e),hk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return hk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),yg("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return yg("SimpleDb","DELETE",this.store.name,e),hk(this.store.delete(e))}},{key:"count",value:function(){return yg("SimpleDb","COUNT",this.store.name),hk(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ak((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ak((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){yg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ak((function(n,r){t.onerror=function(e){var t=pk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ak((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new sk(i),o=t(i.primaryKey,i.value,a);if(o instanceof ak){var u=o.catch((function(e){return a.done(),ak.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return ak.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function hk(e){return new ak((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=pk(e.target.error);n(t)}}))}var dk=!1;function pk(e){var t=uk.D(Ki());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Eg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return dk||(dk=!0,setTimeout((function(){throw r}),0)),r}}return e}var vk=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.et=n,this.task=null}return p(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;yg("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=yg,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!lk(e.t4)){e.next=17;break}yg("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,rk(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),yk=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return p(e,[{key:"st",value:function(){var e=ma(va().mark((function e(){var t,n=this,r=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ak.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return yg("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return yg("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Xg(t);ek(r,n)>0&&(n=r)})),new $g(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),mk=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function gk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}mk.at=-1;var wk=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||_k.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_k.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_k.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xk(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xk(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xk(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xk(this.root,e,this.comparator,!0)}}]),e}(),xk=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_k=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw bg();if(this.right.isRed())throw bg();var e=this.left.check();if(e!==this.right.check())throw bg();return e+(this.isRed()?0:1)}}]),e}();_k.EMPTY=null,_k.RED=!0,_k.BLACK=!1,_k.EMPTY=new(function(){function e(){h(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw bg()}},{key:"value",get:function(){throw bg()}},{key:"color",get:function(){throw bg()}},{key:"left",get:function(){throw bg()}},{key:"right",get:function(){throw bg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _k(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ek=function(){function e(t){h(this,e),this.comparator=t,this.data=new wk(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ik(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ik(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ik=function(){function e(t){h(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Sk(e){return e.hasNext()?e.getNext():void 0}var Tk=function(){function e(t){h(this,e),this.fields=t,t.sort(Kg.comparator)}return p(e,[{key:"unionWith",value:function(t){var n,r=new Ek(Kg.comparator),i=Fi(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Fi(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Fi(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return jg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Ck=function(e){function t(e){h(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Mg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ck.EMPTY_BYTE_STRING=new Ck("");var Nk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ak(e){if(wg(!!e),"string"==typeof e){var t=0,n=Nk.exec(e);if(wg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ok(e.seconds),nanos:Ok(e.nanos)}}function Ok(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rk(e){return"string"==typeof e?Ck.fromBase64String(e):Ck.fromUint8Array(e)}function Dk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pk(e){var t=e.mapValue.fields.__previous_value__;return Dk(t)?Pk(t):t}function Lk(e){var t=Ak(e.mapValue.fields.__local_write_time__.timestampValue);return new Ug(t.seconds,t.nanos)}var Mk=p((function e(t,n,r,i,a,o,u,s){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),jk=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Fk(e){return null==e}function Uk(e){return 0===e&&1/e==-1/0}function Vk(e){return"number"==typeof e&&Number.isInteger(e)&&!Uk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Bk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qk={nullValue:"NULL_VALUE"};function zk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Dk(e)?4:rb(e)?9007199254740991:10:bg()}function Kk(e,t){if(e===t)return!0;var n=zk(e);if(n!==zk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lk(e).isEqual(Lk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ak(e.timestampValue),r=Ak(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rk(e.bytesValue).isEqual(Rk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ok(e.geoPointValue.latitude)===Ok(t.geoPointValue.latitude)&&Ok(e.geoPointValue.longitude)===Ok(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ok(e.integerValue)===Ok(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ok(e.doubleValue),r=Ok(t.doubleValue);return n===r?Uk(n)===Uk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jg(e.arrayValue.values||[],t.arrayValue.values||[],Kk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gk(n)!==gk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kk(n[i],r[i])))return!1;return!0}(e,t);default:return bg()}}function Wk(e,t){return void 0!==(e.values||[]).find((function(e){return Kk(e,t)}))}function Gk(e,t){if(e===t)return 0;var n=zk(e),r=zk(t);if(n!==r)return Mg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ok(e.integerValue||e.doubleValue),r=Ok(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hk(e.timestampValue,t.timestampValue);case 4:return Hk(Lk(e),Lk(t));case 5:return Mg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rk(e),r=Rk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Mg(n[i],r[i]);if(0!==a)return a}return Mg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mg(Ok(e.latitude),Ok(t.latitude));return 0!==n?n:Mg(Ok(e.longitude),Ok(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Gk(n[i],r[i]);if(a)return a}return Mg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Bk.mapValue&&t===Bk.mapValue)return 0;if(e===Bk.mapValue)return 1;if(t===Bk.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Mg(r[o],a[o]);if(0!==u)return u;var s=Gk(n[r[o]],i[a[o]]);if(0!==s)return s}return Mg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw bg()}}function Hk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mg(e,t);var n=Ak(e),r=Ak(t),i=Mg(n.seconds,r.seconds);return 0!==i?i:Mg(n.nanos,r.nanos)}function Qk(e){return Zk(e)}function Zk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ak(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Wg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Fi(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Zk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Fi(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Zk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):bg();var t,n}function Jk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Yk(e){return!!e&&"integerValue"in e}function Xk(e){return!!e&&"arrayValue"in e}function $k(e){return!!e&&"nullValue"in e}function eb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tb(e){return!!e&&"mapValue"in e}function nb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return kk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=nb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=nb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function rb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ib(e){return"nullValue"in e?qk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Jk(jk.empty(),Wg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:bg()}function ab(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Jk(jk.empty(),Wg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Bk:bg()}function ob(e,t){var n=Gk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ub(e,t){var n=Gk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var sb=function(){function e(t){h(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!tb(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nb(t)}},{key:"setAll",value:function(e){var t=this,n=Kg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=nb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());tb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Kk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];tb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){kk(t,(function(t,n){return e[t]=n}));var r,i=Fi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(nb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function cb(e){var t=[];return kk(e.fields,(function(e,n){var r=new Kg([e]);if(tb(n)){var i=cb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Fi(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Tk(t)}var lb=function(){function e(t,n,r,i,a,o){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=sb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=sb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Vg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vg.min(),Vg.min(),sb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Vg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vg.min(),sb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vg.min(),sb.empty(),2)}}]),e}(),fb=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function hb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new fb(e,t,n,r,i,a,o)}function db(e){var t=xg(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Qk(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Fk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Qk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Qk(e)})).join(",")),t.ht=n}return t.ht}function pb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ab(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Kk(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Rb(e.startAt,t.startAt)&&Rb(e.endAt,t.endAt)}function vb(e){return Wg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function yb(e,t){return e.filters.filter((function(e){return e instanceof kb&&e.field.isEqual(t)}))}function mb(e,t,n){var r,i=qk,a=!0,o=Fi(yb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=qk,c=!0;switch(u.op){case"<":case"<=":s=ib(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=qk}ob({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ob({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function gb(e,t,n){var r,i=Bk,a=!0,o=Fi(yb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Bk,c=!0;switch(u.op){case">=":case">":s=ab(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Bk}ub({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ub({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var kb=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Gk(t,this.value)):null!==t&&zk(this.value)===zk(t)&&this.ft(Gk(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bg()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new bb(e,t,r):"array-contains"===t?new Eb(e,r):"in"===t?new Ib(e,r):"not-in"===t?new Sb(e,r):"array-contains-any"===t?new Tb(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new wb(e,n):new xb(e,n)}}]),n}(function(){return p((function e(){h(this,e)}))}()),bb=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=Wg.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=Wg.comparator(e.key,this.key);return this.ft(t)}}]),n}(kb),wb=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=_b("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(kb),xb=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=_b("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(kb);function _b(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wg.fromName(e.referenceValue)}))}var Eb=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Xk(t)&&Wk(t.arrayValue,this.value)}}]),n}(kb),Ib=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Wk(this.value.arrayValue,t)}}]),n}(kb),Sb=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(Wk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Wk(this.value.arrayValue,t)}}]),n}(kb),Tb=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Xk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Wk(t.value.arrayValue,e)}))}}]),n}(kb),Cb=p((function e(t,n){h(this,e),this.position=t,this.inclusive=n})),Nb=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function Ab(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ob(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wg.comparator(Wg.fromName(o.referenceValue),n.key):Gk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Rb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Kk(e.position[n],t.position[n]))return!1;return!0}var Db=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Pb(e,t,n,r,i,a,o,u){return new Db(e,t,n,r,i,a,o,u)}function Lb(e){return new Db(e)}function Mb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function jb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Fb(e){var t,n=Fi(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ub(e){return null!==e.collectionGroup}function Vb(e){var t=xg(e);if(null===t._t){t._t=[];var n=Fb(t),r=jb(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Nb(n)),t._t.push(new Nb(Kg.keyField(),"asc"));else{var i,a=!1,o=Fi(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Nb(Kg.keyField(),s))}}}return t._t}function Bb(e){var t=xg(e);if(!t.wt)if("F"===t.limitType)t.wt=hb(t.path,t.collectionGroup,Vb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Fi(Vb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Nb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Cb(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Cb(t.startAt.position,t.startAt.inclusive):null;t.wt=hb(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function qb(e,t,n){return new Db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zb(e,t){return pb(Bb(e),Bb(t))&&e.limitType===t.limitType}function Kb(e){return"".concat(db(Bb(e)),"|lt:").concat(e.limitType)}function Wb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Qk(t.value));var t})).join(", "),"]")),Fk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Qk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Qk(e)})).join(",")),"Target(".concat(t,")")}(Bb(e)),"; limitType=").concat(e.limitType,")")}function Gb(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Fi(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Fi(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ob(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vb(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ob(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vb(e),t))}(e,t)}function Hb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qb(e){return function(t,n){var r,i=!1,a=Fi(Vb(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Zb(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Zb(e,t,n){var r=e.field.isKeyField()?Wg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gk(r,i):bg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bg()}}function Jb(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uk(t)?"-0":t}}function Yb(e){return{integerValue:""+e}}function Xb(e,t){return Vk(t)?Yb(t):Jb(e,t)}var $b=p((function e(){h(this,e),this._=void 0}));function ew(e,t,n){return e instanceof rw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof iw?aw(e,t):e instanceof ow?uw(e,t):function(e,t){var n=nw(e,t),r=cw(n)+cw(e.yt);return Yk(n)&&Yk(e.yt)?Yb(r):Jb(e.It,r)}(e,t)}function tw(e,t,n){return e instanceof iw?aw(e,t):e instanceof ow?uw(e,t):n}function nw(e,t){return e instanceof sw?Yk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var rw=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}($b),iw=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return p(n)}($b);function aw(e,t){var n,r=lw(t),i=Fi(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Kk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ow=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return p(n)}($b);function uw(e,t){var n,r=lw(t),i=Fi(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Kk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sw=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).It=e,i.yt=r,i}return p(n)}($b);function cw(e){return Ok(e.integerValue||e.doubleValue)}function lw(e){return Xk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fw=p((function e(t,n){h(this,e),this.field=t,this.transform=n}));var hw=p((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),dw=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function pw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var vw=p((function e(){h(this,e)}));function yw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Cw(e.key,dw.none()):new ww(e.key,e.data,dw.none());var n,r=e.data,i=sb.empty(),a=new Ek(Kg.comparator),o=Fi(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new xw(e.key,i,new Tk(a.toArray()),dw.none())}function mw(e,t,n){e instanceof ww?function(e,t,n){var r=e.value.clone(),i=Ew(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xw?function(e,t,n){if(pw(e.precondition,t)){var r=Ew(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_w(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gw(e,t,n,r){return e instanceof ww?function(e,t,n,r){if(!pw(e.precondition,t))return n;var i=e.value.clone(),a=Iw(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xw?function(e,t,n,r){if(!pw(e.precondition,t))return n;var i=Iw(e.fieldTransforms,r,t),a=t.data;return a.setAll(_w(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return pw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function kw(e,t){var n,r=null,i=Fi(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=nw(a.transform,o||null);null!=u&&(null===r&&(r=sb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function bw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof iw&&t instanceof iw||e instanceof ow&&t instanceof ow?jg(e.elements,t.elements,Kk):e instanceof sw&&t instanceof sw?Kk(e.yt,t.yt):e instanceof rw&&t instanceof rw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ww=function(e){y(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vw),xw=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return p(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(vw);function _w(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ew(e,t,n){var r=new Map;wg(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,tw(o,u,n[i]))}return r}function Iw(e,t,n){var r,i=new Map,a=Fi(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ew(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Sw,Tw,Cw=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vw),Nw=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vw),Aw=p((function e(t){h(this,e),this.count=t}));function Ow(e){switch(e){default:return bg();case _g.CANCELLED:case _g.UNKNOWN:case _g.DEADLINE_EXCEEDED:case _g.RESOURCE_EXHAUSTED:case _g.INTERNAL:case _g.UNAVAILABLE:case _g.UNAUTHENTICATED:return!1;case _g.INVALID_ARGUMENT:case _g.NOT_FOUND:case _g.ALREADY_EXISTS:case _g.PERMISSION_DENIED:case _g.FAILED_PRECONDITION:case _g.ABORTED:case _g.OUT_OF_RANGE:case _g.UNIMPLEMENTED:case _g.DATA_LOSS:return!0}}function Rw(e){if(void 0===e)return mg("GRPC error has no .code"),_g.UNKNOWN;switch(e){case Sw.OK:return _g.OK;case Sw.CANCELLED:return _g.CANCELLED;case Sw.UNKNOWN:return _g.UNKNOWN;case Sw.DEADLINE_EXCEEDED:return _g.DEADLINE_EXCEEDED;case Sw.RESOURCE_EXHAUSTED:return _g.RESOURCE_EXHAUSTED;case Sw.INTERNAL:return _g.INTERNAL;case Sw.UNAVAILABLE:return _g.UNAVAILABLE;case Sw.UNAUTHENTICATED:return _g.UNAUTHENTICATED;case Sw.INVALID_ARGUMENT:return _g.INVALID_ARGUMENT;case Sw.NOT_FOUND:return _g.NOT_FOUND;case Sw.ALREADY_EXISTS:return _g.ALREADY_EXISTS;case Sw.PERMISSION_DENIED:return _g.PERMISSION_DENIED;case Sw.FAILED_PRECONDITION:return _g.FAILED_PRECONDITION;case Sw.ABORTED:return _g.ABORTED;case Sw.OUT_OF_RANGE:return _g.OUT_OF_RANGE;case Sw.UNIMPLEMENTED:return _g.UNIMPLEMENTED;case Sw.DATA_LOSS:return _g.DATA_LOSS;default:return bg()}}(Tw=Sw||(Sw={}))[Tw.OK=0]="OK",Tw[Tw.CANCELLED=1]="CANCELLED",Tw[Tw.UNKNOWN=2]="UNKNOWN",Tw[Tw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tw[Tw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tw[Tw.NOT_FOUND=5]="NOT_FOUND",Tw[Tw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tw[Tw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tw[Tw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tw[Tw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tw[Tw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tw[Tw.ABORTED=10]="ABORTED",Tw[Tw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tw[Tw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tw[Tw.INTERNAL=13]="INTERNAL",Tw[Tw.UNAVAILABLE=14]="UNAVAILABLE",Tw[Tw.DATA_LOSS=15]="DATA_LOSS";var Dw=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Fi(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){kk(this.inner,(function(t,n){var r,i=Fi(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Pw=new wk(Wg.comparator);function Lw(){return Pw}var Mw=new wk(Wg.comparator);function jw(){for(var e=Mw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Fw(e){var t=Mw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Uw(){return Bw()}function Vw(){return Bw()}function Bw(){return new Dw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var qw=new wk(Wg.comparator),zw=new Ek(Wg.comparator);function Kw(){for(var e=zw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ww=new Ek(Mg);function Gw(){return Ww}var Hw=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Qw.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Vg.min(),i,Gw(),Lw(),Kw())}}]),e}(),Qw=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Kw(),Kw(),Kw())}}]),e}(),Zw=p((function e(t,n,r,i){h(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Jw=p((function e(t,n){h(this,e),this.targetId=t,this.At=n})),Yw=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ck.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Xw=function(){function e(){h(this,e),this.Rt=0,this.bt=tx(),this.Pt=Ck.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return p(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Kw(),t=Kw(),n=Kw();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bg()}})),new Qw(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=tx()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),$w=function(){function e(t){h(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Lw(),this.qt=ex(),this.Kt=new Ek(Mg)}return p(e,[{key:"Gt",value:function(e){var t,n=Fi(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Fi(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:bg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(vb(i))if(0===n){var a=new Wg(i.path);this.jt(t,a,lb.newNoDocument(a,Vg.min()))}else wg(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&vb(a.target)){var o=new Wg(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,lb.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Kw();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Hw(e,n,this.Kt,this.Ut,r);return this.Ut=Lw(),this.qt=ex(),this.Kt=new Ek(Mg),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Xw,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Ek(Mg),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||yg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Xw),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ex(){return new wk(Wg.comparator)}function tx(){return new wk(Wg.comparator)}var nx={asc:"ASCENDING",desc:"DESCENDING"},rx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ix=p((function e(t,n){h(this,e),this.databaseId=t,this.gt=n}));function ax(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ox(e,t){return e.gt?t.toBase64():t.toUint8Array()}function ux(e,t){return ax(e,t.toTimestamp())}function sx(e){return wg(!!e),Vg.fromTimestamp(function(e){var t=Ak(e);return new Ug(t.seconds,t.nanos)}(e))}function cx(e,t){return function(e){return new qg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function lx(e){var t=qg.fromString(e);return wg(Dx(t)),t}function fx(e,t){return cx(e.databaseId,t.path)}function hx(e,t){var n=lx(t);if(n.get(1)!==e.databaseId.projectId)throw new Eg(_g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eg(_g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wg(yx(n))}function dx(e,t){return cx(e.databaseId,t)}function px(e){var t=lx(e);return 4===t.length?qg.emptyPath():yx(t)}function vx(e){return new qg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yx(e){return wg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function mx(e,t,n){return{name:fx(e,t),fields:n.value.mapValue.fields}}function gx(e,t,n){var r=hx(e,t.name),i=sx(t.updateTime),a=new sb({mapValue:{fields:t.fields}}),o=lb.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kx(e,t){return"found"in t?function(e,t){wg(!!t.found),t.found.name,t.found.updateTime;var n=hx(e,t.found.name),r=sx(t.found.updateTime),i=new sb({mapValue:{fields:t.found.fields}});return lb.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){wg(!!t.missing),wg(!!t.readTime);var n=hx(e,t.missing),r=sx(t.readTime);return lb.newNoDocument(n,r)}(e,t):bg()}function bx(e,t){var n;if(t instanceof ww)n={update:mx(e,t.key,t.value)};else if(t instanceof Cw)n={delete:fx(e,t.key)};else if(t instanceof xw)n={update:mx(e,t.key,t.data),updateMask:Rx(t.fieldMask)};else{if(!(t instanceof Nw))return bg();n={verify:fx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof rw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof iw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ow)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sw)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw bg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ux(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bg()}(e,t.precondition)),n}function wx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?dw.updateTime(sx(e.updateTime)):void 0!==e.exists?dw.exists(e.exists):dw.none()}(t.currentDocument):dw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)wg("REQUEST_TIME"===t.setToServerValue),n=new rw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new iw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ow(i)}else"increment"in t?n=new sw(e,t.increment):bg();var a=Kg.fromServerFormat(t.fieldPath);return new fw(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=hx(e,t.update.name),a=new sb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Tk(t.map((function(e){return Kg.fromServerFormat(e)})))}(t.updateMask);return new xw(i,a,o,n,r)}return new ww(i,a,n,r)}if(t.delete){var u=hx(e,t.delete);return new Cw(u,n)}if(t.verify){var s=hx(e,t.verify);return new Nw(s,n)}return bg()}function xx(e,t){return{documents:[dx(e,t.path)]}}function _x(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=dx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(eb(e.value))return{unaryFilter:{field:Cx(e.field),op:"IS_NAN"}};if($k(e.value))return{unaryFilter:{field:Cx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eb(e.value))return{unaryFilter:{field:Cx(e.field),op:"IS_NOT_NAN"}};if($k(e.value))return{unaryFilter:{field:Cx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cx(e.field),op:Tx(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Cx(e.field),direction:Sx(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Fk(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ex(e){var t=px(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wg(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ix(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Nb(Nx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Fk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Cb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Cb(n,t)}(n.endAt)),Pb(t,i,u,o,s,"F",c,l)}function Ix(e){return e?void 0!==e.unaryFilter?[Ox(e)]:void 0!==e.fieldFilter?[Ax(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ix(e)})).reduce((function(e,t){return e.concat(t)})):bg():[]}function Sx(e){return nx[e]}function Tx(e){return rx[e]}function Cx(e){return{fieldPath:e.canonicalString()}}function Nx(e){return Kg.fromServerFormat(e.fieldPath)}function Ax(e){return kb.create(Nx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bg()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ox(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Nx(e.unaryFilter.field);return kb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Nx(e.unaryFilter.field);return kb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Nx(e.unaryFilter.field);return kb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Nx(e.unaryFilter.field);return kb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return bg()}}function Rx(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Dx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Px(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Mx(t)),t=Lx(e.get(n),t);return Mx(t)}function Lx(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Mx(e){return e+"\x01\x01"}function jx(e){var t=e.length;if(wg(t>=2),2===t)return wg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),qg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&bg(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:bg()}a=o+2}return new qg(r)}var Fx=["userId","batchId"];function Ux(e,t){return[e,Px(t)]}function Vx(e,t,n){return[e,Px(t),n]}var Bx={},qx=["prefixPath","collectionGroup","readTime","documentId"],zx=["prefixPath","collectionGroup","documentId"],Kx=["collectionGroup","readTime","prefixPath","documentId"],Wx=["canonicalId","targetId"],Gx=["targetId","path"],Hx=["path","targetId"],Qx=["collectionId","parent"],Zx=["indexId","uid"],Jx=["uid","sequenceNumber"],Yx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xx=["indexId","uid","orderedDocumentKey"],$x=["userId","collectionPath","documentId"],e_=["userId","collectionPath","largestBatchId"],t_=["userId","collectionGroup","largestBatchId"],n_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),r_=[].concat(f(n_),["documentOverlays"]),i_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],a_=i_,o_=[].concat(a_,["indexConfiguration","indexState","indexEntries"]),u_=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return p(n)}(nk);function s_(e,t){var n=xg(e);return uk.M(n.ie,t)}var c_=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&mw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Fi(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=gw(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Fi(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=gw(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Vw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=yw(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Vg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Kw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&jg(this.mutations,e.mutations,(function(e,t){return bw(e,t)}))&&jg(this.baseMutations,e.baseMutations,(function(e,t){return bw(e,t)}))}}]),e}(),l_=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){wg(t.mutations.length===r.length);for(var i=qw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),f_=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),h_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ck.EMPTY_BYTE_STRING;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),d_=p((function e(t){h(this,e),this.re=t}));function p_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:v_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:fx(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ax(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:y_(t.version)};else{if(!t.isUnknownDocument())return bg();r.unknownDocument={path:n.path.toArray(),version:y_(t.version)}}return r}function v_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function y_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function m_(e){var t=new Ug(e.seconds,e.nanoseconds);return Vg.fromTimestamp(t)}function g_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return wx(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return wx(e.re,t)})),u=Ug.fromMillis(t.localWriteTimeMs);return new c_(t.batchId,u,n,o)}function k_(e){var t,n,r=m_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?m_(e.lastLimboFreeSnapshotVersion):Vg.min();return void 0!==e.query.documents?(wg(1===(n=e.query).documents.length),t=Bb(Lb(px(n.documents[0])))):t=function(e){return Bb(Ex(e))}(e.query),new h_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ck.fromBase64String(e.resumeToken))}function b_(e,t){var n,r=y_(t.snapshotVersion),i=y_(t.lastLimboFreeSnapshotVersion);n=vb(t.target)?xx(e.re,t.target):_x(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:db(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function w_(e){var t=Ex({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qb(t,t.limit,"L"):t}function x_(e,t){return new f_(t.largestBatchId,wx(e.re,t.overlayMutation))}function __(e,t){var n=t.path.lastSegment();return[e,Px(t.path.popLast()),n]}function E_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:y_(r.readTime),documentKey:Px(r.documentKey.path),largestBatchId:r.largestBatchId}}var I_=function(){function e(){h(this,e)}return p(e,[{key:"getBundleMetadata",value:function(e,t){return S_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:m_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return S_(e).put({bundleId:(n=t).id,createTime:y_(sx(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return T_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:w_(t.bundledQuery),readTime:m_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return T_(e).put(function(e){return{name:e.name,readTime:y_(sx(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function S_(e){return s_(e,"bundles")}function T_(e){return s_(e,"namedQueries")}var C_=function(){function e(t,n){h(this,e),this.It=t,this.userId=n}return p(e,[{key:"getOverlay",value:function(e,t){var n=this;return N_(e).get(__(this.userId,t)).next((function(e){return e?x_(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Uw();return ak.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new f_(t,a);i.push(r.ue(e,o))})),ak.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Px(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(N_(e).Y("collectionPathOverlayIndex",i))})),ak.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Uw(),a=Px(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return N_(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Fi(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=x_(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Uw(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return N_(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=x_(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return N_(e).put(function(e,t,n){var r=c(__(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:bx(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function N_(e){return s_(e,"documentOverlays")}var A_=function(){function e(){h(this,e)}return p(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ok(e.integerValue));else if("doubleValue"in e){var n=Ok(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Uk(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Rk(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?rb(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):bg()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Fi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Wg.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function O_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function R_(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=O_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}A_.Te=new A_;var D_=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return p(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Fi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Fi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=R_(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=R_(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),P_=function(){function e(t){h(this,e),this.Be=t}return p(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),L_=function(){function e(t){h(this,e),this.Be=t}return p(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),M_=function(){function e(){h(this,e),this.Be=new D_,this.Le=new P_(this.Be),this.Ue=new L_(this.Be)}return p(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),j_=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return p(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function F_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=U_(e.arrayValue,t.arrayValue))?n:0!==(n=U_(e.directionalValue,t.directionalValue))?n:Wg.comparator(e.documentKey,t.documentKey)}function U_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var V_=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Fi(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return p(e,[{key:"We",value:function(e){var t=Hg(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Qg(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Fi(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),B_=function(){function e(){h(this,e),this.Ye=new q_}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),ak.resolve()}},{key:"getCollectionParents",value:function(e,t){return ak.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ak.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ak.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ak.resolve(null)}},{key:"getIndexType",value:function(e,t){return ak.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ak.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ak.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ak.resolve($g.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ak.resolve($g.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ak.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ak.resolve()}}]),e}(),q_=function(){function e(){h(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ek(qg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ek(qg.comparator)).toArray()}}]),e}(),z_=new Uint8Array(0),K_=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.Xe=new q_,this.Ze=new Dw((function(e){return db(e)}),(function(e,t){return pb(e,t)})),this.uid=t.uid||""}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Px(i)};return W_(e).put(a)}return ak.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fg(t),""],!1,!0);return W_(e).W(r).next((function(e){var r,i=Fi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(jx(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=H_(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Q_(e);return a.next((function(e){o.put(E_(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=H_(e),r=Q_(e),i=G_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=G_(e),i=!0,a=new Map;return ak.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Kw(),o=[];return ak.forEach(a,(function(i,a){var u;yg("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(db(t)));var s=function(e,t){var n=Hg(t);if(void 0===n)return null;var r,i=Fi(yb(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Fi(Qg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Fi(yb(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Fi(Qg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?mb(e,o.fieldPath,e.startAt):gb(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Cb(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Fi(Qg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?gb(e,o.fieldPath,e.endAt):mb(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Cb(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ak.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Wg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ak.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],h=function(s){var h=t?u.on(t[s/c]):z_,d=u.un(e,h,n[s%c],r),p=u.cn(e,h,i[s%c],a),v=o.map((function(t){return u.un(e,h,t,!0)}));l.push.apply(l,f(u.createRange(d,p,v)))},d=0;d<s;++d)h(d);return l}},{key:"un",value:function(e,t,n,r){var i=new j_(e,Wg.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new j_(e,Wg.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new V_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Fi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ak.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ek(Kg.comparator),r=!1,i=Fi(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Fi(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new M_,i=Fi(Qg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);A_.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new M_;return A_.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new M_;return A_.Te.ce(Jk(this.databaseId,t),n.qe(function(e){var t=Qg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new M_);var i,a=0,o=Fi(Qg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Fi(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Xk(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);A_.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=f(e),a=[],o=Fi(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Fi(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=new M_;h.seed(l.$e()),A_.Te.ce(s,h.qe(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof kb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=H_(e),i=Q_(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ak.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Jg(t.sequenceNumber,new $g(m_(t.readTime),new Wg(jx(t.documentKey)),t.largestBatchId)):Jg.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Zg(Kg.fromServerFormat(n),r)}));return new Gg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Mg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=H_(e),a=Q_(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ak.forEach(t,(function(t){return a.put(E_(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ak.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ak.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ak.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?ak.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return G_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return G_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=G_(e),i=new Ek(F_);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new j_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Ek(F_),r=this.an(t,e);if(null==r)return n;var i=Hg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Xk(a)){var o,u=Fi(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new j_(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new j_(t.indexId,e.key,z_,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;yg("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Sk(a),s=Sk(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Sk(o)):l?(i(u),u=Sk(a)):(u=Sk(a),s=Sk(o))}}(r,i,F_,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),ak.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Q_(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return F_(e,t)})).filter((function(e,t,n){return!t||0!==F_(e,n[t-1])}));var r=[];r.push(e);var i,a=Fi(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=F_(o,e),s=F_(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,z_,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,z_,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Z_)}},{key:"getMinOffset",value:function(e,t){var n=this;return ak.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||bg()}))})).next(Z_)}}]),e}();function W_(e){return s_(e,"collectionParents")}function G_(e){return s_(e,"indexEntries")}function H_(e){return s_(e,"indexConfiguration")}function Q_(e){return s_(e,"indexState")}function Z_(e){wg(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;ek(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $g(t.readTime,t.documentKey,n)}var J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y_=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function X_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){wg(1===u)})));var c,l=[],f=Fi(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Vx(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ak.waitFor(a).next((function(){return l}))}function $_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw bg();t=e.noDocument}return JSON.stringify(t).length}Y_.DEFAULT_COLLECTION_PERCENTILE=10,Y_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Y_.DEFAULT=new Y_(41943040,Y_.DEFAULT_COLLECTION_PERCENTILE,Y_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Y_.DISABLED=new Y_(-1,0,0);var eE=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return p(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nE(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=rE(e),o=nE(e);return o.add({}).next((function(u){wg("number"==typeof u);var s,c=new c_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return bx(e.re,t)})),i=n.mutations.map((function(t){return bx(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Ek((function(e,t){return Mg(e.canonicalString(),t.canonicalString())})),d=Fi(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Vx(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Bx))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),ak.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return nE(e).get(t).next((function(e){return e?(wg(e.userId===n.userId),g_(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?ak.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return nE(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(wg(t.batchId>=r),a=g_(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nE(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nE(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return g_(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ux(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return rE(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=jx(l);if(s===n.userId&&t.path.isEqual(h))return nE(e).get(f).next((function(e){if(!e)throw bg();wg(e.userId===n.userId),a.push(g_(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ek(Mg),i=[];return t.forEach((function(t){var a=Ux(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=rE(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=jx(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),ak.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ux(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ek(Mg);return rE(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=jx(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(nE(e).get(t).next((function(e){if(null===e)throw bg();wg(e.userId===n.userId),r.push(g_(n.It,e))})))})),ak.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return X_(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),ak.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ak.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return rE(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=jx(e[1]);i.push(a)}else r.done()})).next((function(){wg(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return tE(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return iE(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return wg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function tE(e,t,n){var r=Ux(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return rE(e).Z({range:a,X:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function nE(e){return s_(e,"mutations")}function rE(e){return s_(e,"documentMutations")}function iE(e){return s_(e,"mutationQueues")}var aE=function(){function e(t){h(this,e),this.bn=t}return p(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),oE=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.It=n}return p(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new aE(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Vg.fromTimestamp(new Ug(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return uE(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return wg(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return uE(e).Z((function(o,u){var s=k_(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ak.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return uE(e).Z((function(e,n){var r=k_(n);t(r)}))}},{key:"Vn",value:function(e){return sE(e).get("targetGlobalKey").next((function(e){return wg(null!==e),e}))}},{key:"Sn",value:function(e,t){return sE(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return uE(e).put(b_(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=db(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return uE(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=k_(n);pb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=cE(e);return t.forEach((function(t){var o=Px(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ak.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=cE(e);return ak.forEach(t,(function(t){var a=Px(t.path);return ak.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=cE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cE(e),i=Kw();return r.Z({range:n,X:!0},(function(e,t,n){var r=jx(e[1]),a=new Wg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Px(t.path),r=IDBKeyRange.bound([n],[Fg(n)],!1,!0),i=0;return cE(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return uE(e).get(t).next((function(e){return e?k_(e):null}))}}]),e}();function uE(e){return s_(e,"targets")}function sE(e){return s_(e,"targetGlobal")}function cE(e){return s_(e,"targetDocuments")}function lE(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Mg(r,o);return 0===s?Mg(i,u):s}var fE=function(){function e(t){h(this,e),this.xn=t,this.buffer=new Ek(lE),this.Nn=0}return p(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();lE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),hE=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return p(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;yg("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!lk(e.t0)){e.next=12;break}yg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,rk(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),dE=function(){function e(t,n){h(this,e),this.$n=t,this.params=n}return p(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ak.resolve(mk.at);var r=new fE(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(yg("LruGarbageCollector","Garbage collection skipped; disabled"),ak.resolve(J_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(yg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),J_):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(yg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),vg()<=xa.DEBUG&&yg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ak.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),pE=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=function(e,t){return new dE(e,t)}(this,n)}return p(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return vE(e,n)}},{key:"removeReference",value:function(e,t,n){return vE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return vE(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return iE(e).tt((function(r){return tE(e,r,t).next((function(e){return e&&(n=!0),ak.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Vg.min()),cE(e).delete([0,Px(o.path)])}))}));i.push(s)}})).next((function(){return ak.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return vE(e,t)}},{key:"Kn",value:function(e,t){var n,r=cE(e),i=mk.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==mk.at&&t(new Wg(jx(n)),i),i=s,n=u):i=mk.at})).next((function(){i!==mk.at&&t(new Wg(jx(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function vE(e,t){return cE(e).put(function(e,t){return{targetId:0,path:Px(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var yE=function(){function e(){h(this,e),this.changes=new Dw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,lb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ak.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),mE=function(){function e(t){h(this,e),this.It=t}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return wE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return wE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],v_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=lb.newInvalidDocument(t);return wE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xE(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:lb.newInvalidDocument(t)};return wE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xE(t))},(function(e,i){r={document:n.jn(t,i),size:$_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lw();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Lw(),i=new wk(Wg.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,$_(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return ak.resolve();var r=new Ek(EE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(xE(r.first()),xE(r.last())),a=r.getIterator(),o=a.getNext();return wE(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Wg.fromSegments([].concat(f(t.prefixPath),[t.collectionGroup,t.documentId]));o&&EE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(xE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),v_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wE(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Lw(),i=Fi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Wg.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Lw(),o=_E(t,n),u=_E(t,$g.max());return wE(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Wg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new kE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return bE(e).get("remoteDocumentGlobalKey").next((function(e){return wg(!!e),e}))}},{key:"Qn",value:function(e,t){return bE(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=gx(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Wg.fromSegments(t.noDocument.path),i=m_(t.noDocument.readTime);n=lb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return bg();var a=Wg.fromSegments(t.unknownDocument.path),o=m_(t.unknownDocument.version);n=lb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ug(e[0],e[1]);return Vg.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Vg.min()))return n}return lb.newInvalidDocument(e)}}]),e}();function gE(e){return new mE(e)}var kE=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Dw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ek((function(e,t){return Mg(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=p_(t.Yn.It,o);i=i.add(a.path.popLast());var c=$_(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=p_(t.Yn.It,o.convertToNoDocument(Vg.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),ak.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(yE);function bE(e){return s_(e,"remoteDocumentGlobal")}function wE(e){return s_(e,"remoteDocumentsV14")}function xE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function _E(e,t){var n=t.documentKey.path.toArray();return[e,v_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function EE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Mg(n[a],r[a]))return i;return(i=Mg(n.length,r.length))||((i=Mg(n[n.length-2],r[r.length-2]))||Mg(n[n.length-1],r[r.length-1]))}var IE=p((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),SE=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return p(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&gw(r.mutation,e,Tk.empty(),Ug.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Kw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kw(),i=Uw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=jw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Uw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Kw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Lw(),a=Bw(),o=Bw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof xw)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),gw(o.mutation,t,o.mutation.getFieldMask(),Ug.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new IE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Bw(),i=new wk((function(e,t){return e-t})),a=Kw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Fi(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Tk.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Kw()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Vw();c.forEach((function(e){if(!a.has(e)){var n=yw(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ak.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ub(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ak.resolve(Uw()),u=-1,s=a;return o.next((function(t){return ak.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ak.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Kw())})).next((function(e){return{batchId:u,changes:Fw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Wg(t)).next((function(e){var t=jw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=jw();return this.indexManager.getCollectionParents(e,i).next((function(o){return ak.forEach(o,(function(o){var u=function(e,t){return new Db(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,lb.newInvalidDocument(n)))}));var n=jw();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&gw(a.mutation,i,Tk.empty(),Ug.now()),Gb(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ak.resolve(lb.newInvalidDocument(t))}}]),e}(),TE=function(){function e(t){h(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return ak.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:sx(n.createTime)}),ak.resolve()}},{key:"getNamedQuery",value:function(e,t){return ak.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:w_(e.bundledQuery),readTime:sx(e.readTime)}}(t)),ak.resolve()}}]),e}(),CE=function(){function e(){h(this,e),this.overlays=new wk(Wg.comparator),this.es=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return ak.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Uw();return ak.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),ak.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),ak.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Uw(),i=t.length+1,a=new Wg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ak.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Uw(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Uw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ak.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new f_(t,n));var a=this.es.get(t);void 0===a&&(a=Kw(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),NE=function(){function e(){h(this,e),this.ns=new Ek(AE.ss),this.rs=new Ek(AE.os)}return p(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new AE(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new AE(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Wg(new qg([])),r=new AE(n,e),i=new AE(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Wg(new qg([])),n=new AE(t,e),r=new AE(t,e+1),i=Kw();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new AE(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),AE=function(){function e(t,n){h(this,e),this.key=t,this._s=n}return p(e,null,[{key:"ss",value:function(e,t){return Wg.comparator(e.key,t.key)||Mg(e._s,t._s)}},{key:"os",value:function(e,t){return Mg(e._s,t._s)||Wg.comparator(e.key,t.key)}}]),e}(),OE=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ek(AE.ss)}return p(e,[{key:"checkEmpty",value:function(e){return ak.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new c_(i,t,n,r);this.mutationQueue.push(a);var o,u=Fi(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new AE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ak.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ak.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return ak.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ak.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ak.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new AE(t,0),i=new AE(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),ak.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ek(Mg);return t.forEach((function(e){var t=new AE(e,0),i=new AE(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),ak.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wg.isDocumentKey(i)||(i=i.child(""));var a=new AE(new Wg(i),0),o=new Ek(Mg);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),ak.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;wg(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return ak.forEach(t.mutations,(function(i){var a=new AE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new AE(t,0),r=this.gs.firstAfterOrEqual(n);return ak.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ak.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),RE=function(){function e(t){h(this,e),this.Es=t,this.docs=new wk(Wg.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ak.resolve(n?n.document.mutableCopy():lb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():lb.newInvalidDocument(e))})),ak.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Lw(),i=new Wg(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||ek(Xg(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ak.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){bg()}},{key:"As",value:function(e,t){return ak.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new DE(this)}},{key:"getSize",value:function(e){return ak.resolve(this.size)}}]),e}(),DE=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).Yn=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),ak.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(yE),PE=function(){function e(t){h(this,e),this.persistence=t,this.Rs=new Dw((function(e){return db(e)}),pb),this.lastRemoteSnapshotVersion=Vg.min(),this.highestTargetId=0,this.bs=0,this.Ps=new NE,this.targetCount=0,this.vs=aE.Pn()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),ak.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ak.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ak.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),ak.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ak.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new aE(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,ak.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),ak.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ak.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ak.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ak.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return ak.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),ak.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ak.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),ak.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return ak.resolve(n)}},{key:"containsKey",value:function(e,t){return ak.resolve(this.Ps.containsKey(t))}}]),e}(),LE=function(){function e(t,n){var r=this;h(this,e),this.Vs={},this.overlays={},this.Ss=new mk(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new PE(this),this.indexManager=new B_,this.remoteDocumentCache=new RE((function(e){return r.referenceDelegate.xs(e)})),this.It=new d_(n),this.Ns=new TE(this.It)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new CE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new OE(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;yg("MemoryPersistence","Starting transaction:",e);var i=new ME(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return ak.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ME=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(nk),jE=function(){function e(t){h(this,e),this.persistence=t,this.Fs=new NE,this.$s=null}return p(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw bg()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ak.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ak.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),ak.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ak.forEach(this.Ls,(function(r){var i=Wg.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Vg.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return ak.or([function(){return ak.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),FE=function(){function e(t){h(this,e),this.It=t}return p(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new ok("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fx,{unique:!0}),e.createObjectStore("documentMutations")}(e),UE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ak.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),UE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fx,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ak.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:$x});t.createIndex("collectionPathOverlayIndex",e_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",t_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:qx});t.createIndex("documentKeyIndex",zx),t.createIndex("collectionGroupIndex",Kx)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Zx}).createIndex("sequenceNumberIndex",Jx,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Yx}).createIndex("documentKeyIndex",Xx,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=$_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ak.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ak.forEach(r,(function(r){wg(r.userId===n.userId);var i=g_(t.It,r);return X_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new qg(n),o=function(e){return[0,Px(e)]}(a);r.push(t.get(o).next((function(n){return n?ak.resolve():function(n){return t.put({targetId:0,path:Px(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ak.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Qx});var n=t.store("collectionParents"),r=new q_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Px(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new qg(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],jx(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=k_(r),a=b_(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Wg(qg.fromString(i.document.name).popFirst(5)):i.noDocument?Wg.fromSegments(i.noDocument.path):i.unknownDocument?Wg.fromSegments(i.unknownDocument.path):bg()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ak.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=gE(this.It),a=new LE(jE.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Kw();g_(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ak.forEach(r,(function(e,r){var o=new hg(r),u=C_.oe(n.It,o),s=a.getIndexManager(o),c=eE.oe(o,n.It,s,a.referenceDelegate);return new SE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new u_(t,mk.at),e).next()}))}))}}]),e}();function UE(e){e.createObjectStore("targetDocuments",{keyPath:Gx}).createIndex("documentTargetsIndex",Hx,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wx,{unique:!0}),e.createObjectStore("targetGlobal")}var VE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BE=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Eg(_g.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pE(this,i),this.ii=n+"main",this.It=new d_(s),this.ri=new uk(this.ii,this.Xs,new FE(this.It)),this.Cs=new oE(this.referenceDelegate,this.It),this.remoteDocumentCache=gE(this.It),this.Ns=new I_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&mg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return p(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Eg(_g.FAILED_PRECONDITION,VE);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new mk(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=ma(va().mark((function n(r){return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=ma(va().mark((function t(n){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return zE(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(lk(t))return yg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return yg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return qE(e).get("owner").next((function(e){return ak.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return zE(e).delete(this.clientId)}},{key:"yi",value:function(){var e=ma(va().mark((function e(){var t,n,r,i,a=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=s_(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ak.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Fi(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?ak.resolve(!0):qE(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Eg(_g.FAILED_PRECONDITION,VE);return!1}}return!(!t.networkEnabled||!t.inForeground)||zE(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&yg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ma(va().mark((function e(){var t=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new u_(e,mk.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return zE(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return eE.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new K_(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return C_.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;yg("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?o_:14===i?a_:13===i?i_:12===i?r_:11===i?n_:void bg();return this.ri.runTransaction(e,o,u,(function(i){return a=new u_(i,r.Ss?r.Ss.next():mk.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw mg("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Eg(_g.FAILED_PRECONDITION,tk);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return qE(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Eg(_g.FAILED_PRECONDITION,VE)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qE(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=qE(e);return n.get("owner").next((function(e){return t.mi(e)?(yg("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ak.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(mg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Wi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return yg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return mg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(wp){mg("Failed to set zombie client id.",wp)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(wp){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return uk.C()}}]),e}();function qE(e){return s_(e,"owner")}function zE(e){return s_(e,"clientMetadata")}function KE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var WE=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return p(e,null,[{key:"Ci",value:function(t,n){var r,i=Kw(),a=Kw(),o=Fi(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),GE=function(){function e(){h(this,e),this.xi=!1}return p(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Mb(t))return ak.resolve(null);var r=Bb(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=qb(t,null,"F"),r=Bb(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Kw.apply(void 0,f(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,qb(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Mb(t)||r.isEqual(Vg.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(vg()<=xa.DEBUG&&yg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wb(t)),i.Bi(e,o,t,Yg(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Ek(Qb(e));return t.forEach((function(t,r){Gb(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return vg()<=xa.DEBUG&&yg("QueryEngine","Using full collection scan to execute query:",Wb(t)),this.Ni.getDocumentsMatchingQuery(e,t,$g.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),HE=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new wk(Mg),this.qi=new Dw((function(e){return db(e)}),pb),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return p(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SE(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function QE(e,t,n,r){return new HE(e,t,n,r)}function ZE(e,t){return JE.apply(this,arguments)}function JE(){return JE=ma(va().mark((function e(t,n){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Kw(),s=Fi(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Fi(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Fi(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Fi(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function YE(e,t){var n=xg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ak.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);wg(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Kw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function XE(e){var t=xg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function $E(e,t){var n=xg(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Ck.EMPTY_BYTE_STRING,Vg.min()).withLastLimboFreeSnapshotVersion(Vg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Lw(),s=Kw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(eI(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Vg.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ak.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function eI(e,t,n){var r=Kw(),i=Kw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Lw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Vg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):yg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function tI(e,t){var n=xg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function nI(e,t){var n=xg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,ak.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new h_(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function rI(e,t,n){return iI.apply(this,arguments)}function iI(){return iI=ma(va().mark((function e(t,n,r){var i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xg(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),lk(e.t1)){e.next=12;break}throw e.t1;case 12:yg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),iI.apply(this,arguments)}function aI(e,t,n){var r=xg(e),i=Vg.min(),a=Kw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=xg(e),i=r.qi.get(n);return void 0!==i?ak.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Bb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Vg.min(),n?a:Kw())})).next((function(e){return sI(r,Hb(t),e),{documents:e,Hi:a}}))}))}function oI(e,t){var n=xg(e),r=xg(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function uI(e,t){var n=xg(e),r=n.Ki.get(t)||Vg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Yg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return sI(n,t,e),e}))}function sI(e,t,n){var r=e.Ki.get(t)||Vg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function cI(e,t,n,r){return lI.apply(this,arguments)}function lI(){return lI=ma(va().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=xg(t),o=Kw(),u=Lw(),s=Fi(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,nI(a,function(e){return Bb(Lb(qg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return eI(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e,t){return hI.apply(this,arguments)}function hI(){return hI=ma(va().mark((function e(t,n){var r,i,a,o=arguments;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Kw(),e.next=3,nI(t,Bb(w_(n.bundledQuery)));case 3:return i=e.sent,a=xg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=sx(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Ck.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function pI(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function vI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var yI=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return p(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Eg(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(mg("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),mI=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return p(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Eg(i.error.code,i.error.message))),a?new e(t,i.state,r):(mg("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),gI=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return p(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Gw(),o=0;i&&o<r.activeTargetIds.length;++o)i=Vk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(mg("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),kI=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return p(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(mg("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),bI=function(){function e(){h(this,e),this.activeTargetIds=Gw()}return p(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),wI=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new wk(Mg),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=dI(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new bI),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return p(e,[{key:"start",value:function(){var e=ma(va().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Fi(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(dI(this.persistenceKey,i)))&&(o=gI.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Fi(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(vI(this.persistenceKey,e));if(n){var r=mI.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(vI(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return yg("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){yg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){yg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(yg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void mg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(ma(va().mark((function e(){var r,i,a,o,u,s,c;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=mk.at;if(null!=e)try{var n=JSON.parse(e);wg("number"==typeof n),t=n}catch(e){mg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==mk.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new yI(this.currentUser,e,t,n),i=pI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=pI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=vI(this.persistenceKey,e),i=new mI(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return gI.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yI.Zi(new hg(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return mI.Zi(r,t)}},{key:"yr",value:function(e){return kI.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:yg("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Gw();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),xI=function(){function e(){h(this,e),this.Lr=new bI,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new bI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),_I=function(){function e(){h(this,e)}return p(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),EI=function(){function e(){var t=this;h(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return p(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){yg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Fi(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){yg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Fi(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),II={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},SI=function(){function e(t){h(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return p(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),TI=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return p(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new lg;o.setWithCredentials(!0),o.listenOnce(ag.COMPLETE,(function(){var t;try{switch(o.getLastErrorCode()){case ig.NO_ERROR:var n=o.getResponseJson();yg("Connection","XHR received:",JSON.stringify(n)),i(n);break;case ig.TIMEOUT:yg("Connection",'RPC "'+e+'" timed out'),a(new Eg(_g.DEADLINE_EXCEEDED,"Request time out"));break;case ig.HTTP_ERROR:var r=o.getStatus();if(yg("Connection",'RPC "'+e+'" failed with status:',r,"response text:",o.getResponseText()),r>0){var u=o.getResponseJson();Array.isArray(u)&&(u=u[0]);var s=null===(t=u)||void 0===t?void 0:t.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_g).indexOf(t)>=0?t:_g.UNKNOWN}(s.status);a(new Eg(c,s.message))}else a(new Eg(_g.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Eg(_g.UNAVAILABLE,"Connection failed."));break;default:bg()}}finally{yg("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ng(),a=rg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new sg({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");yg("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new SI({Hr:function(e){l?yg("Connection","Not sending because WebChannel is closed:",e):(c||(yg("Connection","Opening WebChannel transport."),s.open(),c=!0),yg("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,cg.EventType.OPEN,(function(){l||yg("Connection","WebChannel transport opened.")})),h(s,cg.EventType.CLOSE,(function(){l||(l=!0,yg("Connection","WebChannel transport closed"),f.io())})),h(s,cg.EventType.ERROR,(function(e){l||(l=!0,gg("Connection","WebChannel transport errored:",e),f.io(new Eg(_g.UNAVAILABLE,"The operation could not be completed")))})),h(s,cg.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];wg(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){yg("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Sw[e];if(void 0!==t)return Rw(t)}(a),u=i.message;void 0===o&&(o=_g.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Eg(o,u)),s.close()}else yg("Connection","WebChannel received:",n),f.ro(n)}})),h(a,og.STAT_EVENT,(function(e){e.stat===ug.PROXY?yg("Connection","Detected buffering proxy"):e.stat===ug.NOPROXY&&yg("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);yg("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return yg("RestConnection","Received: ",e),e}),(function(t){throw gg("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+dg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=II[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function CI(){return"undefined"!=typeof window?window:null}function NI(){return"undefined"!=typeof document?document:null}function AI(e){return new ix(e,!0)}var OI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&yg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),RI=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new OI(t,n)}return p(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===_g.RESOURCE_EXHAUSTED?(mg(n.toString()),mg("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===_g.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Eg(_g.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(ma(va().mark((function t(){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return yg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(yg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),DI=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return p(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(wg(void 0===t||"string"==typeof t),Ck.fromBase64String(t||"")):(wg(void 0===t||t instanceof Uint8Array),Ck.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?_g.UNKNOWN:Rw(e.code);return new Eg(t,e.message||"")}(o);n=new Yw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=hx(e,s.document.name),l=sx(s.document.updateTime),f=new sb({mapValue:{fields:s.document.fields}}),h=lb.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Zw(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=hx(e,v.document),m=v.readTime?sx(v.readTime):Vg.min(),g=lb.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Zw([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=hx(e,b.document),x=b.removedTargetIds||[];n=new Zw([],x,w,null)}else{if(!("filter"in t))return bg();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new Aw(E),S=_.targetId;n=new Jw(S,I)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Vg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vg.min():t.readTime?sx(t.readTime):Vg.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=vx(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=vb(r)?{documents:xx(e,r)}:{query:_x(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ox(e,t.resumeToken):t.snapshotVersion.compareTo(Vg.min())>0&&(n.readTime=ax(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=vx(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(RI),PI=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return p(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Wo(m(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(wg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(wg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sx(e.updateTime):sx(t);return n.isEqual(Vg.min())&&(n=sx(t)),new hw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sx(e.commitTime);return this.listener.Zo(n,t)}return wg(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=vx(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return bx(t.It,e)}))};this.Bo(n)}}]),n}(RI),LI=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return p(n,[{key:"su",value:function(){if(this.nu)throw new Eg(_g.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_g.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Eg(_g.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_g.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Eg(_g.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return p((function e(){h(this,e)}))}());var MI=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return p(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(mg(t),this.ou=!1):yg("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),jI=p((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=QI(o),!e.t0){e.next=5;break}return yg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xg(t))._u.add(4),e.next=4,VI(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,FI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new MI(r,i)}));function FI(e){return UI.apply(this,arguments)}function UI(){return UI=ma(va().mark((function e(t){var n,r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!QI(t)){e.next=18;break}n=Fi(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),UI.apply(this,arguments)}function VI(e){return BI.apply(this,arguments)}function BI(){return BI=ma(va().mark((function e(t){var n,r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fi(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),BI.apply(this,arguments)}function qI(e,t){var n=xg(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),HI(n)?GI(n):_S(n).ko()&&KI(n,t))}function zI(e,t){var n=xg(e),r=_S(n);n.du.delete(t),r.ko()&&WI(n,t),0===n.du.size&&(r.ko()?r.Fo():QI(n)&&n.gu.set("Unknown"))}function KI(e,t){e.yu.Mt(t.targetId),_S(e).zo(t)}function WI(e,t){e.yu.Mt(t),_S(e).Ho(t)}function GI(e){e.yu=new $w({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),_S(e).start(),e.gu.uu()}function HI(e){return QI(e)&&!_S(e).No()&&e.du.size>0}function QI(e){return 0===xg(e)._u.size}function ZI(e){e.yu=void 0}function JI(e){return YI.apply(this,arguments)}function YI(){return YI=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){KI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function XI(e,t){return $I.apply(this,arguments)}function $I(){return $I=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ZI(t),HI(t)?(t.gu.hu(n),GI(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function eS(e,t,n){return tS.apply(this,arguments)}function tS(){return tS=ma(va().mark((function e(t,n,r){var i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Yw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ma(va().mark((function e(t,n){var r,i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Fi(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),yg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,nS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Zw?t.yu.Gt(n):n instanceof Jw?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Vg.min())){e.next=29;break}return e.prev=14,e.next=17,XE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Ck.EMPTY_BYTE_STRING,n.snapshotVersion)),WI(e,t);var r=new h_(n.target,t,1,n.sequenceNumber);KI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),yg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,nS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),tS.apply(this,arguments)}function nS(e,t,n){return rS.apply(this,arguments)}function rS(){return rS=ma(va().mark((function e(t,n,r){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lk(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,VI(t);case 5:t.gu.set("Offline"),r||(r=function(){return XE(t.localStore)}),t.asyncQueue.enqueueRetryable(ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,FI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t){return t().catch((function(n){return nS(e,n,t)}))}function aS(e){return oS.apply(this,arguments)}function oS(){return oS=ma(va().mark((function e(t){var n,r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xg(t),r=ES(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!uS(n)){e.next=19;break}return e.prev=3,e.next=6,tI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,sS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,nS(n,e.t0);case 17:e.next=2;break;case 19:cS(n)&&lS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),oS.apply(this,arguments)}function uS(e){return QI(e)&&e.fu.length<10}function sS(e,t){e.fu.push(t);var n=ES(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function cS(e){return QI(e)&&!ES(e).No()&&e.fu.length>0}function lS(e){ES(e).start()}function fS(e){return hS.apply(this,arguments)}function hS(){return hS=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ES(t).eu();case 1:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e){return pS.apply(this,arguments)}function pS(){return pS=ma(va().mark((function e(t){var n,r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ES(t),r=Fi(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e,t,n){return yS.apply(this,arguments)}function yS(){return yS=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=l_.from(i,n,r),e.next=3,iS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,aS(t);case 5:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function mS(e,t){return gS.apply(this,arguments)}function gS(){return gS=ma(va().mark((function e(t,n){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ES(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ma(va().mark((function e(t,n){var r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ow(i=n.code)||i===_g.ABORTED){e.next=7;break}return r=t.fu.shift(),ES(t).Mo(),e.next=5,iS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,aS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:cS(t)&&lS(t);case 5:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e,t){return bS.apply(this,arguments)}function bS(){return bS=ma(va().mark((function e(t,n){var r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=xg(t)).asyncQueue.verifyOperationInProgress(),yg("RemoteStore","RemoteStore received new credentials"),i=QI(r),r._u.add(3),e.next=6,VI(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,FI(r);case 12:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e,t){return xS.apply(this,arguments)}function xS(){return xS=ma(va().mark((function e(t,n){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xg(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,FI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,VI(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function _S(e){return e.pu||(e.pu=function(e,t,n){var r=xg(e);return r.su(),new DI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:JI.bind(null,e),Zr:XI.bind(null,e),Wo:eS.bind(null,e)}),e.wu.push(function(){var t=ma(va().mark((function t(n){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),HI(e)?GI(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:ZI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function ES(e){return e.Iu||(e.Iu=function(e,t,n){var r=xg(e);return r.su(),new PI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:fS.bind(null,e),Zr:mS.bind(null,e),tu:dS.bind(null,e),Zo:vS.bind(null,e)}),e.wu.push(function(){var t=ma(va().mark((function t(n){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,aS(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(yg("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var IS=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ig,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eg(_g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function SS(e,t){if(mg("AsyncQueue","".concat(t,": ").concat(e)),lk(e))return new Eg(_g.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var TS=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||Wg.comparator(e.key,n.key)}:function(e,t){return Wg.comparator(e.key,t.key)},this.keyedMap=jw(),this.sortedSet=new wk(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),CS=function(){function e(){h(this,e),this.Tu=new wk(Wg.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):bg():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),NS=function(){function e(t,n,r,i,a,o,u,s,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,TS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),AS=p((function e(){h(this,e),this.Au=void 0,this.listeners=[]})),OS=p((function e(){h(this,e),this.queries=new Dw((function(e){return Kb(e)}),zb),this.onlineState="Unknown",this.Ru=new Set}));function RS(e,t){return DS.apply(this,arguments)}function DS(){return DS=ma(va().mark((function e(t,n){var r,i,a,o,u;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new AS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=SS(e.t0,"Initialization of query '".concat(Wb(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&FS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),DS.apply(this,arguments)}function PS(e,t){return LS.apply(this,arguments)}function LS(){return LS=ma(va().mark((function e(t,n){var r,i,a,o,u;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e,t){var n,r=xg(e),i=!1,a=Fi(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Fi(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&FS(r)}function jS(e,t,n){var r=xg(e),i=r.queries.get(t);if(i){var a,o=Fi(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function FS(e){e.Ru.forEach((function(e){e.next()}))}var US=function(){function e(t,n,r){h(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Fi(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new NS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=NS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),VS=function(){function e(t,n){h(this,e),this.ku=t,this.byteLength=n}return p(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),BS=function(){function e(t){h(this,e),this.It=t}return p(e,[{key:"Ji",value:function(e){return hx(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?gx(this.It,e.document,!1):lb.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return sx(e)}}]),e}(),qS=function(){function e(t,n,r){h(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zS(t)}return p(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=qg.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new BS(this.It),i=Fi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Fi(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Kw()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ma(va().mark((function e(){var t,n,r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cI(this.localStore,new BS(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Fi(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,fI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function zS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var KS=p((function e(t){h(this,e),this.key=t})),WS=p((function e(t){h(this,e),this.key=t})),GS=function(){function e(t,n){h(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Kw(),this.mutatedKeys=Kw(),this.Gu=Qb(t),this.Qu=new TS(this.Gu)}return p(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new CS,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Gb(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bg()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new NS(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new CS,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Kw(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new WS(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new KS(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Kw();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return NS.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),HS=p((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),QS=p((function e(t){h(this,e),this.key=t,this.nc=!1})),ZS=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Dw((function(e){return Kb(e)}),zb),this.rc=new Map,this.oc=new Set,this.uc=new wk(Wg.comparator),this.cc=new Map,this.ac=new NE,this.hc={},this.lc=new Map,this.fc=aE.vn(),this.onlineState="Unknown",this.dc=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function JS(e,t){return YS.apply(this,arguments)}function YS(){return YS=ma(va().mark((function e(t,n){var r,i,a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zT(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,nI(r.localStore,Bb(n));case 8:return u=e.sent,r.isPrimaryClient&&qI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,XS(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function XS(e,t,n,r,i){return $S.apply(this,arguments)}function $S(){return $S=ma(va().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=ma(va().mark((function e(t,n,r,i){var a,o,u;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,aI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(kT(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,aI(t.localStore,n,!0);case 3:return o=e.sent,u=new GS(n,o.Hi),s=u.Wu(o.documents),c=Qw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),kT(t,r,l.Xu),f=new HS(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=ma(va().mark((function e(t,n){var r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xg(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!zb(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,rI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),zI(r.remoteStore,i.targetId),mT(r,i.targetId)})).catch(rk);case 9:e.next=14;break;case 11:return mT(r,i.targetId),e.next=14,rI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t,n){return rT.apply(this,arguments)}function rT(){return rT=ma(va().mark((function e(t,n,r){var i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=KT(t),e.prev=1,e.next=4,function(e,t){var n,r,i=xg(e),a=Ug.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Kw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Lw(),s=Kw();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Fi(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=kw(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new xw(c.key,l,cb(l.value.mapValue),dw.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Fw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new wk(Mg)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,xT(i,a.changes);case 9:return e.next=11,aS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=SS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),rT.apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=ma(va().mark((function e(t,n){var r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xg(t),e.prev=1,e.next=4,$E(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(wg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?wg(n.nc):e.removedDocuments.size>0&&(wg(n.nc),n.nc=!1))})),e.next=8,xT(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,rk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),aT.apply(this,arguments)}function oT(e,t,n){var r=xg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Fi(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&FS(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function uT(e,t,n){return sT.apply(this,arguments)}function sT(){return sT=ma(va().mark((function e(t,n,r){var i,a,o,u,s,c;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=xg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new wk(Wg.comparator)).insert(o,lb.newNoDocument(o,Vg.min())),s=Kw().add(o),c=new Hw(Vg.min(),new Map,new Ek(Mg),u,s),e.next=9,iT(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),wT(i),e.next=16;break;case 14:return e.next=16,rI(i.localStore,n,!1).then((function(){return mT(i,n,r)})).catch(rk);case 16:case"end":return e.stop()}}),e)}))),sT.apply(this,arguments)}function cT(e,t){return lT.apply(this,arguments)}function lT(){return lT=ma(va().mark((function e(t,n){var r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xg(t),i=n.batch.batchId,e.prev=1,e.next=4,YE(r.localStore,n);case 4:return a=e.sent,yT(r,i,null),vT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,xT(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),lT.apply(this,arguments)}function fT(e,t,n){return hT.apply(this,arguments)}function hT(){return hT=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xg(t),e.prev=1,e.next=4,function(e,t){var n=xg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return wg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,yT(i,n,r),vT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,xT(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hT.apply(this,arguments)}function dT(e,t){return pT.apply(this,arguments)}function pT(){return pT=ma(va().mark((function e(t,n){var r,i,a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QI((r=xg(t)).remoteStore)||yg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=xg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=SS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),pT.apply(this,arguments)}function vT(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function yT(e,t,n){var r=xg(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function mT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Fi(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||gT(e,t)}))}function gT(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(zI(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),wT(e))}function kT(e,t,n){var r,i=Fi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof KS?(e.ac.addReference(a.key,t),bT(e,a)):a instanceof WS?(yg("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||gT(e,a.key)):bg()}}catch(o){i.e(o)}finally{i.f()}}function bT(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(yg("SyncEngine","New document in limbo: "+n),e.oc.add(r),wT(e))}function wT(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Wg(qg.fromString(t)),r=e.fc.next();e.cc.set(r,new QS(n)),e.uc=e.uc.insert(n,r),qI(e.remoteStore,new h_(Bb(Lb(n.path)),r,2,mk.at))}}function xT(e,t,n){return _T.apply(this,arguments)}function _T(){return _T=ma(va().mark((function e(t,n,r){var i,a,o,u;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xg(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=WE.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=ma(va().mark((function e(t,n){var r,i,a,o,u,s,c,l;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ak.forEach(n,(function(t){return ak.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ak.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),lk(e.t0)){e.next=10;break}throw e.t0;case 10:yg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Fi(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function ET(e,t){return IT.apply(this,arguments)}function IT(){return IT=ma(va().mark((function e(t,n){var r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=xg(t)).currentUser.isEqual(n)){e.next=11;break}return yg("SyncEngine","User change. New user:",n.toKey()),e.next=5,ZE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Eg(_g.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,xT(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function ST(e,t){var n=xg(e),r=n.cc.get(t);if(r&&r.nc)return Kw().add(r.key);var i=Kw(),a=n.rc.get(t);if(!a)return i;var o,u=Fi(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function TT(e,t){return CT.apply(this,arguments)}function CT(){return CT=ma(va().mark((function e(t,n){var r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xg(t),e.next=3,aI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&kT(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}function NT(e,t){return AT.apply(this,arguments)}function AT(){return AT=ma(va().mark((function e(t,n){var r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xg(t),e.abrupt("return",uI(r.localStore,n).then((function(e){return xT(r,e)})));case 2:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function OT(e,t,n,r){return RT.apply(this,arguments)}function RT(){return RT=ma(va().mark((function e(t,n,r,i){var a,o;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xg(t),e.next=3,function(e,t){var n=xg(e),r=xg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ak.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,aS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(yT(a,n,i||null),vT(a,n),function(e,t){xg(xg(e).mutationQueue).An(t)}(a.localStore,n)):bg();case 11:return e.next=13,xT(a,o);case 13:e.next=16;break;case 15:yg("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function DT(e,t){return PT.apply(this,arguments)}function PT(){return PT=ma(va().mark((function e(t,n){var r,i,a,o,u,s,c,l;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zT(r=xg(t)),KT(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,LT(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,wS(r.remoteStore,!0);case 9:o=Fi(a);try{for(o.s();!(u=o.n()).done;)s=u.value,qI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return mT(r,t),rI(r.localStore,t,!0)})),zI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,LT(r,c);case 21:return function(e){var t=xg(e);t.cc.forEach((function(e,n){zI(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new wk(Wg.comparator)}(r),r.dc=!1,e.next=25,wS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}function LT(e,t,n){return MT.apply(this,arguments)}function MT(){return MT=ma(va().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=xg(t),a=[],o=[],u=Fi(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,nI(i.localStore,Bb(f[0]));case 11:l=e.sent,h=Fi(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,TT(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,oI(i.localStore,c);case 36:return m=e.sent,e.next=39,nI(i.localStore,m);case 39:return l=e.sent,e.next=42,XS(i,jT(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),MT.apply(this,arguments)}function jT(e){return Pb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function FT(e){var t=xg(e);return xg(xg(t.localStore).persistence).vi()}function UT(e,t,n,r){return VT.apply(this,arguments)}function VT(){return VT=ma(va().mark((function e(t,n,r,i){var a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=xg(t)).dc){e.next=3;break}return e.abrupt("return",void yg("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,uI(a.localStore,Hb(o[0]));case 10:return u=e.sent,s=Hw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ck.EMPTY_BYTE_STRING),e.next=14,xT(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,rI(a.localStore,n,!0);case 17:return mT(a,n,i),e.abrupt("break",20);case 19:bg();case 20:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function BT(e,t,n){return qT.apply(this,arguments)}function qT(){return qT=ma(va().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=zT(t)).dc){e.next=45;break}a=Fi(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return yg("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,oI(i.localStore,u);case 12:return s=e.sent,e.next=15,nI(i.localStore,s);case 15:return c=e.sent,e.next=18,XS(i,jT(s),c.targetId,!1,c.resumeToken);case 18:qI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Fi(r),e.prev=30,h=va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,rI(i.localStore,t,!1).then((function(){zI(i.remoteStore,t),mT(i,t)})).catch(rk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),qT.apply(this,arguments)}function zT(e){var t=xg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ST.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uT.bind(null,t),t.sc.Wo=MS.bind(null,t.eventManager),t.sc.wc=jS.bind(null,t.eventManager),t}function KT(e){var t=xg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fT.bind(null,t),t}function WT(e,t,n){var r=xg(e);(function(){var e=ma(va().mark((function e(t,n,r){var i,a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=xg(e),r=sx(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(zS(i)),a=new qS(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,xT(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=xg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(gg("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var GT=function(){function e(){h(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=AI(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return QE(this.persistence,new GE,e.initialUser,this.It)}},{key:"yc",value:function(e){return new LE(jE.Bs,this.It)}},{key:"gc",value:function(e){return new xI}},{key:"terminate",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),HT=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return p(n,[{key:"initialize",value:function(){var e=ma(va().mark((function e(t){var r=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(m(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,KT(this.Ac.syncEngine);case 6:return e.next=8,aS(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return QE(this.persistence,new GE,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new hE(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new yk(t,this.persistence);return new vk(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=KE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Y_.withCacheSize(this.cacheSizeBytes):Y_.DEFAULT;return new BE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,CI(),NI(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new xI}}]),n}(GT),QT=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return p(n,[{key:"initialize",value:function(){var e=ma(va().mark((function e(t){var r,i=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(m(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof wI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:OT.bind(null,r),$r:UT.bind(null,r),Br:BT.bind(null,r),vi:FT.bind(null,r),Mr:NT.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DT(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=CI();if(!wI.C(t))throw new Eg(_g.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=KE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(HT),ZT=function(){function e(){h(this,e)}return p(e,[{key:"initialize",value:function(){var e=ma(va().mark((function e(t,n){var r=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return oT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ET.bind(null,this.syncEngine),e.next=12,wS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new OS}},{key:"createDatastore",value:function(e){var t,n=AI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new TI(t));return function(e,t,n,r){return new LI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return oT(o.syncEngine,e,0)},a=EI.C()?new EI:new _I,new jI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ZS(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xg(t),yg("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,VI(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function JT(e,t,n){if(!n)throw new Eg(_g.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function YT(e,t,n,r){if(!0===t&&!0===r)throw new Eg(_g.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function XT(e){if(!Wg.isDocumentKey(e))throw new Eg(_g.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $T(e){if(Wg.isDocumentKey(e))throw new Eg(_g.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function eC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":bg()}function tC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eg(_g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=eC(e);throw new Eg(_g.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function nC(e,t){if(t<=0)throw new Eg(_g.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var rC=new Map,iC=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Eg(_g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Eg(_g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,YT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),aC=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iC({}),this._settingsFrozen=!1}return p(e,[{key:"app",get:function(){if(!this._app)throw new Eg(_g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Eg(_g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tg;switch(e.type){case"gapi":var t=e.client;return new Og(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Eg(_g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=rC.get(e);t&&(yg("ComponentProvider","Removing Datastore"),rC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function oC(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=tC(e,aC))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&gg("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=hg.MOCK_USER;else{o=ea(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Eg(_g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new hg(s)}e._authCredentials=new Cg(new Sg(o,u))}}var uC=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new cC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),sC=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),cC=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,Lb(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new uC(this.firestore,null,new Wg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(sC);function lC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pa(e),JT("collection","path",t),e instanceof aC){var a=qg.fromString.apply(qg,[t].concat(r));return $T(a),new cC(e,null,a)}if(!(e instanceof uC||e instanceof cC))throw new Eg(_g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qg.fromString.apply(qg,[t].concat(r)));return $T(o),new cC(e.firestore,null,o)}function fC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pa(e),1===arguments.length&&(t=Lg.R()),JT("doc","path",t),e instanceof aC){var a=qg.fromString.apply(qg,[t].concat(r));return XT(a),new uC(e,null,new Wg(a))}if(!(e instanceof uC||e instanceof cC))throw new Eg(_g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qg.fromString.apply(qg,[t].concat(r)));return XT(o),new uC(e.firestore,e instanceof cC?e.converter:null,new Wg(o))}function hC(e,t){return e=pa(e),t=pa(t),(e instanceof uC||e instanceof cC)&&(t instanceof uC||t instanceof cC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function dC(e,t){return e=pa(e),t=pa(t),e instanceof sC&&t instanceof sC&&e.firestore===t.firestore&&zb(e._query,t._query)&&e.converter===t.converter}function pC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ma(va().mark((function r(){var i;return va().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var vC=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):mg("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),yC=function(){function e(t,n){var r=this;h(this,e),this.Pc=t,this.It=n,this.metadata=new Ig,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return p(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=ma(va().mark((function e(){var t,n,r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new VS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=ma(va().mark((function e(){var t,n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=ma(va().mark((function e(){var t,n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mC=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return p(e,[{key:"lookup",value:function(){var e=ma(va().mark((function e(t){var n,r=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Eg(_g.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ma(va().mark((function e(t,n){var r,i,a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xg(t),i=vx(r.It)+"/documents",a={documents:n.map((function(e){return fx(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=kx(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());wg(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Cw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ma(va().mark((function e(){var t,n=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wg.fromPath(t);n.mutations.push(new Nw(r,n.precondition(r)))})),e.next=7,function(){var e=ma(va().mark((function e(t,n){var r,i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xg(t),i=vx(r.It)+"/documents",a={writes:n.map((function(e){return bx(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bg();t=Vg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Eg(_g.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vg.min())?dw.exists(!1):dw.updateTime(t):dw.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vg.min()))throw new Eg(_g.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dw.updateTime(t)}return dw.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),gC=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new OI(this.asyncQueue,"transaction_retry")}return p(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(ma(va().mark((function t(){var n,r;return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new mC(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Fk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ow(t)}return!1}}]),e}(),kC=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hg.UNAUTHENTICATED,this.clientId=Lg.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return yg("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=ma(va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Eg(_g.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ig;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ma(va().mark((function n(){var r;return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=SS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function bC(e,t){return wC.apply(this,arguments)}function wC(){return wC=ma(va().mark((function e(t,n){var r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),yg("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ZE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function xC(e,t){return _C.apply(this,arguments)}function _C(){return _C=ma(va().mark((function e(t,n){var r,i;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,EC(t);case 3:return r=e.sent,yg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return kS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return kS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function EC(e){return IC.apply(this,arguments)}function IC(){return IC=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return yg("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,bC(t,new GT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}function SC(e){return TC.apply(this,arguments)}function TC(){return TC=ma(va().mark((function e(t){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return yg("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,xC(t,new ZT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e){return EC(e).then((function(e){return e.persistence}))}function NC(e){return EC(e).then((function(e){return e.localStore}))}function AC(e){return SC(e).then((function(e){return e.remoteStore}))}function OC(e){return SC(e).then((function(e){return e.syncEngine}))}function RC(e){return SC(e).then((function(e){return e.datastore}))}function DC(e){return PC.apply(this,arguments)}function PC(){return PC=ma(va().mark((function e(t){var n,r;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SC(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=JS.bind(null,n.syncEngine),r.onUnlisten=eT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function LC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ig;return e.asyncQueue.enqueueAndForget(ma(va().mark((function i(){return va().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vC({next:function(a){t.enqueueAndForget((function(){return PS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Eg(_g.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Eg(_g.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new US(Lb(n.path),a,{includeMetadataChanges:!0,Nu:!0});return RS(e,o)},i.next=3,DC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function MC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ig;return e.asyncQueue.enqueueAndForget(ma(va().mark((function i(){return va().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vC({next:function(n){t.enqueueAndForget((function(){return PS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Eg(_g.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new US(n,a,{includeMetadataChanges:!0,Nu:!0});return RS(e,o)},i.next=3,DC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var jC=function(){function e(){var t=this;h(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new OI(this,"async_queue_retry"),this.Wc=function(){var e=NI();e&&yg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=NI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return p(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=NI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new Ig;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=ma(va().mark((function e(){var t=this;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),lk(e.t0)){e.next=12;break}throw e.t0;case 12:yg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw mg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=IS.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&bg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=ma(va().mark((function e(){var t;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Fi(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Fi(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function FC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Fi(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var UC=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new Ig,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return p(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),VC=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new jC,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||qC(this),this._firestoreClient.terminate()}}]),n}(aC);function BC(e){return e._firestoreClient||qC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Mk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new kC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function zC(e,t,n){var r=new Ig;return e.asyncQueue.enqueue(ma(va().mark((function i(){var a;return va().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,bC(e,n);case 3:return i.next=5,xC(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===_g.FAILED_PRECONDITION||e.code===_g.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:gg("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function KC(e){return function(e){return e.asyncQueue.enqueue(ma(va().mark((function t(){var n,r;return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,CC(e);case 2:return n=t.sent,t.next=5,AC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=xg(e);return t._u.delete(0),FI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(BC(e=tC(e,VC)))}function WC(e){return function(e){return e.asyncQueue.enqueue(ma(va().mark((function t(){var n,r;return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,CC(e);case 2:return n=t.sent,t.next=5,AC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xg(t))._u.add(0),e.next=4,VI(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(BC(e=tC(e,VC)))}function GC(e,t){var n=BC(e=tC(e,VC)),r=new UC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new yC(e,t)}(function(e,t){if(e instanceof Uint8Array)return pC(e,t);if(e instanceof ArrayBuffer)return pC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,AI(t));e.asyncQueue.enqueueAndForget(ma(va().mark((function t(){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=WT,t.next=3,OC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function HC(e,t){return function(e,t){return e.asyncQueue.enqueue(ma(va().mark((function n(){return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=xg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,NC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(BC(e=tC(e,VC)),t).then((function(t){return t?new sC(e,null,t.query):null}))}function QC(e){if(e._initialized||e._terminated)throw new Eg(_g.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZC=function(){function e(t){h(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ck.fromBase64String(t))}catch(t){throw new Eg(_g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ck.fromUint8Array(t))}}]),e}(),JC=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Eg(_g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kg(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var YC=p((function e(t){h(this,e),this._methodName=t})),XC=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new Eg(_g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Eg(_g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Mg(this._lat,e._lat)||Mg(this._long,e._long)}}]),e}(),$C=/^__.*__$/,eN=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new xw(e,this.data,this.fieldMask,t,this.fieldTransforms):new ww(e,this.data,t,this.fieldTransforms)}}]),e}(),tN=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new xw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function nN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bg()}}var rN=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return _N(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(nN(this.sa)&&$C.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),iN=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||AI(t)}return p(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rN({sa:e,methodName:t,fa:n,path:Kg.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function aN(e){var t=e._freezeSettings(),n=AI(e._databaseId);return new iN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function oN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);kN("Data must be an object, but it was:",o,r);var u,s,c=mN(r,o);if(a.merge)u=new Tk(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Fi(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=bN(t,d,n);if(!o.contains(p))throw new Eg(_g.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));EN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Tk(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new eN(new sb(c),u,s)}var uN=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YC);function sN(e,t,n){return new rN({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var cN=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){return new fw(e.path,new rw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YC),lN=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e))._a=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=sN(this,e,!0),n=this._a.map((function(e){return yN(e,t)})),r=new iw(n);return new fw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YC),fN=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e))._a=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=sN(this,e,!0),n=this._a.map((function(e){return yN(e,t)})),r=new ow(n);return new fw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YC),hN=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).wa=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=new sw(e.It,Xb(e.It,this.wa));return new fw(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YC);function dN(e,t,n,r){var i=e.da(1,t,n);kN("Data must be an object, but it was:",i,r);var a=[],o=sb.empty();kk(r,(function(e,r){var u=xN(t,e,n);r=pa(r);var s=i.ca(u);if(r instanceof uN)a.push(u);else{var c=yN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Tk(a);return new tN(o,u,i.fieldTransforms)}function pN(e,t,n,r,i,a){var o=e.da(1,t,n),u=[bN(t,r,n)],s=[i];if(a.length%2!=0)throw new Eg(_g.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(bN(t,a[c])),s.push(a[c+1]);for(var l=[],f=sb.empty(),h=u.length-1;h>=0;--h)if(!EN(l,u[h])){var d=u[h],p=s[h];p=pa(p);var v=o.ca(d);if(p instanceof uN)l.push(d);else{var y=yN(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Tk(l);return new tN(f,m,o.fieldTransforms)}function vN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yN(n,e.da(r?4:3,t))}function yN(e,t){if(gN(e=pa(e)))return kN("Unsupported field value:",t,e),mN(e,t);if(e instanceof YC)return function(e,t){if(!nN(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Fi(e);try{for(a.s();!(n=a.n()).done;){var o=yN(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=pa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xb(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ug.fromDate(e);return{timestampValue:ax(t.It,n)}}if(e instanceof Ug){var r=new Ug(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ax(t.It,r)}}if(e instanceof XC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZC)return{bytesValue:ox(t.It,e._byteString)};if(e instanceof uC){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:cx(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(eC(e)))}(e,t)}function mN(e,t){var n={};return bk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kk(e,(function(e,r){var i=yN(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function gN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ug||e instanceof XC||e instanceof ZC||e instanceof uC||e instanceof YC)}function kN(e,t,n){if(!gN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=eC(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function bN(e,t,n){if((t=pa(t))instanceof JC)return t._internalPath;if("string"==typeof t)return xN(e,t);throw _N("Field path arguments must be of type string or ",e,!1,void 0,n)}var wN=new RegExp("[~\\*/\\[\\]]");function xN(e,t,n){if(t.search(wN)>=0)throw _N("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(JC,f(t.split(".")))._internalPath}catch(r){throw _N("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _N(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Eg(_g.INVALID_ARGUMENT,u+e+s)}function EN(e,t){return e.some((function(e){return e.isEqual(t)}))}var IN=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new uC(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new SN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(TN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),SN=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return Wo(m(n.prototype),"data",this).call(this)}}]),n}(IN);function TN(e,t){return"string"==typeof t?xN(e,t):t instanceof JC?t._internalPath:t._delegate._internalPath}function CN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Eg(_g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var NN=p((function e(){h(this,e)}));function AN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var ON=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=aN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Eg(_g.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){qN(o,a);var s,c=[],l=Fi(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(BN(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=BN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||qN(o,a),u=vN(n,"where",o,"in"===a||"not-in"===a);var h=kb.create(i,a,u);return function(e,t){if(t.dt()){var n=Fb(e);if(null!==n&&!n.isEqual(t.field))throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=jb(e);null!==r&&zN(e,t.field,r)}var i=function(e,t){var n,r=Fi(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Eg(_g.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Eg(_g.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new sC(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(NN);var RN=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return p(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Nb(t,n);return function(e,t){if(null===jb(e)){var n=Fb(e);null!==n&&zN(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new sC(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Db(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(NN);var DN=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return p(n,[{key:"_apply",value:function(e){return new sC(e.firestore,e.converter,qb(e._query,this.Ia,this.Ta))}}]),n}(NN);var PN=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return p(n,[{key:"_apply",value:function(e){var t=VN(e,this.type,this.Ea,this.Aa);return new sC(e.firestore,e.converter,function(e,t){return new Db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(NN);function LN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PN("startAt",t,!0)}function MN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PN("startAfter",t,!1)}var jN=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return p(n,[{key:"_apply",value:function(e){var t=VN(e,this.type,this.Ea,this.Aa);return new sC(e.firestore,e.converter,function(e,t){return new Db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(NN);function FN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jN("endBefore",t,!1)}function UN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jN("endAt",t,!0)}function VN(e,t,n,r){if(n[0]=pa(n[0]),n[0]instanceof IN)return function(e,t,n,r,i){if(!r)throw new Eg(_g.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Fi(Vb(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Jk(t,r.key));else{var c=r.data.field(s.field);if(Dk(c))throw new Eg(_g.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Cb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=aN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Eg(_g.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ub(e)&&-1!==c.indexOf("/"))throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(qg.fromString(c));if(!Wg.isDocumentKey(l))throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wg(l);u.push(Jk(t,f))}else{var h=vN(n,r,c);u.push(h)}}return new Cb(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function BN(e,t,n){if("string"==typeof(n=pa(n))){if(""===n)throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ub(t)&&-1!==n.indexOf("/"))throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(qg.fromString(n));if(!Wg.isDocumentKey(r))throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Jk(e,new Wg(r))}if(n instanceof uC)return Jk(e,n._key);throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(eC(n),"."))}function qN(e,t){if(!Array.isArray(e)||0===e.length)throw new Eg(_g.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Eg(_g.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function zN(e,t,n){if(!n.isEqual(t))throw new Eg(_g.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var KN=function(){function e(){h(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ok(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bg()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return kk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new XC(Ok(e.latitude),Ok(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Pk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ak(e);return new Ug(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=qg.fromString(e);wg(Dx(n));var r=new jk(n.get(1),n.get(3)),i=new Wg(n.popFirst(5));return r.isEqual(t)||mg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function WN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var GN=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new ZC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uC(this.firestore,null,t)}}]),n}(KN),HN=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),QN=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return p(n,[{key:"exists",value:function(){return Wo(m(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ZN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(TN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(IN),ZN=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wo(m(n.prototype),"data",this).call(this,e)}}]),n}(QN),JN=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new HN(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ZN(n._firestore,n._userDataWriter,r.key,r,new HN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Eg(_g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ZN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new HN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ZN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new HN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:YN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function YN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bg()}}function XN(e,t){return e instanceof QN&&t instanceof QN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof JN&&t instanceof JN&&e._firestore===t._firestore&&dC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var $N=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new ZC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uC(this.firestore,null,t)}}]),n}(KN);function eA(e){e=tC(e,uC);var t=tC(e.firestore,VC),n=BC(t),r=new $N(t);return function(e,t){var n=new Ig;return e.asyncQueue.enqueueAndForget(ma(va().mark((function r(){return va().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ma(va().mark((function e(t,n,r){var i,a;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=xg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Eg(_g.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=SS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,NC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new QN(t,r,e._key,n,new HN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function tA(e){e=tC(e,sC);var t=tC(e.firestore,VC),n=BC(t),r=new $N(t);return function(e,t){var n=new Ig;return e.asyncQueue.enqueueAndForget(ma(va().mark((function r(){return va().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ma(va().mark((function e(t,n,r){var i,a,o,u,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aI(t,n,!0);case 3:i=e.sent,a=new GS(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=SS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,NC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new JN(t,r,e,n)}))}function nA(e,t,n){e=tC(e,uC);var r=tC(e.firestore,VC),i=WN(e.converter,t,n);return oA(r,[oN(aN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,dw.none())])}function rA(e,t,n){e=tC(e,uC);for(var r=tC(e.firestore,VC),i=aN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return oA(r,[("string"==typeof(t=pa(t))||t instanceof JC?pN(i,"updateDoc",e._key,t,n,o):dN(i,"updateDoc",e._key,t)).toMutation(e._key,dw.exists(!0))])}function iA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=pa(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||FC(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(FC(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof uC)l=tC(e.firestore,VC),f=Lb(e._key.path),c={next:function(t){n[s]&&n[s](uA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=tC(e,sC);l=tC(p.firestore,VC),f=p._query;var v=new $N(l);c={next:function(e){n[s]&&n[s](new JN(l,v,p,e))},error:n[s+1],complete:n[s+2]},CN(e._query)}return function(e,t,n,r){var i=new vC(r),a=new US(t,i,n);return e.asyncQueue.enqueueAndForget(ma(va().mark((function t(){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RS,t.next=3,DC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(ma(va().mark((function t(){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=PS,t.next=3,DC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(BC(l),f,h,c)}function aA(e,t){return function(e,t){var n=new vC(t);return e.asyncQueue.enqueueAndForget(ma(va().mark((function t(){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xg(e).Ru.add(t),t.next()},t.next=3,DC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(ma(va().mark((function t(){return va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xg(e).Ru.delete(t)},t.next=3,DC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(BC(e=tC(e,VC)),FC(t)?t:{next:t})}function oA(e,t){return function(e,t){var n=new Ig;return e.asyncQueue.enqueueAndForget(ma(va().mark((function r(){return va().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=nT,r.next=3,OC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(BC(e),t)}function uA(e,t,n){var r=n.docs.get(t._key),i=new $N(e);return new QN(e,i,t._key,r,new HN(n.hasPendingWrites,n.fromCache),t.converter)}var sA={maxAttempts:5},cA=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=aN(t)}return p(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=lA(e,this._firestore),i=WN(r.converter,t,n),a=oN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,dw.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=lA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=pa(t))||t instanceof JC?pN(this._dataReader,"WriteBatch.update",i._key,t,n,o):dN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,dw.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=lA(e,this._firestore);return this._mutations=this._mutations.concat(new Cw(t._key,dw.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Eg(_g.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function lA(e,t){if((e=pa(e)).firestore!==t)throw new Eg(_g.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var fA=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return p(n,[{key:"get",value:function(e){var t=this,r=lA(e,this._firestore),i=new $N(this._firestore);return Wo(m(n.prototype),"get",this).call(this,e).then((function(e){return new QN(t._firestore,i,r._key,e._document,new HN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=aN(t)}return p(e,[{key:"get",value:function(e){var t=this,n=lA(e,this._firestore),r=new GN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return bg();var i=e[0];if(i.isFoundDocument())return new IN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new IN(t._firestore,r,n._key,null,n.converter);throw bg()}))}},{key:"set",value:function(e,t,n){var r=lA(e,this._firestore),i=WN(r.converter,t,n),a=oN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=lA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=pa(t))||t instanceof JC?pN(this._dataReader,"Transaction.update",i._key,t,n,o):dN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=lA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function hA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lN("arrayUnion",t)}function dA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){dg=e}(ho),ao(new ga("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new VC(new Ng(e.getProvider("auth-internal")),new Dg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eg(_g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jk(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ko(fg,"3.7.3",e),ko(fg,"3.7.3","esm2017")}();function pA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Eg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function vA(){if("undefined"===typeof Uint8Array)throw new Eg("unimplemented","Uint8Arrays are not available in this environment.")}function yA(){if("undefined"==typeof atob)throw new Eg("unimplemented","Blobs are unavailable in Firestore in this environment.")}var mA=function(){function e(t){h(this,e),this._delegate=t}return p(e,[{key:"toBase64",value:function(){return yA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return vA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return yA(),new e(ZC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return vA(),new e(ZC.fromUint8Array(t))}}]),e}();function gA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Fi(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var kA=function(){function e(){h(this,e)}return p(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){QC(e=tC(e,VC));var n=BC(e),r=e._freezeSettings(),i=new ZT;return zC(n,i,new HT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){QC(e=tC(e,VC));var t=BC(e),n=e._freezeSettings(),r=new ZT;return zC(t,r,new QT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Eg(_g.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ig;return e._queue.enqueueAndForgetEvenWhileRestricted(ma(va().mark((function n(){return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ma(va().mark((function e(t){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uk.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,uk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(KE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),bA=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof jk||(this._appCompat=t)}return p(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||gg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};oC(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return KC(this._delegate)}},{key:"disableNetwork",value:function(){return WC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&YT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ig;return e.asyncQueue.enqueueAndForget(ma(va().mark((function n(){return va().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=dT,n.next=3,OC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(BC(e=tC(e,VC)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return aA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Eg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new PA(this,lC(this._delegate,e))}catch(t){throw SA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new IA(this,fC(this._delegate,e))}catch(t){throw SA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new OA(this,function(e,t){if(e=tC(e,aC),JT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Eg(_g.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new sC(e,null,function(e){return new Db(qg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw SA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=tC(e,VC);var r=Object.assign(Object.assign({},sA),n);return function(e){if(e.maxAttempts<1)throw new Eg(_g.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ig;return e.asyncQueue.enqueueAndForget(ma(va().mark((function i(){var a;return va().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,RC(e);case 2:a=i.sent,new gC(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(BC(e),(function(n){return t(new fA(e,n))}),r)}(this._delegate,(function(n){return e(new xA(t,n))}))}},{key:"batch",value:function(){var e=this;return BC(this._delegate),new _A(new cA(this._delegate,(function(t){return oA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return GC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return HC(this._delegate,e).then((function(e){return e?new OA(t,e):null}))}}]),e}(),wA=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new mA(new ZC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return IA.forKey(t,this.firestore,null)}}]),n}(KN);var xA=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new wA(t)}return p(e,[{key:"get",value:function(e){var t=this,n=LA(e);return this._delegate.get(n).then((function(e){return new NA(t._firestore,new QN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=LA(e);return n?(pA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LA(e);return this._delegate.delete(t),this}}]),e}(),_A=function(){function e(t){h(this,e),this._delegate=t}return p(e,[{key:"set",value:function(e,t,n){var r=LA(e);return n?(pA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=LA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),EA=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return p(e,[{key:"fromFirestore",value:function(e,t){var n=new ZN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new AA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new wA(t),n),i.set(n,a)),a}}]),e}();EA.INSTANCES=new WeakMap;var IA=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wA(t)}return p(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new PA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new PA(this.firestore,lC(this._delegate,e))}catch(t){throw SA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=pa(e))instanceof uC&&hC(this._delegate,e)}},{key:"set",value:function(e,t){t=pA("DocumentReference.set",t);try{return t?nA(this._delegate,e,t):nA(this._delegate,e)}catch(n){throw SA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?rA(this._delegate,e):rA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw SA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return oA(tC(e.firestore,VC),[new Cw(e._key,dw.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TA(n),a=CA(n,(function(t){return new NA(e.firestore,new QN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return iA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?eA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tC(e,uC);var t=tC(e.firestore,VC);return LC(BC(t),e._key,{source:"server"}).then((function(n){return uA(t,e,n)}))}(this._delegate):function(e){e=tC(e,uC);var t=tC(e.firestore,VC);return LC(BC(t),e._key).then((function(n){return uA(t,e,n)}))}(this._delegate),t.then((function(e){return new NA(n.firestore,new QN(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Eg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new uC(n._delegate,r,new Wg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new uC(n._delegate,r,t))}}]),e}();function SA(e,t,n){return e.message=e.message.replace(t,n),e}function TA(e){var t,n=Fi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!gA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function CA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=gA(e[0])?e[0]:gA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var NA=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"ref",get:function(){return new IA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return XN(this._delegate,e._delegate)}}]),e}(),AA=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||bg()}(void 0!==t),t}}]),n}(NA),OA=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new wA(t)}return p(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,AN(this._delegate,function(e,t,n){var r=t,i=TN("where",e);return new ON(i,r,n)}(t,n,r)))}catch(i){throw SA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,AN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=TN("orderBy",e);return new RN(n,t)}(t,n)))}catch(r){throw SA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,AN(this._delegate,function(e){return nC("limit",e),new DN("limit",e,"F")}(t)))}catch(n){throw SA(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,AN(this._delegate,function(e){return nC("limitToLast",e),new DN("limitToLast",e,"L")}(t)))}catch(n){throw SA(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,AN(this._delegate,LN.apply(void 0,arguments)))}catch(t){throw SA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,AN(this._delegate,MN.apply(void 0,arguments)))}catch(t){throw SA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,AN(this._delegate,FN.apply(void 0,arguments)))}catch(t){throw SA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,AN(this._delegate,UN.apply(void 0,arguments)))}catch(t){throw SA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return dC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?tA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tC(e,sC);var t=tC(e.firestore,VC),n=BC(t),r=new $N(t);return MC(n,e._query,{source:"server"}).then((function(n){return new JN(t,r,e,n)}))}(this._delegate):function(e){e=tC(e,sC);var t=tC(e.firestore,VC),n=BC(t),r=new $N(t);return CN(e._query),MC(n,e._query).then((function(n){return new JN(t,r,e,n)}))}(this._delegate),t.then((function(e){return new DA(n.firestore,new JN(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TA(n),a=CA(n,(function(t){return new DA(e.firestore,new JN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return iA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),RA=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new AA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),DA=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"query",get:function(){return new OA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new AA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new RA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new AA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return XN(this._delegate,e._delegate)}}]),e}(),PA=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return p(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new IA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new IA(this.firestore,void 0===e?fC(this._delegate):fC(this._delegate,e))}catch(t){throw SA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=tC(e.firestore,VC),r=fC(e),i=WN(e.converter,t);return oA(n,[oN(aN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,dw.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new IA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return hC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(EA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(OA);function LA(e){return tC(e,uC)}var MA=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E(JC,n)}return p(e,[{key:"isEqual",value:function(e){return(e=pa(e))instanceof JC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Kg.keyField().canonicalString())}}]),e}(),jA=function(){function e(t){h(this,e),this._delegate=t}return p(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new cN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new uN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=hA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=dA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new hN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),FA={Firestore:bA,GeoPoint:XC,Timestamp:Ug,Blob:mA,Transaction:xA,WriteBatch:_A,DocumentReference:IA,DocumentSnapshot:NA,Query:OA,QueryDocumentSnapshot:AA,QuerySnapshot:DA,CollectionReference:PA,FieldPath:MA,FieldValue:jA,setLogLevel:function(e){!function(e){pg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ga("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},FA)))}(e,(function(e,t){return new bA(e,t,new kA)})),e.registerVersion("@firebase/firestore-compat","0.2.3")}(zo);zo.initializeApp({apiKey:"AIzaSyAZXeITCpMt-LIM1SOJQ-zA8c2UdiaaPQE",authDomain:"tasty-test-df8ed.firebaseapp.com",projectId:"tasty-test-df8ed",storageBucket:"tasty-test-df8ed.appspot.com",messagingSenderId:"26376949922",appId:"1:26376949922:web:fe4b788a05bcf8fe8d87fb",measurementId:"G-R2RV5W7G30"});var UA={google:new zo.auth.GoogleAuthProvider},VA=zo.auth(),BA="Client",qA=function(){return(new Date).toISOString()},zA={info:function(e,t){"string"===typeof e?console.log("[".concat(qA(),"] [").concat(t||BA,"] [INFO] ").concat(e)):console.log("[".concat(qA(),"] [").concat(t||BA,"] [INFO]"),e)},warn:function(e,t){"string"===typeof e?console.log("[".concat(qA(),"] [").concat(t||BA,"] [WARN] ").concat(e)):console.log("[".concat(qA(),"] [").concat(t||BA,"] [WARN]"),e)},error:function(e,t){"string"===typeof e?console.log("[".concat(qA(),"] [").concat(t||BA,"] [ERROR] ").concat(e)):console.log("[".concat(qA(),"] [").concat(t||BA,"] [ERROR]"),e)}},KA="style_container__cesHZ",WA="style_inputContainer__MmZZU",GA="style_text__KXd1j",HA="style_darkText__QVATu",QA="style_linkLogin__+CFuV",ZA="style_darkLinkLogin__263X5",JA="style_textError__iaObs",YA="style_inputPasswordShow__uKU0f",XA="style_inputPasswordClose__TF2qS",$A=function(){var e=be(),n=(0,t.useContext)(BR),r=n.isDark,i=n.setUser,a=c((0,t.useState)(!1),2),o=(a[0],a[1]),u=c((0,t.useState)(""),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1],p=c((0,t.useState)(""),2),v=p[0],y=p[1],m=c((0,t.useState)(""),2),g=m[0],k=m[1],b=c((0,t.useState)(""),2),w=b[0],x=b[1],_=c((0,t.useState)(!0),2),E=_[0],I=_[1],S=function(t){""!==v&&y(""),o(!0),function(e){return new Promise((function(t,n){VA.signInWithPopup(e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(t).then((function(e){return zA.info(e),i(!0),console.log(e),e.user})).then((function(t){t&&(l("".concat(t.email)),e("/category"),localStorage.setItem("access",t.uid),localStorage.setItem("refresh",t.refreshToken))})).catch((function(e){zA.error(e),o(!1),y(e.message)}))};return(0,Je.jsxs)("div",{className:KA,children:[(0,Je.jsx)("div",{className:WA,children:(0,Je.jsx)(br,{label:"Email",value:s,onChange:function(e){var t=Ri(e.target.value);k(t||""),l(e.target.value)},uniqType:"inputForRegistration",type:"email",onBlur:function(){var e=Ri(s);k(e)},onFocus:function(){k("")},error:g})}),(0,Je.jsx)("div",{className:E?YA:XA,onClick:E?function(){I(!1)}:function(){I(!0)},children:(0,Je.jsx)(br,{uniqType:"inputForRegistration",label:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){var t=Di(e.target.value);x(t||""),d(e.target.value)},value:h,error:w,onBlur:function(){var e=Di(h);x(e)},onFocus:function(){x("")},type:E?"password":"text"})}),(0,Je.jsx)("p",{className:JA,children:v}),(0,Je.jsx)(Bt,{type:"btnCategory",onClick:function(){return""!==v&&y(""),o(!0),void VA.signInWithEmailAndPassword(s,h).then((function(t){return zA.info(t),i(!0),e("/category"),t.user})).then((function(e){e&&(localStorage.setItem("access",e.uid),localStorage.setItem("refresh",e.refreshToken))})).catch((function(e){zA.error(e),o(!1),y("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}))},label:"\u0412\u043e\u0439\u0442\u0438"}),(0,Je.jsx)(Bt,{label:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google",onClick:function(){return S(UA.google)},type:"btnGoogle"}),(0,Je.jsxs)("p",{className:"".concat(r?HA:GA),children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"," ",(0,Je.jsx)(qe,{to:"/resetpassword",className:"".concat(r?ZA:QA),children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},eO="style_container__QnQFB",tO="style_active_link__1w7qV",nO="style_darkActiveLink__CmxUL",rO="style_unactive__Fy6V4",iO="style_darkUnactive__075Q1",aO=function(e,t){return t?e?nO:tO:e?iO:rO},oO=function(){var e=(0,t.useContext)(BR).isDark;return(0,Je.jsxs)("div",{className:eO,children:[(0,Je.jsx)(ze,{to:"/login",className:function(t){var n=t.isActive;return aO(e,n)},children:"\u0412\u043e\u0439\u0442\u0438"}),(0,Je.jsx)("span",{children:"|"}),(0,Je.jsx)(ze,{to:"/registration",className:function(t){var n=t.isActive;return aO(e,n)},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})},uO=function(){return(0,Je.jsxs)(Tt,{children:[(0,Je.jsx)(Et,{}),(0,Je.jsx)(oO,{}),(0,Je.jsx)($A,{})]})},sO="style_container__jFjMJ",cO="style_inputContainer__v-Tg+",lO="style_inputPasswordShow__IZwKo",fO="style_inputPasswordClose__KUYWC",hO="style_text__NLbPf",dO="style_textError__jmOPO",pO="style_darkText__+CW9S",vO="style_linkLogin__dLzZL",yO="style_darkLinkLogin__ZHdnx",mO="style_darkTextError__fRHmZ",gO=function(){var e=(0,t.useContext)(BR).isDark,n=be(),r=wn((function(e){return e.categoryReducer.isLoading})),i=c((0,t.useState)(!1),2),a=(i[0],i[1]),o=c((0,t.useState)(""),2),u=o[0],s=o[1],l=c((0,t.useState)(""),2),f=l[0],h=l[1],d=c((0,t.useState)(""),2),p=d[0],v=d[1],y=c((0,t.useState)(""),2),m=y[0],g=y[1],k=c((0,t.useState)(""),2),b=k[0],w=k[1],x=c((0,t.useState)(""),2),_=x[0],E=x[1],I=c((0,t.useState)(""),2),S=I[0],T=I[1],C=c((0,t.useState)(!0),2),N=C[0],A=C[1];return(0,Je.jsx)("div",{className:sO,children:r?(0,Je.jsx)(ur,{}):(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{className:cO,children:(0,Je.jsx)(br,{label:"Email",onChange:function(e){var t=Ri(e.target.value);h(t||""),s(e.target.value)},value:u,uniqType:"inputForRegistration",type:"email",error:f,onBlur:function(){var e=Ri(u);h(e)},onFocus:function(){h("")}})}),(0,Je.jsx)("div",{className:N?lO:fO,onClick:N?function(){A(!1)}:function(){A(!0)},children:(0,Je.jsx)(br,{uniqType:"inputForRegistration",label:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){var t=Di(e.target.value);g(t||""),v(e.target.value)},value:p,error:m,onBlur:function(){var e=Di(p);g(e)},onFocus:function(){g("")},type:N?"password":"text"})}),(0,Je.jsx)("div",{className:cO,children:(0,Je.jsx)(br,{label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){var t=Pi(p,b);E(t||""),w(e.target.value)},value:b,uniqType:"inputForRegistration",error:_,onBlur:function(){var e=Pi(p,b);E(e)},onFocus:function(){E("")},type:"password"})}),(0,Je.jsx)("p",{className:"".concat(dO," ").concat(e?mO:""),children:S}),(0,Je.jsx)(Bt,{label:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",onClick:function(){return p!==b&&T("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430,\u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c \u0447\u0442\u043e \u0432\u0430\u0448\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),""!==S&&T(""),a(!0),void VA.createUserWithEmailAndPassword(u,p).then((function(e){zA.info(e),n("/login")})).catch((function(e){zA.error(e),e.code.includes("auth/weak-password")?T("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430,\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u043e\u043b\u0435\u0435 \u043d\u0430\u0434\u0451\u0436\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"):e.code.includes("auth/email-already-in-use")?T("\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f"):T("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f.\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"),a(!1)}))},type:"btnCategory"}),(0,Je.jsxs)("p",{className:"".concat(hO," ").concat(e?pO:""),children:["\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435"," ",(0,Je.jsx)(qe,{className:"".concat(vO," ").concat(e?yO:""),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},kO=function(){return(0,Je.jsxs)(Tt,{children:[(0,Je.jsx)(Et,{}),(0,Je.jsx)(oO,{}),(0,Je.jsx)(gO,{})]})},bO="style_container__KYKuj",wO="style_title__uXBSU",xO="style_darkTitle__QDlXy",_O="style_textContainer__BEPMe",EO=function(e){var n=e.title,r=e.children,i=e.onClick,a=e.labelBtn,o=(0,t.useContext)(BR).isDark;return(0,Je.jsxs)("div",{className:bO,children:[(0,Je.jsx)("h2",{className:"".concat(o?xO:wO),children:n}),(0,Je.jsx)("div",{className:_O,children:r}),(0,Je.jsx)(Bt,{label:"".concat(a),onClick:i,type:"btnCategory"})]})},IO="style_linkLogin__WNcvB",SO="style_darkLinkLogin__sR70B",TO="style_text__EKJ0U",CO="style_darkText__30XWg",NO="style_inputContainer__p5n-i",AO=function(){var e=(0,t.useContext)(BR).isDark,n=c((0,t.useState)(""),2),r=n[0],i=n[1],a=c((0,t.useState)(""),2),o=a[0],u=a[1],s=c((0,t.useState)(!1),2),l=(s[0],s[1]),f=c((0,t.useState)(!1),2),h=(f[0],f[1]),d=c((0,t.useState)(""),2),p=d[0],v=d[1];return(0,Je.jsxs)(Tt,{children:[(0,Je.jsx)(Et,{}),(0,Je.jsxs)(EO,{title:"\u0421\u0431\u0440\u043e\u0441 \u043f\u0430\u0440\u043e\u043b\u044f",labelBtn:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){return""!==p&&v(""),l(!0),void VA.sendPasswordResetEmail(r).then((function(){zA.info("send to email"),h(!0),l(!1),Ge.fn.info("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e \u0441\u043c\u0435\u043d\u0435 \u043f\u0430\u0440\u043e\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u043b\u0435\u043d\u043e \u0432\u0430\u043c \u043d\u0430 \u043f\u043e\u0447\u0442\u0443")})).catch((function(e){zA.error(e),Ge.fn.error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"),l(!1),i("")}))},children:[(0,Je.jsx)("p",{className:"".concat(e?CO:TO),children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 email"}),(0,Je.jsx)("div",{className:NO,children:(0,Je.jsx)(br,{value:r,uniqType:"inputForRegistration",onChange:function(e){var t=Ri(e.target.value);u(t||""),i(e.target.value)},label:"Email",type:"email",error:o})})]}),(0,Je.jsxs)("p",{className:"".concat(e?CO:TO),children:["\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a"," ",(0,Je.jsx)(qe,{className:"".concat(e?SO:IO),to:"/login",children:"\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})]})]})},OO="style_title__zk7jl",RO="style_container__QE1WE",DO="style_darkContainer__Wv1y2",PO=function(){var e=be(),n=we(),r=An(),i=wn((function(e){return e.categoryReducer.recipe})),a=(0,t.useContext)(BR).isDark;(0,t.useEffect)((function(){r(Yn([])),Rn(n.id).then((function(e){var t=n.id;Number(t),r(Yn(e[Number(t)]))}))}),[]);var o=function(){e(-1)};return(0,Je.jsx)("div",{className:"".concat(a?DO:RO),children:0!==i.length?i.map((function(e){return(0,Je.jsxs)("div",{children:[(0,Je.jsx)(Et,{}),(0,Je.jsx)(Tr,{onClick:o}),(0,Je.jsx)("h2",{className:OO,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u043e\u0432"}),(0,Je.jsx)(li,{id:e.id,ingredients:e.ingredients,onClickDelete:function(){}},e.id)]},e.id)})):""})},LO="style_container__oHjjz",MO="style_btnContainer__uh88e",jO="style_btn__1Z4QJ",FO=function(){var e=be();return(0,Je.jsx)("div",{className:LO,children:(0,Je.jsx)("div",{className:MO,children:(0,Je.jsx)("button",{onClick:function(){e("/")},className:jO,children:"\u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})})},UO="style_mainContainer__Ptfdi",VO="style_darkContainer__Qy++Q",BO="style_title__Gb-KD",qO="style_emptyList__M-ztD",zO="style_container__S04Sv",KO="style_containerIngredient__TZRAq",WO="style_darkContainerIngredient__9VpDF",GO="style_ingredientsItem__vMySY",HO="style_darkItem__1efYH",QO="style_btnContainer__DSetD",ZO=function(){var e=be(),n=An(),r=(0,t.useContext)(BR).isDark,i=wn((function(e){return e.categoryReducer.localItems})),a=c((0,t.useState)(!1),2),o=a[0],u=a[1],s=[],l=localStorage.getItem("shopList");(0,t.useEffect)((function(){l&&(s=JSON.parse(l),n(Qn(s)),u(!0))}),[]);return(0,Je.jsxs)("div",{className:"".concat(r?VO:UO),children:[(0,Je.jsx)(Et,{}),(0,Je.jsx)("div",{className:QO,children:(0,Je.jsx)(Bt,{label:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){e(-1)},type:"btnBack"})}),(0,Je.jsx)("h2",{className:BO,children:"\u041c\u043e\u0439 \u0448\u043e\u043f\u043f\u0438\u043d\u0433 \u043b\u0438\u0441\u0442"}),o?(0,Je.jsxs)("div",{className:zO,children:[i.map((function(e,t){return(0,Je.jsxs)("div",{className:"".concat(r?WO:KO),children:[(0,Je.jsx)("p",{className:"".concat(GO," ").concat(r?HO:GO),children:e}),(0,Je.jsx)(Bt,{label:"X",onClick:function(){!function(e){var t=null===i||void 0===i?void 0:i.filter((function(t){return t!==e}));n(Qn(t)),localStorage.setItem("shopList",JSON.stringify(t)),0===t.length&&(localStorage.removeItem("shopList"),u(!1))}(e)},type:"btnDelete"})]},t)})),(0,Je.jsx)(Bt,{label:"\u041a\u0443\u043f\u0438\u0442\u044c",onClick:function(){e("/shop")},type:"btnBuy"})]}):(0,Je.jsx)("h3",{className:qO,children:"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442..."})]})},JO="style_counter__H0dR6",YO="style_btn__Iluef",XO="style_count__zpBO4",$O=function(e){return(0,Je.jsxs)("div",{className:JO,children:[(0,Je.jsx)("button",{className:YO,onClick:function(){return e.decrement(e.id)},children:"-"}),(0,Je.jsx)("p",{className:XO,children:e.count}),(0,Je.jsx)("button",{className:YO,onClick:function(){return e.increment(e.id)},children:"+"})]})},eR="style_deleteBtn__9swfx",tR="style_delete__DgMlG",nR="style_deleteText__kWMZM",rR="style_container__0neyy",iR="style_forBtnBack__qk-Jz",aR="style_fullSum__RoKkc",oR="style_summa__A3nSy",uR="style_totalPrice__W4lns",sR="style_containerItem__Rlczo",cR="style_darkContainerItem__QNKCY",lR="style_imageContainer__q2H8t",fR="style_imgProduct__TPDgC",hR="style_containerPrice__5znz1",dR="style_productTitle__GMgEC",pR="style_productPrice__P0DiI",vR="style_sum__2d7JG",yR="style_productQuantity__pN1Fs",mR="style_darkProductTitle__CspIB",gR="style_darkProductPrice__7KWMK",kR="style_darkSum__VcE8n",bR="style_darkProductQuantity__EJBKP",wR="style_forBtnDelete__PS2dQ",xR=function(e){return e.reduce((function(e,t){return e+t.price}),0)},_R=function(){var e=be(),n=An(),r=(0,t.useContext)(BR).isDark,i=c((0,t.useState)(1),2),a=i[0],o=i[1],u=wn((function(e){return e.categoryReducer.shopItems})),s=wn((function(e){return e.categoryReducer.totalPrice}));(0,t.useEffect)((function(){n(er())}),[]);var l=function(e){console.log(a),u.forEach((function(t){t.id===e&&(++t.count,o(t.count),n(Xn(xR(u))))}))},f=function(e){u.forEach((function(t){if(t.id===e){if(!(t.count-1>=0))return!1;--t.count,o(t.count),n(Xn(xR(u)))}}))};return(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{className:iR,children:(0,Je.jsx)(Bt,{label:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){e(-1)},type:"btnBack"})}),(0,Je.jsx)("div",{className:aR,children:(0,Je.jsxs)("p",{className:oR,children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430 ",(0,Je.jsx)("span",{className:uR,children:s}),(0,Je.jsx)("span",{className:oR,children:"\u0440\u0443\u0431."})]})}),u?(0,Je.jsx)("div",{className:rR,children:u.map((function(e){return(0,Je.jsxs)("div",{className:"".concat(r?cR:sR),children:[(0,Je.jsx)("div",{className:wR,children:(0,Je.jsxs)("button",{className:eR,onClick:function(){!function(e){var t=u.filter((function(t){return t.id!==e}));n(Hn(t)),n(Xn(xR(t)))}(e.id)},children:[(0,Je.jsx)("span",{className:tR}),(0,Je.jsx)("p",{className:nR,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}),(0,Je.jsx)("div",{className:lR,children:(0,Je.jsx)("img",{className:fR,src:e.image})}),(0,Je.jsxs)("div",{className:hR,children:[(0,Je.jsxs)("h4",{className:"".concat(r?mR:dR),children:[e.title," "]}),(0,Je.jsxs)("p",{className:"".concat(r?gR:pR),children:[e.price,(0,Je.jsx)("span",{className:"".concat(r?kR:vR),children:"\u0440\u0443\u0431."})]}),(0,Je.jsx)("p",{className:"".concat(r?bR:yR),children:e.quantity}),(0,Je.jsx)($O,{count:e.count,id:e.id,increment:l,decrement:f})]})]},e.id)}))}):null,(0,Je.jsx)(Bt,{label:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443",onClick:function(){e("/delivery")},type:"btnBuy"})]})},ER=function(){return(0,Je.jsxs)(ri,{children:[(0,Je.jsx)(Et,{}),(0,Je.jsx)(_R,{})]})},IR="style_container__M1hk3",SR="style_address__YVvBh",TR="style_pay__sL13C",CR="style_title__Kq034",NR="style_inputContainer__q2Eje",AR=function(){var e=be(),n=An(),r=c((0,t.useState)(""),2),i=r[0],a=r[1],o=c((0,t.useState)(""),2),u=o[0],s=o[1],l=c((0,t.useState)(""),2),f=l[0],h=l[1],d=c((0,t.useState)(""),2),p=d[0],v=d[1],y=c((0,t.useState)(""),2),m=y[0],g=y[1],k=c((0,t.useState)(""),2),b=k[0],w=k[1],x=c((0,t.useState)(""),2),_=x[0],E=x[1],I=c((0,t.useState)(""),2),S=I[0],T=I[1],C=c((0,t.useState)(""),2),N=C[0],A=C[1],O=c((0,t.useState)(""),2),R=O[0],D=O[1];return(0,Je.jsxs)("div",{className:IR,children:[(0,Je.jsxs)("div",{className:SR,children:[(0,Je.jsx)("h3",{className:CR,children:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Je.jsx)("div",{className:NR,children:(0,Je.jsx)(br,{uniqType:"inputForRegistration",label:"\u0413\u043e\u0440\u043e\u0434/\u0423\u043b\u0438\u0446\u0430",onChange:function(e){var t=Oi(e.target.value);w(t||""),a(e.target.value)},placeholder:"\u0433\u043e\u0440\u043e\u0434/\u0443\u043b\u0438\u0446\u0430",error:b,onBlur:function(){var e=Oi(i);w(e)},onFocus:function(){w("")}})}),(0,Je.jsx)("div",{className:NR,children:(0,Je.jsx)(br,{uniqType:"delivery",label:"\u0414\u043e\u043c/\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",onChange:function(e){var t=Li(e.target.value);E(t||""),s(e.target.value)},onFocus:function(){E("")},onBlur:function(){var e=Li(u);E(e)},error:_,placeholder:"\u0434\u043e\u043c/\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"})}),(0,Je.jsx)("div",{className:NR,children:(0,Je.jsx)(br,{uniqType:"delivery",label:"\u041f\u043e\u0434\u044a\u0435\u0437\u0434/\u042d\u0442\u0430\u0436",onChange:function(e){var t=Li(e.target.value);T(t||""),h(e.target.value)},placeholder:"\u043f\u043e\u0434\u044a\u0435\u0437\u0434/\u044d\u0442\u0430\u0436",onFocus:function(){T("")},onBlur:function(){var e=Li(f);T(e)},error:S})}),(0,Je.jsx)("div",{className:NR,children:(0,Je.jsx)(br,{uniqType:"delivery",label:"\u0414\u0430\u0442\u0430",type:"date",onChange:function(e){var t=Oi(e.target.value);A(t||""),v(e.target.value)},onFocus:function(){A("")},onBlur:function(){var e=Oi(p);A(e)},error:N})}),(0,Je.jsx)("div",{className:NR,children:(0,Je.jsx)(br,{uniqType:"delivery",label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",type:"tel",onChange:function(e){var t=Mi(e.target.value);D(t||""),g(e.target.value)},onBlur:function(){var e=Mi(m);D(e)},onFocus:function(){D("")},error:R,placeholder:"+375xx-xxx-xx-xx"})})]}),(0,Je.jsxs)("div",{className:TR,children:[(0,Je.jsx)("h3",{className:CR,children:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"}),(0,Je.jsx)("div",{className:NR,children:(0,Je.jsx)(br,{uniqType:"radio",forRadio:"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438",type:"radio",name:"pay"})}),(0,Je.jsx)("div",{className:NR,children:(0,Je.jsx)(br,{uniqType:"radio",forRadio:"\u041a\u0430\u0440\u0442\u043e\u0439 \u043a\u0443\u0440\u044c\u0435\u0440\u0443",type:"radio",name:"pay"})})]}),(0,Je.jsx)(Bt,{label:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",onClick:function(){Ge.fn.success("\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d.\u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435 \u0437\u0432\u043e\u043d\u043a\u0430 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430"),e("/category"),localStorage.removeItem("shopList"),n(Qn([]))},type:"btnBuy"})]})},OR=function(){return(0,Je.jsxs)(Tt,{children:[(0,Je.jsx)(Et,{}),(0,Je.jsx)(AR,{})]})},RR=function(){return(0,Je.jsxs)(Pe,{children:[(0,Je.jsx)(Re,{path:"/",element:(0,Je.jsx)(Ii,{})}),(0,Je.jsx)(Re,{path:"/category",element:(0,Je.jsx)(ei,{})}),(0,Je.jsx)(Re,{path:"/selected_category/:id",element:(0,Je.jsx)(xi,{})}),(0,Je.jsx)(Re,{path:"/selected_recipe/:id/",element:DR((0,Je.jsx)(wi,{}))}),(0,Je.jsx)(Re,{path:"/saverecipe",element:(0,Je.jsx)(Hr,{})}),(0,Je.jsx)(Re,{path:"/shoppinglist/:id",element:(0,Je.jsx)(PO,{})}),(0,Je.jsx)(Re,{path:"/myshoplist",element:(0,Je.jsx)(ZO,{})}),(0,Je.jsx)(Re,{path:"/shop",element:(0,Je.jsx)(ER,{})}),(0,Je.jsx)(Re,{path:"/delivery",element:(0,Je.jsx)(OR,{})}),(0,Je.jsx)(Re,{path:"/login",element:(0,Je.jsx)(uO,{})}),(0,Je.jsx)(Re,{path:"/registration",element:(0,Je.jsx)(kO,{})}),(0,Je.jsx)(Re,{path:"/resetpassword",element:(0,Je.jsx)(AO,{})}),(0,Je.jsx)(Re,{path:"*",element:(0,Je.jsx)(FO,{})})]})},DR=function(e){return(0,t.useContext)(BR).user?e:(0,Je.jsx)(Oe,{to:"/login"})},PR=n(781),LR=n(484);function MR(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var jR=MR();jR.withExtraArgument=MR;var FR=jR,UR={allCategories:[],isLoading:!1,likedRecipes:[],savedRecipes:[],recipiesOfSelectedCategory:[],shopItems:[],localItems:[],showLoadMore:!0,page:1,recipe:[],totalPrice:0},VR=(0,PR.jB)((0,PR.UY)({categoryReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UR,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case zn:var r=t.shopItems.reduce((function(e,t){return e+t.price*t.count}),0);return(0,Ra.Z)((0,Ra.Z)({},t),{},{totalPrice:r.toFixed(2)});case Dn:return(0,Ra.Z)((0,Ra.Z)({},t),{},{allCategories:n.categories});case Pn:return(0,Ra.Z)((0,Ra.Z)({},t),{},{isLoading:n.isLoading});case Vn:return(0,Ra.Z)((0,Ra.Z)({},t),{},{showLoadMore:n.showLoadMore});case Un:return(0,Ra.Z)((0,Ra.Z)({},t),{},{localItems:n.productsFromLocal});case Bn:return(0,Ra.Z)((0,Ra.Z)({},t),{},{page:n.page});case Fn:return(0,Ra.Z)((0,Ra.Z)({},t),{},{shopItems:n.productsFromShop});case jn:var i=null===(e=n.recipiesOfSelectedCategory)||void 0===e?void 0:e.map((function(e){return t.likedRecipes.find((function(t){return t.id===e.id?t:null}))&&(e.liked=!0),t.savedRecipes.find((function(t){return t.id===e.id?t:null}))&&(e.saved=!0),e}));return(0,Ra.Z)((0,Ra.Z)({},t),{},{recipiesOfSelectedCategory:i});case Ln:var a=n.recipes,o=a.liked?t.likedRecipes.filter((function(e){return e.id!==a.id})):t.likedRecipes.concat([(0,Ra.Z)((0,Ra.Z)({},a),{},{liked:!0})]),u=t.recipiesOfSelectedCategory.map((function(e){return e.id===n.recipes.id&&(e.liked=!e.liked),e}));return(0,Ra.Z)((0,Ra.Z)({},t),{},{likedRecipes:o,recipiesOfSelectedCategory:u});case Mn:var s=n.recipes,c=s.saved?t.savedRecipes.filter((function(e){return e.id!==s.id})):t.savedRecipes.concat([(0,Ra.Z)((0,Ra.Z)({},s),{},{saved:!0})]),l=t.recipiesOfSelectedCategory.map((function(e){return e.id===n.recipes.id&&(e.saved=!e.saved),e}));return(0,Ra.Z)((0,Ra.Z)({},t),{},{savedRecipes:c,recipiesOfSelectedCategory:l});case qn:return(0,Ra.Z)((0,Ra.Z)({},t),{},{recipe:n.recipe});default:return t}}}),(0,LR.Uo)((0,PR.md)(FR))),BR=(0,t.createContext)({isDark:!1,setIsDark:function(){},user:!1,setUser:function(){}}),qR=localStorage.getItem("access");var zR=function(){var e=(0,t.useState)(function(){var e=localStorage.getItem("isDark");return!!e&&JSON.parse(e)}()),n=c(e,2),r=n[0],i=n[1],a=c((0,t.useState)(!1),2),o=a[0],u=a[1],s=c((0,t.useState)(!0),2),l=s[0],f=s[1];return(0,t.useEffect)((function(){VA.onAuthStateChanged((function(e){e?zA.info("User detected."):zA.info("No user detected."),f(!1)}))}),[]),(0,t.useEffect)((function(){qR&&u(!0)}),[]),(0,t.useEffect)((function(){localStorage.setItem("isDark",String(r))}),[r]),(0,Je.jsx)("div",{className:"App",children:(0,Je.jsx)(In,{store:VR,children:(0,Je.jsxs)(Be,{children:[(0,Je.jsx)(BR.Provider,{value:{isDark:r,setIsDark:i,user:o,setUser:u},children:l?(0,Je.jsx)(ur,{}):(0,Je.jsx)(RR,{})}),(0,Je.jsx)(Ge.mh,{})]})})})},KR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,Je.jsx)(t.StrictMode,{children:(0,Je.jsx)(zR,{})})),KR()}()}();
//# sourceMappingURL=main.d5640b1e.js.map